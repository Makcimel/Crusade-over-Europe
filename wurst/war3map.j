//===========================================================================
// 
// Crusade over Europe 0.146
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Sun Dec 23 23:01:50 2018
//   Map Author: S02
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************

globals
    // User-defined
    unit                    udg_anyunit                = null
    group array             udg_Loadableunits
    player array            udg_attackkedunit
    location                udg_Temp_Point2            = null
    force                   udg_Temp_Player            = null
    group                   udg_Hunger                 = null
    force                   udg_tempPlayer             = null
    group                   udg_settlementdel          = null
    group                   udg_cleric                 = null
    group                   udg_clerictarget           = null
    force                   udg_winners                = null
    force                   udg_Defeated               = null
    force                   udg_Wondervisible          = null
    timer                   udg_WonderTimer            = null
    timerdialog             udg_TimerWindow            = null
    force                   udg_StartNeutral           = null
    group                   udg_Wonders                = null
    group                   udg_Supplyhorses           = null
    location                udg_Temp_Point             = null
    location                udg_Spawnpoint             = null
    group                   udg_Settler                = null
    location                udg_Wonderpoint            = null
    location                udg_Wonderping             = null
    force                   udg_Crusaders              = null
    location                udg_Francewonder           = null
    location                udg_Scanwonder             = null
    location                udg_Turkwonder             = null
    location                udg_Jerusalem              = null
    location                udg_Vatican                = null
    group                   udg_Nodestwonder           = null
    group                   udg_Nodestfoundation       = null
    group                   udg_Nodestalliancecont     = null
    group                   udg_Nodestreligion         = null
    group                   udg_Nodestjerusalem        = null
    group                   udg_Nodestjerusalemjih     = null
    group                   udg_Nodestvat              = null
    group                   udg_Nodestvatcru           = null
    location                udg_Crusadearea            = null
    group                   udg_Nodestcru              = null
    group                   udg_Changereligiongrand    = null
    group                   udg_Changereligionchurch   = null
    group                   udg_Religionchange         = null
    group                   udg_Changerelg             = null
    group                   udg_Supplywagon            = null
    location                udg_Zombiespawn            = null
    unit                    udg_Infected               = null
    group                   udg_NoWonder               = null
    group                   udg_Kodo                   = null
    group                   udg_undeadtransport        = null
    location                udg_Masspoint              = null
    group                   udg_Massunit               = null
    unit                    udg_Masstarget             = null
    location                udg_Massunitpoint          = null
    group                   udg_Massunit2              = null
    location                udg_startcapitol           = null
    timer                   udg_Income                 = null
    integer array           udg_PlayerGold
    integer array           udg_PlayerRegions
    force                   udg_AllPlayerUnits         = null
    integer array           udg_PlayerTax
    location                udg_ConvertPoint           = null
    location                udg_ConvertPoint2          = null
    group                   udg_TownHallTax            = null
    integer array           udg_THTax
    integer array           udg_Unhappiness
    force                   udg_PlayerRiot             = null
    location                udg_RiotPoint              = null
    group                   udg_UnhappinessZ           = null
    group                   udg_TaxPeasant             = null
    group                   udg_DiploPick              = null
    group                   udg_TaxRegion              = null
    location                udg_GHoriTP                = null
    location                udg_GHoriBP                = null
    location                udg_GVertLP                = null
    location                udg_GVertRP                = null
    rect                    udg_GHoriDetectCenter      = null
    rect                    udg_GHoriTopDetect         = null
    rect                    udg_GHoriBottomDetect      = null
    rect                    udg_GVertDetectCenter      = null
    rect                    udg_GVertDetectLeft        = null
    rect                    udg_GVertDetectRight       = null
    group                   udg_GateMovingUnits1       = null
    group                   udg_GateMovingUnits2       = null
    group                   udg_UNHAPPINESS_SYNC1      = null
    group                   udg_UNHAPPINESS_SYNC2      = null
    group                   udg_UNHAPPINESS_SYNC3      = null
    group                   udg_UNHAPPINESS_SYNC5      = null
    group                   udg_UNHAPPINESS_SYNC4      = null
    group                   udg_UNHAPPINESS_SYNC6      = null
    group                   udg_UNHAPPINESS_SYNC7      = null
    group                   udg_UNHAPPINESS_SYNC9      = null
    group                   udg_UNHAPPINESS_SYNC8      = null
    group                   udg_UNHAPPINESS_SYNC10     = null
    group                   udg_UNHAPPINESS_SYNC11     = null
    group                   udg_UNHAPPINESS_SYNC12     = null
    location                udg_Iron_Point             = null
    group                   udg_TownHallTax2           = null
    integer array           udg_THTax2
    integer array           udg_Unhappiness2
    location                udg_RiotPointPoint         = null
    location                udg_RiotPoint2             = null
    location                udg_PublicOrderPoint       = null
    location                udg_PublicOrderPoint2      = null
    group                   udg_BuildingRangeCheck     = null
    location                udg_BuildingRangeCheckPoint = null
    integer array           udg_THTaxChurch
    integer array           udg_THTaxCastle
    integer array           udg_THTax3
    integer array           udg_Unhappiness3
    location                udg_CapitolSpawn           = null
    group                   udg_TownHallTax3PEASANT    = null
    group                   udg_Unrest1                = null
    group                   udg_Unrest2                = null
    group                   udg_Unrest3                = null
    group                   udg_UNHAPPINESS_SYNC99     = null
    location                udg_SpawnFactionPeasant    = null
    force                   udg_UnrestCheckPlayer      = null
    location                udg_ChurchEnter            = null
    force                   udg_StartNeutral2          = null
    integer array           udg_TaxUnrest
    integer array           udg_SettlementsTotal1
    integer array           udg_TaxUnrest2
    group                   udg_Supplyhorses2          = null
    location                udg_TradePoint             = null
    location                udg_RiotPointOffset        = null
    location                udg_RiotPointOffset2       = null
    group                   udg_RevoltingTH            = null
    group                   udg_RevoltingCH            = null
    location                udg_RiotPing               = null
    group                   udg_PlayerLeaveUnits       = null
    location                udg_THDEATH                = null
    group                   udg_TownName               = null
    location                udg_TownNamePoint          = null

    // Generated
    rect                    gg_rct_SHIP_Lower_Nile     = null
    rect                    gg_rct_SHIP_Nile_2         = null
    rect                    gg_rct_SHIP_Upper_Nile     = null
    rect                    gg_rct_SHIP_Thames         = null
    rect                    gg_rct_MANA_METER          = null
    rect                    gg_rct_Tax_Region          = null
    rect                    gg_rct_HoriDetect_1000x200 = null
    rect                    gg_rct_HoriTop_500x200     = null
    rect                    gg_rct_HoriBottom          = null
    rect                    gg_rct_VertDetect          = null
    rect                    gg_rct_VertLeft            = null
    rect                    gg_rct_VertRight           = null
    rect                    gg_rct_Iron_Region         = null
    rect                    gg_rct_UnhappinessPeasant  = null
    rect                    gg_rct_CITY_WE_Burgh       = null
    rect                    gg_rct_CITY_WE_Cardiff     = null
    rect                    gg_rct_CITY_WE_Galway      = null
    rect                    gg_rct_CITY_WE_Zagreb      = null
    rect                    gg_rct_CITY_WE_Ragusa      = null
    rect                    gg_rct_CITY_BYZ_Durrazo    = null
    rect                    gg_rct_CITY_BYZ_Adrianopolis = null
    rect                    gg_rct_CITY_Byz_Thessalonika = null
    rect                    gg_rct_CITY_BYZ_Constantinople = null
    rect                    gg_rct_CITY_WE_Warwick     = null
    rect                    gg_rct_CITY_BYZ_Scopia     = null
    rect                    gg_rct_CITY_WE_Vienna      = null
    rect                    gg_rct_CITY_WE_Prague      = null
    rect                    gg_rct_CITY_WE_Esztergom   = null
    rect                    gg_rct_CITY_WE_Stettin     = null
    rect                    gg_rct_CITY_WE_Krakow      = null
    rect                    gg_rct_CITY_WE_Wroclaw     = null
    rect                    gg_rct_CITY_EE_Constanta   = null
    rect                    gg_rct_CITY_EE_Targoviste  = null
    rect                    gg_rct_CITY_WE_Brasov      = null
    rect                    gg_rct_CITY_WE_Belgrade    = null
    rect                    gg_rct_CITY_WE_Flensburg   = null
    rect                    gg_rct_CITY_WE_Roskilde    = null
    rect                    gg_rct_CITY_WE_Aarhus      = null
    rect                    gg_rct_CITY_WE_Madgeburg   = null
    rect                    gg_rct_CITY_EE_Sofia       = null
    rect                    gg_rct_CITY_WE_Plock       = null
    rect                    gg_rct_CITY_WE_Poznan      = null
    rect                    gg_rct_CITY_WE_Kassa       = null
    rect                    gg_rct_CITY_WE_Varad       = null
    rect                    gg_rct_CITY_EE_Konigsberg  = null
    rect                    gg_rct_CITY_EE_Riga        = null
    rect                    gg_rct_CITY_WE_Fictional_2 = null
    rect                    gg_rct_CITY_EE_Hrodna      = null
    rect                    gg_rct_Faction             = null
    rect                    gg_rct_Crusade             = null
    rect                    gg_rct_CITY_EE_Vilnius     = null
    rect                    gg_rct_CITY_EE_Caffa       = null
    rect                    gg_rct_CITY_EE_Pskov       = null
    rect                    gg_rct_CITY_EE_Reval       = null
    rect                    gg_rct_CITY_EE_Novgorod    = null
    rect                    gg_rct_CITY_EE_Polotsk     = null
    rect                    gg_rct_SHIP_Seine_River    = null
    rect                    gg_rct_SHIP_French_River   = null
    rect                    gg_rct_SHIP_Spannish_River = null
    rect                    gg_rct_SHIP_Spannish_River_2 = null
    rect                    gg_rct_SHIP_Spannish_River_3 = null
    rect                    gg_rct_SHIP_Spannish_River_4 = null
    rect                    gg_rct_SHIP_Danube_1       = null
    rect                    gg_rct_SHIP_Danube_2       = null
    rect                    gg_rct_SHIP_Swedish_Lake   = null
    rect                    gg_rct_CITY_EE_Halych      = null
    rect                    gg_rct_SHIP_River          = null
    rect                    gg_rct_SHIP_Region_Giant   = null
    rect                    gg_rct_SHIP_River_GIANT    = null
    rect                    gg_rct_CITY_WE_Groningen   = null
    rect                    gg_rct_CITY_ME_Tunis       = null
    rect                    gg_rct_CITY_EE_Azaq        = null
    rect                    gg_rct_CITY_EE_Kiev        = null
    rect                    gg_rct_CITY_EE_Minsk       = null
    rect                    gg_rct_CITY_EE_Smolensk    = null
    rect                    gg_rct_SHIP_Caspian_Sea_and_Mesapotamia = null
    rect                    gg_rct_CITY_ME_Sinop       = null
    rect                    gg_rct_CITY_ME_Isparta     = null
    rect                    gg_rct_CITY_ME_Kayseri     = null
    rect                    gg_rct_CITY_ME_Adana       = null
    rect                    gg_rct_CITY_ME_Konya       = null
    rect                    gg_rct_CITY_ME_Antioch     = null
    rect                    gg_rct_CITY_BYZ_Trebizond  = null
    rect                    gg_rct_CITY_BYZ_Nicosia    = null
    rect                    gg_rct_CITY_ME_JERUSALEM   = null
    rect                    gg_rct_CITY_ME_Edessa      = null
    rect                    gg_rct_CITY_BYZ_Smyrna     = null
    rect                    gg_rct_CITY_ME_Ankara      = null
    rect                    gg_rct_CITY_BYZ_Nicae      = null
    rect                    gg_rct_CITY_ME_Fes         = null
    rect                    gg_rct_CITY_ME_Oran        = null
    rect                    gg_rct_CITY_ME_Algiers     = null
    rect                    gg_rct_CITY_ME_Mahdya      = null
    rect                    gg_rct_CITY_ME_Tripoli     = null
    rect                    gg_rct_CITY_ME_Benghazi    = null
    rect                    gg_rct_SHIP_Lake_Egypt     = null
    rect                    gg_rct_CITY_ME_Medina      = null
    rect                    gg_rct_CITY_ME_Alexandria  = null
    rect                    gg_rct_CITY_ME_Damietta    = null
    rect                    gg_rct_CITY_ME_Cairo       = null
    rect                    gg_rct_CITY_EE_Timutarakan = null
    rect                    gg_rct_CITY_EE_Baia        = null
    rect                    gg_rct_CITY_EE_Zhytomyr    = null
    rect                    gg_rct_CITY_EE_Oleshe      = null
    rect                    gg_rct_CITY_EE_Dnipro      = null
    rect                    gg_rct_CITY_EE_Moscow      = null
    rect                    gg_rct_CITY_EE_Bryansk     = null
    rect                    gg_rct_CITY_ME_Yerevan     = null
    rect                    gg_rct_CITY_EE_Sarkel      = null
    rect                    gg_rct_CITY_BYZ_Kutaisi    = null
    rect                    gg_rct_CITY_BYZ_Tbilisi    = null
    rect                    gg_rct_CITY_ME_Damascus    = null
    rect                    gg_rct_CITY_ME_Tartus      = null
    rect                    gg_rct_CITY_ME_Gaza        = null
    rect                    gg_rct_CITY_ME_Mosul       = null
    rect                    gg_rct_CITY_ME_Acre        = null
    rect                    gg_rct_CITY_ME_Al_Aqaba    = null
    rect                    gg_rct_CITY_ME_Quarisiya   = null
    rect                    gg_rct_CITY_ME_Tamiya      = null
    rect                    gg_rct_CITY_ME_Diyarbakir  = null
    rect                    gg_rct_CITY_ME_Erez        = null
    rect                    gg_rct_SHIP_Lake_Africa    = null
    rect                    gg_rct_SHIP_Mesapotamia    = null
    rect                    gg_rct_SHIP_Ankara_Lake    = null
    rect                    gg_rct_SHIP_Italy          = null
    rect                    gg_rct_CITY_WE_Salzburg    = null
    rect                    gg_rct_CITY_WE_Innsbruck   = null
    rect                    gg_rct_CITY_WE_Cologne     = null
    rect                    gg_rct_CITY_WE_Frankfurt   = null
    rect                    gg_rct_Hamburg_CITY        = null
    rect                    gg_rct_CITY_ME_Palma       = null
    rect                    gg_rct_WHAT_IS_THIS_CITY   = null
    rect                    gg_rct_CITY_EE_Astrakhan   = null
    rect                    gg_rct_CITY_EE_Ryazan      = null
    rect                    gg_rct_CITY_WE_Edinburgh   = null
    rect                    gg_rct_CITY_WE_Aberdeen    = null
    rect                    gg_rct_CITY_WE_Inverness   = null
    rect                    gg_rct_CITY_WE_York        = null
    rect                    gg_rct_CITY_WE_Dublin      = null
    rect                    gg_rct_CITY_WE_Ireland     = null
    rect                    gg_rct_CITY_WE_Caernarfon  = null
    rect                    gg_rct_CITY_WE_London      = null
    rect                    gg_rct_CITY_WE_Winchester  = null
    rect                    gg_rct_CITY_WE_Exeter      = null
    rect                    gg_rct_CITY_WE_Caen        = null
    rect                    gg_rct_CITY_WE_Rheims      = null
    rect                    gg_rct_CITY_WE_Paris       = null
    rect                    gg_rct_CITY_WE_Dijon       = null
    rect                    gg_rct_CITY_WE_Clermont    = null
    rect                    gg_rct_CITY_WE_Toulouse    = null
    rect                    gg_rct_CITY_WE_Bordeaux    = null
    rect                    gg_rct_CITY_WE_Zaragoza    = null
    rect                    gg_rct_CITY_WE_Barcelona   = null
    rect                    gg_rct_CITY_WE_Leon        = null
    rect                    gg_rct_CITY_WE_Burgos      = null
    rect                    gg_rct_CITY_ME_Madrid      = null
    rect                    gg_rct_CITY_WE_Salamanca   = null
    rect                    gg_rct_CITY_ME_Lisbon      = null
    rect                    gg_rct_CITY_WE_Pamplona    = null
    rect                    gg_rct_CITY_WE_Marseille   = null
    rect                    gg_rct_CITY_WE_Bruges      = null
    rect                    gg_rct_CITY_WE_Antwerp     = null
    rect                    gg_rct_CITY_WE_Genoa       = null
    rect                    gg_rct_CITY_WE_Milan       = null
    rect                    gg_rct_CITY_WE_Venice      = null
    rect                    gg_rct_CITY_WE_Bologna     = null
    rect                    gg_rct_CITY_WE_Pisa        = null
    rect                    gg_rct_CITY_WE_Ancona      = null
    rect                    gg_rct_CITY_WE_Rome        = null
    rect                    gg_rct_CITY_ME_Granada     = null
    rect                    gg_rct_CITY_ME_Cordoba     = null
    rect                    gg_rct_CITY_ME_Murcia      = null
    rect                    gg_rct_CITY_ME_Valencia    = null
    rect                    gg_rct_CITY_WE_Nuremburg   = null
    rect                    gg_rct_CITY_WE_Bern        = null
    rect                    gg_rct_CITY_WE_Lyon        = null
    rect                    gg_rct_CITY_WE_Lund        = null
    rect                    gg_rct_CITY_WE_Skara       = null
    rect                    gg_rct_CITY_WE_Oslo        = null
    rect                    gg_rct_CITY_WE_Eikundarsund = null
    rect                    gg_rct_CITY_WE_Bergen      = null
    rect                    gg_rct_CITY_WE_Visby       = null
    rect                    gg_rct_CITY_WE_Nykoping    = null
    rect                    gg_rct_CITY_ME_Silves      = null
    rect                    gg_rct_CITY_ME_Marakesh    = null
    rect                    gg_rct_CITY_ME_Luxor       = null
    rect                    gg_rct_CITY_WE_Rennes      = null
    rect                    gg_rct_CITY_WE_Angers      = null
    rect                    gg_rct_CITY_WE_Ajaccio     = null
    rect                    gg_rct_CITY_WE_Cagliari    = null
    rect                    gg_rct_CITY_WE_Naples      = null
    rect                    gg_rct_CITY_WE_Italy       = null
    rect                    gg_rct_CITY_WE_Bari        = null
    rect                    gg_rct_CITY_WE_Palermo     = null
    rect                    gg_rct_CITY_WE_Syracuse    = null
    rect                    gg_rct_CITY_WE_Metz        = null
    rect                    gg_rct_CITY_BYZ_Balkan     = null
    rect                    gg_rct_CITY_BYZ_Athens     = null
    rect                    gg_rct_CITY_BYZ_Rhodes     = null
    rect                    gg_rct_CITY_EE_Turku       = null
    rect                    gg_rct_CITY_BYZ_Fictional  = null
    rect                    gg_rct_CITY_ME_Badajoz     = null
    rect                    gg_rct_CITY_WE_Oporto      = null
    rect                    gg_rct_CITY_WE_Stockholm   = null
    rect                    gg_rct_CITY_WE_Kalmar      = null
    rect                    gg_rct_CITY_BYZ_Corinth    = null
    rect                    gg_rct_CITY_BYZ_Arta       = null
    rect                    gg_rct_CITY_BYZ_Candia     = null
    rect                    gg_rct_CITY_ME_Kerak       = null
    rect                    gg_rct_CITY_ME_Baghdad     = null
    rect                    gg_rct_CITY_BYZ_Canakkale  = null
    rect                    gg_rct_CITY_EE_Russia      = null
    rect                    gg_rct_CITY_WE_POLAND      = null
    sound                   gg_snd_Warning             = null
    trigger                 gg_trg_Melee_Initialization = null
    trigger                 gg_trg_F9                  = null
    trigger                 gg_trg_Riot_OPTIMIZED      = null
    trigger                 gg_trg_Rioting_Spreading_FIXED = null
    trigger                 gg_trg_Public_Order_Stabilize_START = null
    trigger                 gg_trg_Public_Order_Stabilize_END = null
    trigger                 gg_trg_Church_Unrest_Reduction_50 = null
    trigger                 gg_trg_Inn_Unrest_Reduction_10 = null
    trigger                 gg_trg_Cathedral_Unrest_Reduction_100 = null
    trigger                 gg_trg_University_Unrest_Reduction_75 = null
    trigger                 gg_trg_University_Unrest_Destruction_75 = null
    trigger                 gg_trg_Church_Unrest_Destruction_50 = null
    trigger                 gg_trg_Inn_Unrest_Destruction_10 = null
    trigger                 gg_trg_Cathedral_Unrest_Destruction_100 = null
    trigger                 gg_trg_Initial_Tally_12P   = null
    trigger                 gg_trg_Capturing_Ore_15g   = null
    trigger                 gg_trg_Capturing_Ore_25g   = null
    trigger                 gg_trg_Capturing_Ore_40g   = null
    trigger                 gg_trg_Capturing_Ore_50g   = null
    trigger                 gg_trg_Income_Timer        = null
    trigger                 gg_trg_Income_12P          = null
    trigger                 gg_trg_Income_Command_12P  = null
    trigger                 gg_trg_Control_Point_Upgrade_15g = null
    trigger                 gg_trg_Control_Point_Upgrade_25g = null
    trigger                 gg_trg_Control_Point_Upgrade_40g = null
    trigger                 gg_trg_Control_Point_Upgrade_50g = null
    trigger                 gg_trg_Capturing_Mine_15g  = null
    trigger                 gg_trg_Capturing_Mine_25g  = null
    trigger                 gg_trg_Capturing_Mine_40g  = null
    trigger                 gg_trg_Capturing_Mine_50g  = null
    trigger                 gg_trg_Capturing_Iron_Mine_20g = null
    trigger                 gg_trg_Iron_Mine_Upgrade   = null
    trigger                 gg_trg_Mine_Pile_of_Iron   = null
    trigger                 gg_trg_Purchase_Pile_of_Iron = null
    trigger                 gg_trg_Trade_Iron_Horse    = null
    trigger                 gg_trg_Trade_Iron_Ship     = null
    trigger                 gg_trg_Castle_Tier_1_Built = null
    trigger                 gg_trg_Castle_Tier_2_Upgrade = null
    trigger                 gg_trg_Castle_Tier_3_Upgrade = null
    trigger                 gg_trg_Destroy_Castle_DUMMY_TAX_LOW = null
    trigger                 gg_trg_Destroy_Castle_DUMMY_TAX_MED = null
    trigger                 gg_trg_Destroy_Castle_DUMMY_TAX_HIGH = null
    trigger                 gg_trg_Destroy_Castle_Tier_1 = null
    trigger                 gg_trg_Destroy_Castle_Tier_2 = null
    trigger                 gg_trg_Destroy_Castle_Tier_3 = null
    trigger                 gg_trg_City_Hall_Up        = null
    trigger                 gg_trg_Castle_1_To_Town_Hall = null
    trigger                 gg_trg_Castle_2_To_City_Hall = null
    trigger                 gg_trg_Turn_unres_2_Copy   = null
    trigger                 gg_trg_UNREST_SYSTEM_HIGH_TAX_Copy = null
    trigger                 gg_trg_UNREST_SYSTEM_MED_TAX_Copy = null
    trigger                 gg_trg_UNREST_SYSTEM_LOW_TAX_Copy = null
    trigger                 gg_trg_High_Tax_FIX_Copy   = null
    trigger                 gg_trg_Medium_Tax_FIX_Copy = null
    trigger                 gg_trg_Low_Tax_FIX_Copy    = null
    trigger                 gg_trg_Tax_Pay_Copy_12P    = null
    trigger                 gg_trg_Set_Tax_Values_12P  = null
    trigger                 gg_trg_Initial_upkeep_12P  = null
    trigger                 gg_trg_Stats_Command_12P   = null
    trigger                 gg_trg_Stats_Button        = null
    trigger                 gg_trg_Income_Copy_12P     = null
    trigger                 gg_trg_upkeep              = null
    trigger                 gg_trg_upkeep_2            = null
    trigger                 gg_trg_Trebuchet_Dies      = null
    trigger                 gg_trg_Spy_Sabotage_on_buildings = null
    trigger                 gg_trg_Spy_Rebellion       = null
    trigger                 gg_trg_Spy_Unhappiness_Fixed = null
    trigger                 gg_trg_Spy_Unhappiness     = null
    trigger                 gg_trg_Grant_Independence  = null
    trigger                 gg_trg_Independet_City_attackked = null
    trigger                 gg_trg_Take_Independence   = null
    trigger                 gg_trg_CH_CAP_Low_Tax      = null
    trigger                 gg_trg_CH_CAP_Med_Tax      = null
    trigger                 gg_trg_CH_CAP_High_Tax     = null
    trigger                 gg_trg_TH_Cap_Low_Tax      = null
    trigger                 gg_trg_TH_Cap_Med_Tax      = null
    trigger                 gg_trg_TH_Cap_High_Tax     = null
    trigger                 gg_trg_Town_Hall_Death     = null
    trigger                 gg_trg_Capitol_Captured_From_Player = null
    trigger                 gg_trg_Capitol_start_capture_West = null
    trigger                 gg_trg_Capitol_start_capture_Byzantine = null
    trigger                 gg_trg_TH_CAP_SYNC         = null
    trigger                 gg_trg_Convert_V2          = null
    trigger                 gg_trg_Gate_Opening        = null
    trigger                 gg_trg_Gate_Closing_WoodGate_V = null
    trigger                 gg_trg_Gate_Closing_WoodGate_H = null
    trigger                 gg_trg_Gate_Closing_IronGate_V = null
    trigger                 gg_trg_Gate_Closing_IronGate_H = null
    trigger                 gg_trg_Supply_Horses       = null
    trigger                 gg_trg_Supply_Horse_2      = null
    trigger                 gg_trg_Lumber_Horse_250    = null
    trigger                 gg_trg_Lumber_Horse_500    = null
    trigger                 gg_trg_Gold_Horse_250      = null
    trigger                 gg_trg_Gold_Horse_500      = null
    trigger                 gg_trg_Killing_trading_horse_l250 = null
    trigger                 gg_trg_Killing_trading_horse_l500 = null
    trigger                 gg_trg_Killing_trading_horse_g250 = null
    trigger                 gg_trg_Killing_trading_horse_g500 = null
    trigger                 gg_trg_Trading_Lumber_Ship = null
    trigger                 gg_trg_Trading_Gold_Ship   = null
    trigger                 gg_trg_Trade               = null
    trigger                 gg_trg_killing_Gold_Ship   = null
    trigger                 gg_trg_killing_Lumber_Ship = null
    trigger                 gg_trg_FarmHouse           = null
    trigger                 gg_trg_Thatched_Cottage_1  = null
    trigger                 gg_trg_Thatched_Cottage_2  = null
    trigger                 gg_trg_Thatched_Cottage_3  = null
    trigger                 gg_trg_Thatched_Cottage_4  = null
    trigger                 gg_trg_Spearmen_1          = null
    trigger                 gg_trg_Spearmen_2          = null
    trigger                 gg_trg_Heavy_Infantry_1    = null
    trigger                 gg_trg_Heavy_Infantry_2    = null
    trigger                 gg_trg_Archer_1            = null
    trigger                 gg_trg_Archer_2            = null
    trigger                 gg_trg_Light_Infantry_1    = null
    trigger                 gg_trg_Light_Infantry_2    = null
    trigger                 gg_trg_Pikemen_1           = null
    trigger                 gg_trg_Pikemen_2           = null
    trigger                 gg_trg_Light_Cavalry_1     = null
    trigger                 gg_trg_Light_Cavalry_2     = null
    trigger                 gg_trg_Heavy_Cavalry_1     = null
    trigger                 gg_trg_Heavy_Cavalry_2     = null
    trigger                 gg_trg_Skirmisher          = null
    trigger                 gg_trg_Arquebusers         = null
    trigger                 gg_trg_Supply_Horse        = null
    trigger                 gg_trg_Disabled_units_at_beginning = null
    trigger                 gg_trg_Spearmen_1_Byzantine = null
    trigger                 gg_trg_Spearmen_2_Byzantine = null
    trigger                 gg_trg_Heavy_Infantry_1_Byzantine = null
    trigger                 gg_trg_Heavy_Infantry_2_Byzantine = null
    trigger                 gg_trg_Archer_1_Byzantine  = null
    trigger                 gg_trg_Archer_2_Byzantine  = null
    trigger                 gg_trg_Light_Cavalry_1_Byzantine = null
    trigger                 gg_trg_Heavy_Cavalry_1_Byzantine = null
    trigger                 gg_trg_Heavy_Cavalry_2_Byzantine = null
    trigger                 gg_trg_Skirmisher_Byzantine = null
    trigger                 gg_trg_Disabled_units_at_beginning_Copy = null
    trigger                 gg_trg_Disabled_Units_For_Byzantine = null
    trigger                 gg_trg_Spy_Limit           = null
    trigger                 gg_trg_University_Limit_12P = null
    trigger                 gg_trg_Structures_finishes = null
    trigger                 gg_trg_Settle              = null
    trigger                 gg_trg_Settlement_Range_Check = null
    trigger                 gg_trg_Church_Range_Check  = null
    trigger                 gg_trg_Settlement_Aura     = null
    trigger                 gg_trg_Capitol_City_Hall_Up_Copy = null
    trigger                 gg_trg_Capitol_Castle_T3   = null
endglobals

function InitGlobals takes nothing returns nothing
    local integer i = 0
    set i = 0
    loop
        exitwhen (i > 8192)
        set udg_Loadableunits[i] = CreateGroup()
        set i = i + 1
    endloop

    set udg_Temp_Player = CreateForce()
    set udg_Hunger = CreateGroup()
    set udg_tempPlayer = CreateForce()
    set udg_settlementdel = CreateGroup()
    set udg_cleric = CreateGroup()
    set udg_clerictarget = CreateGroup()
    set udg_winners = CreateForce()
    set udg_Defeated = CreateForce()
    set udg_Wondervisible = CreateForce()
    set udg_WonderTimer = CreateTimer()
    set udg_StartNeutral = CreateForce()
    set udg_Wonders = CreateGroup()
    set udg_Supplyhorses = CreateGroup()
    set udg_Settler = CreateGroup()
    set udg_Crusaders = CreateForce()
    set udg_Nodestwonder = CreateGroup()
    set udg_Nodestfoundation = CreateGroup()
    set udg_Nodestalliancecont = CreateGroup()
    set udg_Nodestreligion = CreateGroup()
    set udg_Nodestjerusalem = CreateGroup()
    set udg_Nodestjerusalemjih = CreateGroup()
    set udg_Nodestvat = CreateGroup()
    set udg_Nodestvatcru = CreateGroup()
    set udg_Nodestcru = CreateGroup()
    set udg_Changereligiongrand = CreateGroup()
    set udg_Changereligionchurch = CreateGroup()
    set udg_Religionchange = CreateGroup()
    set udg_Changerelg = CreateGroup()
    set udg_Supplywagon = CreateGroup()
    set udg_NoWonder = CreateGroup()
    set udg_Kodo = CreateGroup()
    set udg_undeadtransport = CreateGroup()
    set udg_Massunit = CreateGroup()
    set udg_Massunit2 = CreateGroup()
    set udg_Income = CreateTimer()
    set i = 0
    loop
        exitwhen (i > 22)
        set udg_PlayerGold[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 22)
        set udg_PlayerRegions[i] = 0
        set i = i + 1
    endloop

    set udg_AllPlayerUnits = CreateForce()
    set i = 0
    loop
        exitwhen (i > 22)
        set udg_PlayerTax[i] = 0
        set i = i + 1
    endloop

    set udg_TownHallTax = CreateGroup()
    set i = 0
    loop
        exitwhen (i > 22)
        set udg_THTax[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 22)
        set udg_Unhappiness[i] = 0
        set i = i + 1
    endloop

    set udg_PlayerRiot = CreateForce()
    set udg_UnhappinessZ = CreateGroup()
    set udg_TaxPeasant = CreateGroup()
    set udg_DiploPick = CreateGroup()
    set udg_TaxRegion = CreateGroup()
    set udg_GateMovingUnits1 = CreateGroup()
    set udg_GateMovingUnits2 = CreateGroup()
    set udg_UNHAPPINESS_SYNC1 = CreateGroup()
    set udg_UNHAPPINESS_SYNC2 = CreateGroup()
    set udg_UNHAPPINESS_SYNC3 = CreateGroup()
    set udg_UNHAPPINESS_SYNC5 = CreateGroup()
    set udg_UNHAPPINESS_SYNC4 = CreateGroup()
    set udg_UNHAPPINESS_SYNC6 = CreateGroup()
    set udg_UNHAPPINESS_SYNC7 = CreateGroup()
    set udg_UNHAPPINESS_SYNC9 = CreateGroup()
    set udg_UNHAPPINESS_SYNC8 = CreateGroup()
    set udg_UNHAPPINESS_SYNC10 = CreateGroup()
    set udg_UNHAPPINESS_SYNC11 = CreateGroup()
    set udg_UNHAPPINESS_SYNC12 = CreateGroup()
    set udg_TownHallTax2 = CreateGroup()
    set i = 0
    loop
        exitwhen (i > 22)
        set udg_THTax2[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 22)
        set udg_Unhappiness2[i] = 0
        set i = i + 1
    endloop

    set udg_BuildingRangeCheck = CreateGroup()
    set i = 0
    loop
        exitwhen (i > 22)
        set udg_THTaxChurch[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 22)
        set udg_THTaxCastle[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 22)
        set udg_THTax3[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 22)
        set udg_Unhappiness3[i] = 0
        set i = i + 1
    endloop

    set udg_TownHallTax3PEASANT = CreateGroup()
    set udg_Unrest1 = CreateGroup()
    set udg_Unrest2 = CreateGroup()
    set udg_Unrest3 = CreateGroup()
    set udg_UNHAPPINESS_SYNC99 = CreateGroup()
    set udg_UnrestCheckPlayer = CreateForce()
    set udg_StartNeutral2 = CreateForce()
    set i = 0
    loop
        exitwhen (i > 1)
        set udg_TaxUnrest[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 1)
        set udg_SettlementsTotal1[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 1)
        set udg_TaxUnrest2[i] = 0
        set i = i + 1
    endloop

    set udg_Supplyhorses2 = CreateGroup()
    set udg_RevoltingTH = CreateGroup()
    set udg_RevoltingCH = CreateGroup()
    set udg_PlayerLeaveUnits = CreateGroup()
    set udg_TownName = CreateGroup()
endfunction

//***************************************************************************
//*
//*  Sounds
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_Warning = CreateSound( "Sound\\Interface\\Warning.wav", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_Warning, "Warning" )
    call SetSoundDuration( gg_snd_Warning, 1904 )
endfunction

//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateUnitsForPlayer0 takes nothing returns nothing
    local player p = Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'H037', -23718.4, -30293.3, 36.684 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    set u = CreateUnit( p, 'H03F', -23824.7, -29228.5, 84.926 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'h03J', -29096.5, -29925.1, 129.990 )
    set u = CreateUnit( p, 'h03G', -29652.3, -29932.3, 35.299 )
endfunction

//===========================================================================
function CreateUnitsForPlayer1 takes nothing returns nothing
    local player p = Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'H037', -23725.6, -30533.4, 36.890 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    set u = CreateUnit( p, 'H03F', -23826.8, -29119.1, 84.868 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'h03G', -29651.3, -29820.8, 211.530 )
    set u = CreateUnit( p, 'h03J', -28993.6, -29944.1, 52.090 )
endfunction

//===========================================================================
function CreateUnitsForPlayer2 takes nothing returns nothing
    local player p = Player(2)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'H037', -23618.0, -30300.2, 36.981 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    set u = CreateUnit( p, 'H03F', -23828.2, -29010.5, 84.858 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'h03G', -29646.1, -29681.3, 299.320 )
    set u = CreateUnit( p, 'h03J', -28901.7, -29944.1, 214.760 )
endfunction

//===========================================================================
function CreateUnitsForPlayer3 takes nothing returns nothing
    local player p = Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'H037', -23629.5, -30542.7, 37.199 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    set u = CreateUnit( p, 'H03F', -23734.0, -29007.4, 85.617 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'h03G', -29657.7, -29550.2, 123.340 )
    set u = CreateUnit( p, 'h03J', -28799.4, -29941.0, 97.900 )
endfunction

//===========================================================================
function CreateUnitsForPlayer4 takes nothing returns nothing
    local player p = Player(4)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'H037', -23722.0, -29991.1, 35.887 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    set u = CreateUnit( p, 'H03F', -23734.1, -29127.9, 85.579 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'h03G', -29659.4, -29471.2, 272.000 )
    set u = CreateUnit( p, 'h03J', -29071.0, -29717.0, 117.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer5 takes nothing returns nothing
    local player p = Player(5)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'H037', -23706.9, -29799.9, 35.682 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    set u = CreateUnit( p, 'H03F', -23724.6, -29238.1, 85.668 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'h03G', -29523.1, -29501.3, 246.070 )
    set u = CreateUnit( p, 'h03J', -28982.9, -29720.4, 277.270 )
endfunction

//===========================================================================
function CreateUnitsForPlayer6 takes nothing returns nothing
    local player p = Player(6)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'H037', -23533.3, -29803.3, 35.970 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    set u = CreateUnit( p, 'H03F', -23644.9, -29229.9, 86.045 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'h03G', -29505.9, -29613.3, 129.600 )
    set u = CreateUnit( p, 'h03J', -28883.0, -29723.8, 123.850 )
endfunction

//===========================================================================
function CreateUnitsForPlayer7 takes nothing returns nothing
    local player p = Player(7)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'H037', -23554.4, -29986.6, 36.175 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    set u = CreateUnit( p, 'H03F', -23626.5, -29123.5, 86.024 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'h03G', -29494.1, -29760.0, 91.610 )
    set u = CreateUnit( p, 'h03J', -28771.9, -29739.1, 88.280 )
endfunction

//===========================================================================
function CreateUnitsForPlayer8 takes nothing returns nothing
    local player p = Player(8)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'H037', -23213.0, -29833.4, 36.297 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    set u = CreateUnit( p, 'H03F', -23619.5, -29023.2, 85.984 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'h03G', -29514.0, -29894.0, 185.200 )
    set u = CreateUnit( p, 'h03J', -29099.1, -29489.6, 190.540 )
endfunction

//===========================================================================
function CreateUnitsForPlayer9 takes nothing returns nothing
    local player p = Player(9)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'H037', -23207.4, -29977.6, 36.501 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    set u = CreateUnit( p, 'H03F', -23526.8, -29029.4, 86.733 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'h03G', -29467.5, -29835.0, 312.240 )
    set u = CreateUnit( p, 'h03J', -29002.9, -29485.3, 244.830 )
endfunction

//===========================================================================
function CreateUnitsForPlayer10 takes nothing returns nothing
    local player p = Player(10)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'H037', -23042.2, -29985.1, 36.795 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    set u = CreateUnit( p, 'H03F', -23532.2, -29125.0, 86.784 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'h03G', -29474.0, -29667.6, 343.940 )
    set u = CreateUnit( p, 'h03J', -28885.7, -29487.7, 293.780 )
endfunction

//===========================================================================
function CreateUnitsForPlayer11 takes nothing returns nothing
    local player p = Player(11)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'H037', -23063.2, -29846.7, 36.587 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    set u = CreateUnit( p, 'H03F', -23540.9, -29229.9, 86.804 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'h03G', -29457.5, -29518.0, 42.720 )
    set u = CreateUnit( p, 'h03J', -28767.7, -29487.7, 92.750 )
endfunction

//===========================================================================
function CreateUnitsForPlayer12 takes nothing returns nothing
    local player p = Player(12)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h03G', -29664.3, -29340.4, 35.299 )
    set u = CreateUnit( p, 'h03J', -29062.3, -29295.8, 129.990 )
    set u = CreateUnit( p, 'H03F', -23377.2, -29239.6, 84.926 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'H037', -23527.8, -30294.5, 36.684 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
endfunction

//===========================================================================
function CreateUnitsForPlayer13 takes nothing returns nothing
    local player p = Player(13)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h03G', -29663.3, -29228.9, 211.530 )
    set u = CreateUnit( p, 'h03J', -28959.5, -29314.8, 52.090 )
    set u = CreateUnit( p, 'H03F', -23379.2, -29130.1, 84.868 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'H037', -23535.0, -30534.6, 36.890 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
endfunction

//===========================================================================
function CreateUnitsForPlayer14 takes nothing returns nothing
    local player p = Player(14)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h03G', -29658.1, -29089.5, 299.320 )
    set u = CreateUnit( p, 'h03J', -28867.5, -29314.8, 214.760 )
    set u = CreateUnit( p, 'H03F', -23380.6, -29021.6, 84.858 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'H037', -23427.4, -30301.4, 36.981 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
endfunction

//===========================================================================
function CreateUnitsForPlayer15 takes nothing returns nothing
    local player p = Player(15)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h03G', -29669.7, -28958.4, 123.340 )
    set u = CreateUnit( p, 'h03J', -28765.3, -29311.8, 97.900 )
    set u = CreateUnit( p, 'H03F', -23286.4, -29018.4, 85.617 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'H037', -23438.9, -30543.9, 37.199 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
endfunction

//===========================================================================
function CreateUnitsForPlayer16 takes nothing returns nothing
    local player p = Player(16)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h03G', -29671.3, -28879.3, 272.000 )
    set u = CreateUnit( p, 'h03J', -28908.4, -29187.1, 129.990 )
    set u = CreateUnit( p, 'H03F', -23286.5, -29138.9, 85.579 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'H037', -23336.7, -30294.5, 36.684 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
endfunction

//===========================================================================
function CreateUnitsForPlayer17 takes nothing returns nothing
    local player p = Player(17)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h03J', -28948.8, -29091.1, 277.270 )
    set u = CreateUnit( p, 'h03G', -29535.1, -28909.5, 246.070 )
    set u = CreateUnit( p, 'H03F', -23277.0, -29249.1, 85.668 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'H037', -23343.9, -30534.6, 36.890 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
endfunction

//===========================================================================
function CreateUnitsForPlayer18 takes nothing returns nothing
    local player p = Player(18)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h03G', -29517.9, -29021.5, 129.600 )
    set u = CreateUnit( p, 'h03J', -28848.9, -29094.6, 123.850 )
    set u = CreateUnit( p, 'H03F', -23171.9, -29034.2, 85.984 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'H037', -23236.3, -30301.4, 36.981 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
endfunction

//===========================================================================
function CreateUnitsForPlayer19 takes nothing returns nothing
    local player p = Player(19)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h03G', -29469.5, -28926.1, 42.720 )
    set u = CreateUnit( p, 'H03F', -23179.0, -29134.5, 86.024 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'h03J', -29036.9, -29087.7, 117.000 )
    set u = CreateUnit( p, 'H037', -23247.8, -30543.9, 37.199 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
endfunction

//===========================================================================
function CreateUnitsForPlayer20 takes nothing returns nothing
    local player p = Player(20)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h03G', -29486.0, -29075.7, 343.940 )
    set u = CreateUnit( p, 'h03J', -28737.8, -29109.9, 88.280 )
endfunction

//===========================================================================
function CreateUnitsForPlayer21 takes nothing returns nothing
    local player p = Player(21)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h03G', -29506.1, -29168.1, 91.610 )
    set u = CreateUnit( p, 'h03J', -28860.2, -28987.5, 190.540 )
    set u = CreateUnit( p, 'H03F', -23079.2, -29040.5, 86.733 )
    call SetHeroLevel( u, 20, false )
    set u = CreateUnit( p, 'H037', -23152.3, -30305.9, 36.680 )
    call SetHeroLevel( u, 20, false )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
    call IssueImmediateOrder( u, "" )
endfunction

//===========================================================================
function CreateNeutralHostileBuildings takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h031', -1600.0, -128.0, 270.000 )
    set u = CreateUnit( p, 'h031', -15040.0, 10816.0, 270.000 )
    set u = CreateUnit( p, 'h031', -256.0, -2432.0, 270.000 )
    set u = CreateUnit( p, 'h031', -24320.0, 3904.0, 270.000 )
    set u = CreateUnit( p, 'h031', -23552.0, -4544.0, 270.000 )
    set u = CreateUnit( p, 'h031', -23360.0, -64.0, 270.000 )
    set u = CreateUnit( p, 'h031', 2176.0, -7744.0, 270.000 )
    set u = CreateUnit( p, 'h031', -6336.0, 8000.0, 270.000 )
    set u = CreateUnit( p, 'h031', 832.0, -5568.0, 270.000 )
    set u = CreateUnit( p, 'h031', -3648.0, 1856.0, 270.000 )
    set u = CreateUnit( p, 'h022', -768.0, 24384.0, 270.000 )
    set u = CreateUnit( p, 'h031', -26304.0, -8704.0, 270.000 )
    set u = CreateUnit( p, 'h031', 2688.0, -3008.0, 270.000 )
    set u = CreateUnit( p, 'h031', -5568.0, -2752.0, 270.000 )
    set u = CreateUnit( p, 'h031', -3456.0, -2880.0, 270.000 )
    set u = CreateUnit( p, 'h031', -6464.0, 1280.0, 270.000 )
    set u = CreateUnit( p, 'h031', -8064.0, 3200.0, 270.000 )
    set u = CreateUnit( p, 'h031', -8768.0, 1984.0, 270.000 )
    set u = CreateUnit( p, 'h031', -7104.0, -768.0, 270.000 )
    set u = CreateUnit( p, 'h031', -28544.0, 0.0, 270.000 )
    set u = CreateUnit( p, 'h031', -27840.0, -2752.0, 270.000 )
    set u = CreateUnit( p, 'h031', -27008.0, 2688.0, 270.000 )
    set u = CreateUnit( p, 'h031', -17024.0, 512.0, 270.000 )
    set u = CreateUnit( p, 'h031', -21696.0, -4224.0, 270.000 )
    set u = CreateUnit( p, 'h022', 17536.0, -9024.0, 270.000 )
    set u = CreateUnit( p, 'h031', 10816.0, -7360.0, 270.000 )
    set u = CreateUnit( p, 'h031', 12800.0, -6912.0, 270.000 )
    set u = CreateUnit( p, 'h031', 15488.0, -7552.0, 270.000 )
    set u = CreateUnit( p, 'h031', 19072.0, -7424.0, 270.000 )
    set u = CreateUnit( p, 'h031', 15360.0, -5568.0, 270.000 )
    set u = CreateUnit( p, 'h031', 17216.0, -8640.0, 270.000 )
    set u = CreateUnit( p, 'h031', 16960.0, -16192.0, 270.000 )
    set u = CreateUnit( p, 'h031', 6976.0, -6592.0, 270.000 )
    set u = CreateUnit( p, 'h031', 24000.0, 256.0, 270.000 )
    set u = CreateUnit( p, 'h031', -10688.0, -384.0, 270.000 )
    set u = CreateUnit( p, 'h031', 13952.0, -11008.0, 270.000 )
    set u = CreateUnit( p, 'h031', -10944.0, -4608.0, 270.000 )
    set u = CreateUnit( p, 'h031', -21440.0, -8384.0, 270.000 )
    set u = CreateUnit( p, 'h031', 17472.0, 9472.0, 270.000 )
    set u = CreateUnit( p, 'h031', -16768.0, -8064.0, 270.000 )
    set u = CreateUnit( p, 'h031', -9920.0, -11264.0, 270.000 )
    set u = CreateUnit( p, 'h031', -7488.0, -16256.0, 270.000 )
    set u = CreateUnit( p, 'h031', 448.0, -17600.0, 270.000 )
    set u = CreateUnit( p, 'h031', 11008.0, -18496.0, 270.000 )
    set u = CreateUnit( p, 'h031', 13248.0, -17856.0, 270.000 )
    set u = CreateUnit( p, 'h031', 12288.0, -20864.0, 270.000 )
    set u = CreateUnit( p, 'h031', -11456.0, 11008.0, 270.000 )
    set u = CreateUnit( p, 'h031', -8640.0, 7104.0, 270.000 )
    set u = CreateUnit( p, 'h031', -7360.0, 17088.0, 270.000 )
    set u = CreateUnit( p, 'h031', -5120.0, 14528.0, 270.000 )
    set u = CreateUnit( p, 'h031', 15488.0, -26816.0, 270.000 )
    set u = CreateUnit( p, 'h031', -9600.0, 13120.0, 270.000 )
    set u = CreateUnit( p, 'h031', -11456.0, 14528.0, 270.000 )
    set u = CreateUnit( p, 'h031', -12544.0, 16320.0, 270.000 )
    set u = CreateUnit( p, 'h031', -7680.0, 22272.0, 270.000 )
    set u = CreateUnit( p, 'h031', -6272.0, 21376.0, 270.000 )
    set u = CreateUnit( p, 'h031', -4992.0, 21888.0, 270.000 )
    set u = CreateUnit( p, 'h031', -1280.0, 23936.0, 270.000 )
    set u = CreateUnit( p, 'h031', -3328.0, 23232.0, 270.000 )
    set u = CreateUnit( p, 'h031', -2560.0, 26368.0, 270.000 )
    set u = CreateUnit( p, 'h031', -6528.0, 28288.0, 270.000 )
    set u = CreateUnit( p, 'h031', -9856.0, 28416.0, 270.000 )
    set u = CreateUnit( p, 'h031', -13376.0, 15104.0, 270.000 )
    set u = CreateUnit( p, 'h031', -10688.0, 3520.0, 270.000 )
    set u = CreateUnit( p, 'h031', -9856.0, 5440.0, 270.000 )
    set u = CreateUnit( p, 'h031', -6720.0, 4096.0, 270.000 )
    set u = CreateUnit( p, 'h031', -13632.0, 2368.0, 270.000 )
    set u = CreateUnit( p, 'h031', -10496.0, 17728.0, 270.000 )
    set u = CreateUnit( p, 'h031', -7616.0, 11200.0, 270.000 )
    set u = CreateUnit( p, 'h031', -18688.0, 5760.0, 270.000 )
    set u = CreateUnit( p, 'h031', -25024.0, -3008.0, 270.000 )
    set u = CreateUnit( p, 'h031', -20096.0, 1408.0, 270.000 )
    set u = CreateUnit( p, 'h031', -7040.0, -7808.0, 270.000 )
    set u = CreateUnit( p, 'h031', -5376.0, -9216.0, 270.000 )
    set u = CreateUnit( p, 'h031', 24896.0, -27456.0, 270.000 )
    set u = CreateUnit( p, 'h031', -20352.0, 12224.0, 270.000 )
    set u = CreateUnit( p, 'h031', -13568.0, 5184.0, 270.000 )
    set u = CreateUnit( p, 'h031', -5120.0, 24576.0, 270.000 )
    set u = CreateUnit( p, 'h031', -1856.0, 27776.0, 270.000 )
    set u = CreateUnit( p, 'h031', -16704.0, 24192.0, 270.000 )
    set u = CreateUnit( p, 'h031', -15936.0, 17088.0, 270.000 )
    set u = CreateUnit( p, 'h031', -17792.0, 16064.0, 270.000 )
    set u = CreateUnit( p, 'h031', -20224.0, 21632.0, 270.000 )
    set u = CreateUnit( p, 'h031', -22400.0, 19968.0, 270.000 )
    set u = CreateUnit( p, 'h031', -15872.0, 20544.0, 270.000 )
    set u = CreateUnit( p, 'h031', -19776.0, 16512.0, 270.000 )
    set u = CreateUnit( p, 'h031', -17216.0, 12928.0, 270.000 )
    set u = CreateUnit( p, 'h031', -18560.0, 19712.0, 270.000 )
    set u = CreateUnit( p, 'h031', -15680.0, 26112.0, 270.000 )
    set u = CreateUnit( p, 'h031', -17088.0, 26816.0, 270.000 )
    set u = CreateUnit( p, 'h031', -16704.0, 3584.0, 270.000 )
    set u = CreateUnit( p, 'h031', -11456.0, 7232.0, 270.000 )
    set u = CreateUnit( p, 'h031', -18176.0, 10816.0, 270.000 )
    set u = CreateUnit( p, 'h031', -16000.0, 6016.0, 270.000 )
    set u = CreateUnit( p, 'h031', -8896.0, 26688.0, 270.000 )
    set u = CreateUnit( p, 'h031', 9216.0, -4416.0, 270.000 )
    set u = CreateUnit( p, 'h031', 6656.0, -4480.0, 270.000 )
    set u = CreateUnit( p, 'h031', 5184.0, -1856.0, 270.000 )
    set u = CreateUnit( p, 'h031', 18624.0, -448.0, 270.000 )
    set u = CreateUnit( p, 'h031', 11008.0, -1984.0, 270.000 )
    set u = CreateUnit( p, 'h031', 14144.0, -128.0, 270.000 )
    set u = CreateUnit( p, 'h031', 8384.0, -10368.0, 270.000 )
    set u = CreateUnit( p, 'h031', 5376.0, -12224.0, 270.000 )
    set u = CreateUnit( p, 'h031', 3392.0, -7296.0, 270.000 )
    set u = CreateUnit( p, 'h031', 12672.0, -3904.0, 270.000 )
    set u = CreateUnit( p, 'h031', 27008.0, -11520.0, 270.000 )
    set u = CreateUnit( p, 'h031', -25216.0, 1472.0, 270.000 )
    set u = CreateUnit( p, 'h031', 23552.0, 11072.0, 270.000 )
    set u = CreateUnit( p, 'h031', -20736.0, -2112.0, 270.000 )
    set u = CreateUnit( p, 'h031', -22592.0, 2560.0, 270.000 )
    set u = CreateUnit( p, 'h031', -20864.0, 3136.0, 270.000 )
    set u = CreateUnit( p, 'h031', -17280.0, -3136.0, 270.000 )
    set u = CreateUnit( p, 'h031', -3584.0, 4608.0, 270.000 )
    set u = CreateUnit( p, 'h031', 1536.0, 29440.0, 270.000 )
    set u = CreateUnit( p, 'h031', 1216.0, -960.0, 270.000 )
    set u = CreateUnit( p, 'h023', -7872.0, 17536.0, 270.000 )
    set u = CreateUnit( p, 'h031', -13568.0, 12160.0, 270.000 )
    set u = CreateUnit( p, 'h031', -13696.0, 8064.0, 270.000 )
    set u = CreateUnit( p, 'h031', -4544.0, 11648.0, 270.000 )
    set u = CreateUnit( p, 'h031', -3072.0, 8320.0, 270.000 )
    set u = CreateUnit( p, 'h031', -384.0, 8512.0, 270.000 )
    set u = CreateUnit( p, 'h031', -4992.0, 17280.0, 270.000 )
    set u = CreateUnit( p, 'h031', 64.0, 12608.0, 270.000 )
    set u = CreateUnit( p, 'h031', -2112.0, 13696.0, 270.000 )
    set u = CreateUnit( p, 'h031', 4160.0, 5376.0, 270.000 )
    set u = CreateUnit( p, 'h031', 4224.0, 3904.0, 270.000 )
    set u = CreateUnit( p, 'h031', 7232.0, 2240.0, 270.000 )
    set u = CreateUnit( p, 'h031', -384.0, 3072.0, 270.000 )
    set u = CreateUnit( p, 'h031', -8128.0, 19968.0, 270.000 )
    set u = CreateUnit( p, 'h031', 3072.0, 192.0, 270.000 )
    set u = CreateUnit( p, 'h031', 832.0, 15872.0, 270.000 )
    set u = CreateUnit( p, 'h031', -2304.0, 16064.0, 270.000 )
    set u = CreateUnit( p, 'h031', 4416.0, 19648.0, 270.000 )
    set u = CreateUnit( p, 'h031', 1792.0, 6976.0, 270.000 )
    set u = CreateUnit( p, 'h031', 5888.0, 24960.0, 270.000 )
    set u = CreateUnit( p, 'h031', -1792.0, 19200.0, 270.000 )
    set u = CreateUnit( p, 'h031', 3008.0, 22784.0, 270.000 )
    set u = CreateUnit( p, 'h031', 3200.0, 18240.0, 270.000 )
    set u = CreateUnit( p, 'h031', -3712.0, -6528.0, 270.000 )
    set u = CreateUnit( p, 'h031', -17216.0, 22208.0, 270.000 )
    set u = CreateUnit( p, 'h031', -18880.0, 17920.0, 270.000 )
    set u = CreateUnit( p, 'h031', -17280.0, 18304.0, 270.000 )
    set u = CreateUnit( p, 'h031', -22272.0, 22400.0, 270.000 )
    set u = CreateUnit( p, 'h031', -10496.0, -9152.0, 270.000 )
    set u = CreateUnit( p, 'h031', 13248.0, 5120.0, 270.000 )
    set u = CreateUnit( p, 'h031', 7936.0, -2368.0, 270.000 )
    set u = CreateUnit( p, 'h031', 3520.0, 27008.0, 270.000 )
    set u = CreateUnit( p, 'h031', 8832.0, 26368.0, 270.000 )
    set u = CreateUnit( p, 'h031', 6848.0, 21440.0, 270.000 )
    set u = CreateUnit( p, 'h031', 6144.0, 18560.0, 270.000 )
    set u = CreateUnit( p, 'h031', 3904.0, 11072.0, 270.000 )
    set u = CreateUnit( p, 'h031', 8512.0, 12352.0, 270.000 )
    set u = CreateUnit( p, 'h031', 9280.0, 20032.0, 270.000 )
    set u = CreateUnit( p, 'h031', 1216.0, 11008.0, 270.000 )
    set u = CreateUnit( p, 'h024', -15680.0, 11200.0, 270.000 )
    set u = CreateUnit( p, 'h024', -15104.0, 17408.0, 270.000 )
    set u = CreateUnit( p, 'h025', -1728.0, 28608.0, 270.000 )
    set u = CreateUnit( p, 'h023', -18304.0, 18112.0, 270.000 )
    set u = CreateUnit( p, 'h024', -9600.0, 13888.0, 270.000 )
    set u = CreateUnit( p, 'h031', 384.0, 19456.0, 270.000 )
    set u = CreateUnit( p, 'h024', 4864.0, 5952.0, 270.000 )
    set u = CreateUnit( p, 'h024', 8000.0, -1664.0, 270.000 )
    set u = CreateUnit( p, 'h024', 9280.0, -3008.0, 270.000 )
    set u = CreateUnit( p, 'h025', -21056.0, 21056.0, 270.000 )
    set u = CreateUnit( p, 'h025', -19648.0, 12224.0, 270.000 )
    set u = CreateUnit( p, 'h025', 17984.0, -13120.0, 270.000 )
    set u = CreateUnit( p, 'h022', -28544.0, 704.0, 270.000 )
    set u = CreateUnit( p, 'h025', -9344.0, 7168.0, 270.000 )
    set u = CreateUnit( p, 'h023', -6336.0, 8576.0, 270.000 )
    set u = CreateUnit( p, 'h025', -15616.0, 21248.0, 270.000 )
    set u = CreateUnit( p, 'h025', -16640.0, 1024.0, 270.000 )
    set u = CreateUnit( p, 'h025', 13760.0, -11584.0, 270.000 )
    set u = CreateUnit( p, 'h022', -11328.0, 3712.0, 270.000 )
    set u = CreateUnit( p, 'h022', -16768.0, 25920.0, 270.000 )
    set u = CreateUnit( p, 'h025', -19200.0, 28352.0, 270.000 )
    set u = CreateUnit( p, 'h023', 3456.0, 11584.0, 270.000 )
    set u = CreateUnit( p, 'h024', -24640.0, 4352.0, 270.000 )
    set u = CreateUnit( p, 'h024', -23232.0, -5120.0, 270.000 )
    set u = CreateUnit( p, 'h022', -23424.0, 768.0, 270.000 )
    set u = CreateUnit( p, 'h025', -15936.0, -2688.0, 270.000 )
    set u = CreateUnit( p, 'h025', -10752.0, -3456.0, 270.000 )
    set u = CreateUnit( p, 'h024', -7552.0, 4416.0, 270.000 )
    set u = CreateUnit( p, 'h025', -20160.0, -1600.0, 270.000 )
    set u = CreateUnit( p, 'h025', -21824.0, 2560.0, 270.000 )
    set u = CreateUnit( p, 'h025', 11392.0, -7104.0, 270.000 )
    set u = CreateUnit( p, 'h022', 4352.0, 20224.0, 270.000 )
    set u = CreateUnit( p, 'h024', -15360.0, 4992.0, 270.000 )
    set u = CreateUnit( p, 'h022', -896.0, 3392.0, 270.000 )
    set u = CreateUnit( p, 'h025', -6528.0, -832.0, 270.000 )
    set u = CreateUnit( p, 'h023', -4928.0, -3264.0, 270.000 )
    set u = CreateUnit( p, 'h022', -6144.0, -8192.0, 270.000 )
    set u = CreateUnit( p, 'h023', 23424.0, 640.0, 270.000 )
    set u = CreateUnit( p, 'h023', -6976.0, 1344.0, 270.000 )
    set u = CreateUnit( p, 'h023', 4352.0, 128.0, 270.000 )
    set u = CreateUnit( p, 'h031', 17472.0, 19648.0, 270.000 )
    set u = CreateUnit( p, 'h024', -7872.0, 22784.0, 270.000 )
    set u = CreateUnit( p, 'h031', 20864.0, 21504.0, 270.000 )
    set u = CreateUnit( p, 'h024', -9152.0, 28480.0, 270.000 )
    set u = CreateUnit( p, 'h022', -27712.0, -9536.0, 270.000 )
    set u = CreateUnit( p, 'h022', 4800.0, -12480.0, 270.000 )
    set u = CreateUnit( p, 'h025', 7232.0, -11328.0, 270.000 )
    set u = CreateUnit( p, 'h025', 1792.0, -8064.0, 270.000 )
    set u = CreateUnit( p, 'h031', -1600.0, 5952.0, 270.000 )
    set u = CreateUnit( p, 'h023', -128.0, -1792.0, 270.000 )
    set u = CreateUnit( p, 'h022', -3392.0, 8640.0, 270.000 )
    set u = CreateUnit( p, 'h024', -1856.0, 16576.0, 270.000 )
    set u = CreateUnit( p, 'h023', -13888.0, 14784.0, 270.000 )
    set u = CreateUnit( p, 'h031', -29568.0, -9792.0, 270.000 )
    set u = CreateUnit( p, 'h023', -9088.0, 26240.0, 270.000 )
    set u = CreateUnit( p, 'h025', -5440.0, 23808.0, 270.000 )
    set u = CreateUnit( p, 'h025', 2176.0, 30080.0, 270.000 )
    set u = CreateUnit( p, 'h023', 1984.0, 6464.0, 270.000 )
    set u = CreateUnit( p, 'h031', -26304.0, -1408.0, 270.000 )
    set u = CreateUnit( p, 'h023', 448.0, 13056.0, 270.000 )
    set u = CreateUnit( p, 'h025', 3072.0, 26752.0, 270.000 )
    set u = CreateUnit( p, 'h023', 6656.0, 18880.0, 270.000 )
    set u = CreateUnit( p, 'h023', 3264.0, -3712.0, 270.000 )
    set u = CreateUnit( p, 'h031', 15872.0, 5760.0, 270.000 )
    set u = CreateUnit( p, 'h023', 6528.0, 22080.0, 270.000 )
    set u = CreateUnit( p, 'h024', 8896.0, 27008.0, 270.000 )
    set u = CreateUnit( p, 'h031', 18496.0, -17280.0, 270.000 )
    set u = CreateUnit( p, 'h031', 11392.0, 7872.0, 270.000 )
    set u = CreateUnit( p, 'h031', 12672.0, 11328.0, 270.000 )
    set u = CreateUnit( p, 'h031', 6016.0, 12416.0, 270.000 )
    set u = CreateUnit( p, 'h031', 7104.0, 7808.0, 270.000 )
    set u = CreateUnit( p, 'h031', 20864.0, 2688.0, 270.000 )
    set u = CreateUnit( p, 'h031', 24000.0, 2560.0, 270.000 )
    set u = CreateUnit( p, 'h031', 19648.0, 11328.0, 270.000 )
    set u = CreateUnit( p, 'h031', 11584.0, 16960.0, 270.000 )
    set u = CreateUnit( p, 'h031', 18496.0, -13248.0, 270.000 )
    set u = CreateUnit( p, 'h031', 17216.0, -11456.0, 270.000 )
    set u = CreateUnit( p, 'h031', 25088.0, -8320.0, 270.000 )
    set u = CreateUnit( p, 'h031', 15680.0, -17536.0, 270.000 )
    set u = CreateUnit( p, 'h031', 16640.0, -14208.0, 270.000 )
    set u = CreateUnit( p, 'h031', 17280.0, -19584.0, 270.000 )
    set u = CreateUnit( p, 'h031', 22912.0, -10240.0, 270.000 )
    set u = CreateUnit( p, 'h031', 20864.0, -23040.0, 270.000 )
    set u = CreateUnit( p, 'h024', 13120.0, -21696.0, 270.000 )
    set u = CreateUnit( p, 'h031', 20096.0, -5760.0, 270.000 )
    set u = CreateUnit( p, 'h031', 18816.0, -3776.0, 270.000 )
    set u = CreateUnit( p, 'h022', 14464.0, -26432.0, 270.000 )
    set u = CreateUnit( p, 'h024', 23808.0, -27776.0, 270.000 )
    set u = CreateUnit( p, 'h022', 11776.0, -18688.0, 270.000 )
    set u = CreateUnit( p, 'h023', 256.0, -18048.0, 270.000 )
    set u = CreateUnit( p, 'h025', -16192.0, -8192.0, 270.000 )
    set u = CreateUnit( p, 'h025', -11520.0, -10944.0, 270.000 )
    set u = CreateUnit( p, 'h025', 16512.0, -19968.0, 270.000 )
    set u = CreateUnit( p, 'h025', 20416.0, -22272.0, 270.000 )
    set u = CreateUnit( p, 'h024', 28800.0, -11904.0, 270.000 )
    set u = CreateUnit( p, 'h031', 15040.0, 23104.0, 270.000 )
    set u = CreateUnit( p, 'h024', 8128.0, 12928.0, 270.000 )
    set u = CreateUnit( p, 'h024', 16896.0, -15744.0, 270.000 )
    set u = CreateUnit( p, 'h022', 17984.0, -640.0, 270.000 )
    set u = CreateUnit( p, 'h025', 20608.0, 3136.0, 270.000 )
    set u = CreateUnit( p, 'h025', 7232.0, -5120.0, 270.000 )
    set u = CreateUnit( p, 'h025', 25984.0, -8128.0, 270.000 )
    set u = CreateUnit( p, 'h025', 20544.0, -5440.0, 270.000 )
    set u = CreateUnit( p, 'h025', 11968.0, 17856.0, 270.000 )
    set u = CreateUnit( p, 'h025', 10048.0, 20032.0, 270.000 )
    set u = CreateUnit( p, 'h023', 15296.0, -7232.0, 270.000 )
    set u = CreateUnit( p, 'h023', 13056.0, 11776.0, 270.000 )
    set u = CreateUnit( p, 'h023', 15744.0, 23488.0, 270.000 )
    set u = CreateUnit( p, 'h023', 17984.0, 9280.0, 270.000 )
endfunction

//===========================================================================
function CreateNeutralHostile takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_AGGRESSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h03J', -28942.5, -29816.4, 129.990 )
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer0(  )
    call CreateUnitsForPlayer1(  )
    call CreateUnitsForPlayer2(  )
    call CreateUnitsForPlayer3(  )
    call CreateUnitsForPlayer4(  )
    call CreateUnitsForPlayer5(  )
    call CreateUnitsForPlayer6(  )
    call CreateUnitsForPlayer7(  )
    call CreateUnitsForPlayer8(  )
    call CreateUnitsForPlayer9(  )
    call CreateUnitsForPlayer10(  )
    call CreateUnitsForPlayer11(  )
    call CreateUnitsForPlayer12(  )
    call CreateUnitsForPlayer13(  )
    call CreateUnitsForPlayer14(  )
    call CreateUnitsForPlayer15(  )
    call CreateUnitsForPlayer16(  )
    call CreateUnitsForPlayer17(  )
    call CreateUnitsForPlayer18(  )
    call CreateUnitsForPlayer19(  )
    call CreateUnitsForPlayer20(  )
    call CreateUnitsForPlayer21(  )
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralHostileBuildings(  )
    call CreatePlayerBuildings(  )
    call CreateNeutralHostile(  )
    call CreatePlayerUnits(  )
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_SHIP_Lower_Nile = Rect( 11872.0, -24096.0, 13376.0, -18304.0 )
    set gg_rct_SHIP_Nile_2 = Rect( 14080.0, -30720.0, 16256.0, -25664.0 )
    set gg_rct_SHIP_Upper_Nile = Rect( 12096.0, -26240.0, 14944.0, -23776.0 )
    set gg_rct_SHIP_Thames = Rect( -17120.0, 15936.0, -15520.0, 17408.0 )
    set gg_rct_MANA_METER = Rect( -29824.0, -30080.0, -29312.0, -28672.0 )
    set gg_rct_Tax_Region = Rect( -29216.0, -30112.0, -28672.0, -28672.0 )
    set gg_rct_HoriDetect_1000x200 = Rect( -25984.0, -29760.0, -24992.0, -29504.0 )
    set gg_rct_HoriTop_500x200 = Rect( -25984.0, -30080.0, -25472.0, -29824.0 )
    set gg_rct_HoriBottom = Rect( -25984.0, -30400.0, -25472.0, -30144.0 )
    set gg_rct_VertDetect = Rect( -26464.0, -30048.0, -26176.0, -29056.0 )
    set gg_rct_VertLeft = Rect( -25440.0, -30368.0, -25184.0, -29856.0 )
    set gg_rct_VertRight = Rect( -25184.0, -30368.0, -24928.0, -29856.0 )
    set gg_rct_Iron_Region = Rect( -24672.0, -29568.0, -24064.0, -28800.0 )
    set gg_rct_UnhappinessPeasant = Rect( -24704.0, -30208.0, -24064.0, -29696.0 )
    set gg_rct_CITY_WE_Burgh = Rect( -17440.0, 21952.0, -17024.0, 22496.0 )
    set gg_rct_CITY_WE_Cardiff = Rect( -19072.0, 17728.0, -18688.0, 18080.0 )
    set gg_rct_CITY_WE_Galway = Rect( -22464.0, 22208.0, -22112.0, 22560.0 )
    set gg_rct_CITY_WE_Zagreb = Rect( -3776.0, 4416.0, -3392.0, 4768.0 )
    set gg_rct_CITY_WE_Ragusa = Rect( -3872.0, 1664.0, -3456.0, 2016.0 )
    set gg_rct_CITY_BYZ_Durrazo = Rect( -416.0, -2592.0, -128.0, -2272.0 )
    set gg_rct_CITY_BYZ_Adrianopolis = Rect( 4992.0, -2048.0, 5376.0, -1696.0 )
    set gg_rct_CITY_Byz_Thessalonika = Rect( 2528.0, -3168.0, 2848.0, -2880.0 )
    set gg_rct_CITY_BYZ_Constantinople = Rect( 7744.0, -2528.0, 8096.0, -2208.0 )
    set gg_rct_CITY_WE_Warwick = Rect( -17504.0, 18080.0, -17056.0, 18496.0 )
    set gg_rct_CITY_BYZ_Scopia = Rect( 1024.0, -1120.0, 1376.0, -800.0 )
    set gg_rct_CITY_WE_Vienna = Rect( -3328.0, 8096.0, -2848.0, 8512.0 )
    set gg_rct_CITY_WE_Prague = Rect( -4704.0, 11488.0, -4416.0, 11776.0 )
    set gg_rct_CITY_WE_Esztergom = Rect( -640.0, 8288.0, -160.0, 8704.0 )
    set gg_rct_CITY_WE_Stettin = Rect( -5184.0, 17120.0, -4832.0, 17440.0 )
    set gg_rct_CITY_WE_Krakow = Rect( -96.0, 12448.0, 224.0, 12768.0 )
    set gg_rct_CITY_WE_Wroclaw = Rect( -2272.0, 13536.0, -1984.0, 13856.0 )
    set gg_rct_CITY_EE_Constanta = Rect( 7008.0, 1984.0, 7456.0, 2432.0 )
    set gg_rct_CITY_EE_Targoviste = Rect( 4032.0, 3744.0, 4416.0, 4064.0 )
    set gg_rct_CITY_WE_Brasov = Rect( 4000.0, 5216.0, 4320.0, 5536.0 )
    set gg_rct_CITY_WE_Belgrade = Rect( -576.0, 2880.0, -224.0, 3232.0 )
    set gg_rct_CITY_WE_Flensburg = Rect( -8288.0, 19776.0, -7936.0, 20160.0 )
    set gg_rct_CITY_WE_Roskilde = Rect( -6464.0, 21184.0, -6080.0, 21568.0 )
    set gg_rct_CITY_WE_Aarhus = Rect( -7904.0, 22048.0, -7488.0, 22464.0 )
    set gg_rct_CITY_WE_Madgeburg = Rect( -5344.0, 14304.0, -4960.0, 14720.0 )
    set gg_rct_CITY_EE_Sofia = Rect( 2880.0, 32.0, 3264.0, 352.0 )
    set gg_rct_CITY_WE_Plock = Rect( 608.0, 15680.0, 992.0, 16096.0 )
    set gg_rct_CITY_WE_Poznan = Rect( -2496.0, 15872.0, -2112.0, 16224.0 )
    set gg_rct_CITY_WE_Kassa = Rect( 1056.0, 10848.0, 1344.0, 11136.0 )
    set gg_rct_CITY_WE_Varad = Rect( 1600.0, 6784.0, 1984.0, 7136.0 )
    set gg_rct_CITY_EE_Konigsberg = Rect( 160.0, 19232.0, 544.0, 19648.0 )
    set gg_rct_CITY_EE_Riga = Rect( 2784.0, 22592.0, 3200.0, 22944.0 )
    set gg_rct_CITY_WE_Fictional_2 = Rect( -1984.0, 19008.0, -1600.0, 19360.0 )
    set gg_rct_CITY_EE_Hrodna = Rect( 3008.0, 18048.0, 3392.0, 18400.0 )
    set gg_rct_Faction = Rect( -28544.0, -30080.0, -28064.0, -29344.0 )
    set gg_rct_Crusade = Rect( -27744.0, -30080.0, -27456.0, -29760.0 )
    set gg_rct_CITY_EE_Vilnius = Rect( 4224.0, 19488.0, 4608.0, 19776.0 )
    set gg_rct_CITY_EE_Caffa = Rect( 13056.0, 4960.0, 13408.0, 5280.0 )
    set gg_rct_CITY_EE_Pskov = Rect( 5696.0, 24768.0, 6048.0, 25088.0 )
    set gg_rct_CITY_EE_Reval = Rect( 3328.0, 26816.0, 3680.0, 27168.0 )
    set gg_rct_CITY_EE_Novgorod = Rect( 8608.0, 26144.0, 9024.0, 26528.0 )
    set gg_rct_CITY_EE_Polotsk = Rect( 6656.0, 21248.0, 7008.0, 21600.0 )
    set gg_rct_SHIP_Seine_River = Rect( -16640.0, 10368.0, -13504.0, 13056.0 )
    set gg_rct_SHIP_French_River = Rect( -18944.0, 5312.0, -16864.0, 7328.0 )
    set gg_rct_SHIP_Spannish_River = Rect( -28032.0, -1120.0, -22464.0, 640.0 )
    set gg_rct_SHIP_Spannish_River_2 = Rect( -27264.0, 2784.0, -26208.0, 3328.0 )
    set gg_rct_SHIP_Spannish_River_3 = Rect( -26912.0, -4320.0, -23872.0, -2976.0 )
    set gg_rct_SHIP_Spannish_River_4 = Rect( -19328.0, -288.0, -18592.0, 1568.0 )
    set gg_rct_SHIP_Danube_1 = Rect( -11936.0, 7616.0, -448.0, 11424.0 )
    set gg_rct_SHIP_Danube_2 = Rect( -1664.0, 1216.0, 6848.0, 7776.0 )
    set gg_rct_SHIP_Swedish_Lake = Rect( -5472.0, 24704.0, -3232.0, 27616.0 )
    set gg_rct_CITY_EE_Halych = Rect( 3744.0, 10880.0, 4064.0, 11232.0 )
    set gg_rct_SHIP_River = Rect( -12064.0, 11392.0, -8832.0, 16576.0 )
    set gg_rct_SHIP_Region_Giant = Rect( -8832.0, 10176.0, 23520.0, 17760.0 )
    set gg_rct_SHIP_River_GIANT = Rect( 4384.0, 17728.0, 23424.0, 27040.0 )
    set gg_rct_CITY_WE_Groningen = Rect( -10688.0, 17536.0, -10304.0, 17888.0 )
    set gg_rct_CITY_ME_Tunis = Rect( -10688.0, -9312.0, -10336.0, -9024.0 )
    set gg_rct_CITY_EE_Azaq = Rect( 17280.0, 9280.0, 17632.0, 9632.0 )
    set gg_rct_CITY_EE_Kiev = Rect( 8352.0, 12192.0, 8672.0, 12512.0 )
    set gg_rct_CITY_EE_Minsk = Rect( 5952.0, 18400.0, 6304.0, 18688.0 )
    set gg_rct_CITY_EE_Smolensk = Rect( 9120.0, 19872.0, 9408.0, 20192.0 )
    set gg_rct_SHIP_Caspian_Sea_and_Mesapotamia = Rect( 23328.0, -14080.0, 30688.0, 17792.0 )
    set gg_rct_CITY_ME_Sinop = Rect( 13984.0, -288.0, 14336.0, 0.0 )
    set gg_rct_CITY_ME_Isparta = Rect( 10624.0, -7552.0, 11008.0, -7200.0 )
    set gg_rct_CITY_ME_Kayseri = Rect( 15168.0, -5792.0, 15552.0, -5408.0 )
    set gg_rct_CITY_ME_Adana = Rect( 15328.0, -7712.0, 15648.0, -7424.0 )
    set gg_rct_CITY_ME_Konya = Rect( 12640.0, -7104.0, 12992.0, -6752.0 )
    set gg_rct_CITY_ME_Antioch = Rect( 17056.0, -8800.0, 17376.0, -8512.0 )
    set gg_rct_CITY_BYZ_Trebizond = Rect( 18432.0, -608.0, 18784.0, -320.0 )
    set gg_rct_CITY_BYZ_Nicosia = Rect( 13760.0, -11168.0, 14112.0, -10752.0 )
    set gg_rct_CITY_ME_JERUSALEM = Rect( 16768.0, -16416.0, 17120.0, -16032.0 )
    set gg_rct_CITY_ME_Edessa = Rect( 18880.0, -7616.0, 19232.0, -7296.0 )
    set gg_rct_CITY_BYZ_Smyrna = Rect( 6816.0, -6752.0, 7136.0, -6464.0 )
    set gg_rct_CITY_ME_Ankara = Rect( 12512.0, -4064.0, 12832.0, -3712.0 )
    set gg_rct_CITY_BYZ_Nicae = Rect( 9056.0, -4576.0, 9408.0, -4224.0 )
    set gg_rct_CITY_ME_Fes = Rect( -26464.0, -8896.0, -26144.0, -8544.0 )
    set gg_rct_CITY_ME_Oran = Rect( -21632.0, -8544.0, -21248.0, -8224.0 )
    set gg_rct_CITY_ME_Algiers = Rect( -16928.0, -8224.0, -16608.0, -7904.0 )
    set gg_rct_CITY_ME_Mahdya = Rect( -10112.0, -11424.0, -9760.0, -11136.0 )
    set gg_rct_CITY_ME_Tripoli = Rect( -7680.0, -16416.0, -7328.0, -16128.0 )
    set gg_rct_CITY_ME_Benghazi = Rect( 288.0, -17760.0, 608.0, -17472.0 )
    set gg_rct_SHIP_Lake_Egypt = Rect( 9248.0, -21376.0, 9984.0, -20640.0 )
    set gg_rct_CITY_ME_Medina = Rect( 24704.0, -27680.0, 25088.0, -27264.0 )
    set gg_rct_CITY_ME_Alexandria = Rect( 10816.0, -18688.0, 11168.0, -18304.0 )
    set gg_rct_CITY_ME_Damietta = Rect( 13056.0, -17984.0, 13408.0, -17760.0 )
    set gg_rct_CITY_ME_Cairo = Rect( 12096.0, -21024.0, 12448.0, -20768.0 )
    set gg_rct_CITY_EE_Timutarakan = Rect( 15680.0, 5600.0, 16032.0, 5920.0 )
    set gg_rct_CITY_EE_Baia = Rect( 6944.0, 7648.0, 7264.0, 7968.0 )
    set gg_rct_CITY_EE_Zhytomyr = Rect( 5824.0, 12256.0, 6176.0, 12576.0 )
    set gg_rct_CITY_EE_Oleshe = Rect( 11200.0, 7712.0, 11552.0, 8064.0 )
    set gg_rct_CITY_EE_Dnipro = Rect( 12480.0, 11136.0, 12832.0, 11456.0 )
    set gg_rct_CITY_EE_Moscow = Rect( 14880.0, 22944.0, 15200.0, 23232.0 )
    set gg_rct_CITY_EE_Bryansk = Rect( 11392.0, 16768.0, 11744.0, 17088.0 )
    set gg_rct_CITY_ME_Yerevan = Rect( 23840.0, 96.0, 24128.0, 384.0 )
    set gg_rct_CITY_EE_Sarkel = Rect( 19488.0, 11168.0, 19808.0, 11488.0 )
    set gg_rct_CITY_BYZ_Kutaisi = Rect( 20672.0, 2528.0, 21056.0, 2848.0 )
    set gg_rct_CITY_BYZ_Tbilisi = Rect( 23776.0, 2368.0, 24160.0, 2720.0 )
    set gg_rct_CITY_ME_Damascus = Rect( 18336.0, -13408.0, 18624.0, -13120.0 )
    set gg_rct_CITY_ME_Tartus = Rect( 17056.0, -11648.0, 17376.0, -11264.0 )
    set gg_rct_CITY_ME_Gaza = Rect( 15488.0, -17696.0, 15840.0, -17376.0 )
    set gg_rct_CITY_ME_Mosul = Rect( 24896.0, -8480.0, 25248.0, -8128.0 )
    set gg_rct_CITY_ME_Acre = Rect( 16480.0, -14368.0, 16768.0, -14048.0 )
    set gg_rct_CITY_ME_Al_Aqaba = Rect( 17088.0, -19744.0, 17440.0, -19456.0 )
    set gg_rct_CITY_ME_Quarisiya = Rect( 22720.0, -10432.0, 23072.0, -10048.0 )
    set gg_rct_CITY_ME_Tamiya = Rect( 20672.0, -23232.0, 21056.0, -22848.0 )
    set gg_rct_CITY_ME_Diyarbakir = Rect( 19904.0, -5920.0, 20256.0, -5632.0 )
    set gg_rct_CITY_ME_Erez = Rect( 18624.0, -3936.0, 18976.0, -3616.0 )
    set gg_rct_SHIP_Lake_Africa = Rect( -13632.0, -14816.0, -12192.0, -13376.0 )
    set gg_rct_SHIP_Mesapotamia = Rect( 17760.0, -10400.0, 23360.0, -1344.0 )
    set gg_rct_SHIP_Ankara_Lake = Rect( 12384.0, -5984.0, 13824.0, -4352.0 )
    set gg_rct_SHIP_Italy = Rect( -10944.0, 3968.0, -7680.0, 5120.0 )
    set gg_rct_CITY_WE_Salzburg = Rect( -6528.0, 7808.0, -6176.0, 8160.0 )
    set gg_rct_CITY_WE_Innsbruck = Rect( -8864.0, 6912.0, -8448.0, 7264.0 )
    set gg_rct_CITY_WE_Cologne = Rect( -11680.0, 14304.0, -11264.0, 14752.0 )
    set gg_rct_CITY_WE_Frankfurt = Rect( -9760.0, 12928.0, -9472.0, 13280.0 )
    set gg_rct_Hamburg_CITY = Rect( -7552.0, 16928.0, -7232.0, 17248.0 )
    set gg_rct_CITY_ME_Palma = Rect( -17472.0, -3328.0, -17120.0, -2976.0 )
    set gg_rct_WHAT_IS_THIS_CITY = Rect( -24576.0, -1376.0, -24224.0, -1024.0 )
    set gg_rct_CITY_EE_Astrakhan = Rect( 23392.0, 10912.0, 23712.0, 11232.0 )
    set gg_rct_CITY_EE_Ryazan = Rect( 17280.0, 19456.0, 17632.0, 19808.0 )
    set gg_rct_CITY_WE_Edinburgh = Rect( -16928.0, 24000.0, -16544.0, 24352.0 )
    set gg_rct_CITY_WE_Aberdeen = Rect( -15904.0, 25952.0, -15520.0, 26304.0 )
    set gg_rct_CITY_WE_Inverness = Rect( -17312.0, 26624.0, -16896.0, 27008.0 )
    set gg_rct_CITY_WE_York = Rect( -16096.0, 20352.0, -15712.0, 20768.0 )
    set gg_rct_CITY_WE_Dublin = Rect( -20448.0, 21440.0, -20064.0, 21792.0 )
    set gg_rct_CITY_WE_Ireland = Rect( -22560.0, 19808.0, -22240.0, 20160.0 )
    set gg_rct_CITY_WE_Caernarfon = Rect( -18752.0, 19520.0, -18400.0, 19872.0 )
    set gg_rct_CITY_WE_London = Rect( -16128.0, 16896.0, -15808.0, 17248.0 )
    set gg_rct_CITY_WE_Winchester = Rect( -17952.0, 15904.0, -17632.0, 16224.0 )
    set gg_rct_CITY_WE_Exeter = Rect( -19936.0, 16352.0, -19648.0, 16672.0 )
    set gg_rct_CITY_WE_Caen = Rect( -17376.0, 12736.0, -17056.0, 13120.0 )
    set gg_rct_CITY_WE_Rheims = Rect( -13728.0, 11968.0, -13408.0, 12352.0 )
    set gg_rct_CITY_WE_Paris = Rect( -15232.0, 10624.0, -14880.0, 10976.0 )
    set gg_rct_CITY_WE_Dijon = Rect( -13856.0, 7872.0, -13568.0, 8256.0 )
    set gg_rct_CITY_WE_Clermont = Rect( -16192.0, 5824.0, -15840.0, 6208.0 )
    set gg_rct_CITY_WE_Toulouse = Rect( -16864.0, 3392.0, -16576.0, 3776.0 )
    set gg_rct_CITY_WE_Bordeaux = Rect( -18880.0, 5568.0, -18528.0, 5920.0 )
    set gg_rct_CITY_WE_Zaragoza = Rect( -20288.0, 1216.0, -19936.0, 1600.0 )
    set gg_rct_CITY_WE_Barcelona = Rect( -17216.0, 352.0, -16896.0, 736.0 )
    set gg_rct_CITY_WE_Leon = Rect( -24512.0, 3744.0, -24128.0, 4064.0 )
    set gg_rct_CITY_WE_Burgos = Rect( -22720.0, 2368.0, -22432.0, 2752.0 )
    set gg_rct_CITY_ME_Madrid = Rect( -23552.0, -256.0, -23200.0, 128.0 )
    set gg_rct_CITY_WE_Salamanca = Rect( -25376.0, 1312.0, -25056.0, 1632.0 )
    set gg_rct_CITY_ME_Lisbon = Rect( -28736.0, -192.0, -28352.0, 160.0 )
    set gg_rct_CITY_WE_Pamplona = Rect( -21024.0, 2944.0, -20704.0, 3360.0 )
    set gg_rct_CITY_WE_Marseille = Rect( -13792.0, 2144.0, -13440.0, 2592.0 )
    set gg_rct_CITY_WE_Bruges = Rect( -13568.0, 14912.0, -13216.0, 15296.0 )
    set gg_rct_CITY_WE_Antwerp = Rect( -12736.0, 16128.0, -12352.0, 16512.0 )
    set gg_rct_CITY_WE_Genoa = Rect( -10880.0, 3360.0, -10528.0, 3712.0 )
    set gg_rct_CITY_WE_Milan = Rect( -10048.0, 5280.0, -9696.0, 5600.0 )
    set gg_rct_CITY_WE_Venice = Rect( -6880.0, 3936.0, -6560.0, 4256.0 )
    set gg_rct_CITY_WE_Bologna = Rect( -8224.0, 3040.0, -7904.0, 3392.0 )
    set gg_rct_CITY_WE_Pisa = Rect( -8960.0, 1760.0, -8608.0, 2176.0 )
    set gg_rct_CITY_WE_Ancona = Rect( -6624.0, 1088.0, -6304.0, 1472.0 )
    set gg_rct_CITY_WE_Rome = Rect( -7296.0, -960.0, -6944.0, -544.0 )
    set gg_rct_CITY_ME_Granada = Rect( -23712.0, -4704.0, -23392.0, -4416.0 )
    set gg_rct_CITY_ME_Cordoba = Rect( -25184.0, -3168.0, -24864.0, -2848.0 )
    set gg_rct_CITY_ME_Murcia = Rect( -21888.0, -4416.0, -21536.0, -4032.0 )
    set gg_rct_CITY_ME_Valencia = Rect( -20928.0, -2304.0, -20576.0, -1888.0 )
    set gg_rct_CITY_WE_Nuremburg = Rect( -7776.0, 11040.0, -7456.0, 11392.0 )
    set gg_rct_CITY_WE_Bern = Rect( -11648.0, 7072.0, -11296.0, 7360.0 )
    set gg_rct_CITY_WE_Lyon = Rect( -13728.0, 4928.0, -13376.0, 5408.0 )
    set gg_rct_CITY_WE_Lund = Rect( -5152.0, 21696.0, -4832.0, 22080.0 )
    set gg_rct_CITY_WE_Skara = Rect( -5248.0, 24416.0, -4960.0, 24768.0 )
    set gg_rct_CITY_WE_Oslo = Rect( -6688.0, 28096.0, -6368.0, 28480.0 )
    set gg_rct_CITY_WE_Eikundarsund = Rect( -9024.0, 26496.0, -8736.0, 26880.0 )
    set gg_rct_CITY_WE_Bergen = Rect( -10048.0, 28224.0, -9696.0, 28576.0 )
    set gg_rct_CITY_WE_Visby = Rect( -1408.0, 23776.0, -1152.0, 24096.0 )
    set gg_rct_CITY_WE_Nykoping = Rect( -2720.0, 26176.0, -2432.0, 26560.0 )
    set gg_rct_CITY_ME_Silves = Rect( -28032.0, -2944.0, -27680.0, -2560.0 )
    set gg_rct_CITY_ME_Marakesh = Rect( -29760.0, -10016.0, -29408.0, -9632.0 )
    set gg_rct_CITY_ME_Luxor = Rect( 15296.0, -26976.0, 15648.0, -26624.0 )
    set gg_rct_CITY_WE_Rennes = Rect( -20544.0, 12032.0, -20160.0, 12416.0 )
    set gg_rct_CITY_WE_Angers = Rect( -18368.0, 10624.0, -18016.0, 11008.0 )
    set gg_rct_CITY_WE_Ajaccio = Rect( -10880.0, -576.0, -10528.0, -224.0 )
    set gg_rct_CITY_WE_Cagliari = Rect( -11104.0, -4768.0, -10816.0, -4448.0 )
    set gg_rct_CITY_WE_Naples = Rect( -5728.0, -2912.0, -5440.0, -2560.0 )
    set gg_rct_CITY_WE_Italy = Rect( -3904.0, -6720.0, -3552.0, -6336.0 )
    set gg_rct_CITY_WE_Bari = Rect( -3616.0, -3040.0, -3328.0, -2688.0 )
    set gg_rct_CITY_WE_Palermo = Rect( -7200.0, -8000.0, -6880.0, -7616.0 )
    set gg_rct_CITY_WE_Syracuse = Rect( -5504.0, -9344.0, -5248.0, -9056.0 )
    set gg_rct_CITY_WE_Metz = Rect( -11616.0, 10848.0, -11296.0, 11168.0 )
    set gg_rct_CITY_BYZ_Balkan = Rect( -1792.0, -320.0, -1440.0, 64.0 )
    set gg_rct_CITY_BYZ_Athens = Rect( 3232.0, -7488.0, 3552.0, -7136.0 )
    set gg_rct_CITY_BYZ_Rhodes = Rect( 8224.0, -10496.0, 8512.0, -10208.0 )
    set gg_rct_CITY_EE_Turku = Rect( 1344.0, 29280.0, 1696.0, 29632.0 )
    set gg_rct_CITY_BYZ_Fictional = Rect( 10848.0, -2144.0, 11136.0, -1824.0 )
    set gg_rct_CITY_ME_Badajoz = Rect( -26496.0, -1568.0, -26144.0, -1248.0 )
    set gg_rct_CITY_WE_Oporto = Rect( -27168.0, 2528.0, -26880.0, 2816.0 )
    set gg_rct_CITY_WE_Stockholm = Rect( -2016.0, 27552.0, -1696.0, 27936.0 )
    set gg_rct_CITY_WE_Kalmar = Rect( -3488.0, 23040.0, -3200.0, 23392.0 )
    set gg_rct_CITY_BYZ_Corinth = Rect( 2016.0, -7904.0, 2336.0, -7584.0 )
    set gg_rct_CITY_BYZ_Arta = Rect( 640.0, -5760.0, 992.0, -5376.0 )
    set gg_rct_CITY_BYZ_Candia = Rect( 5216.0, -12384.0, 5504.0, -12064.0 )
    set gg_rct_CITY_ME_Kerak = Rect( 18272.0, -17504.0, 18656.0, -17056.0 )
    set gg_rct_CITY_ME_Baghdad = Rect( 26848.0, -11680.0, 27168.0, -11360.0 )
    set gg_rct_CITY_BYZ_Canakkale = Rect( 6464.0, -4672.0, 6816.0, -4288.0 )
    set gg_rct_CITY_EE_Russia = Rect( 20672.0, 21312.0, 21024.0, 21696.0 )
    set gg_rct_CITY_WE_POLAND = Rect( -1824.0, 5792.0, -1440.0, 6144.0 )
endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: Melee Initialization
//
// Default melee game initialization for all players
//===========================================================================
function Trig_Melee_Initialization_Actions takes nothing returns nothing
    call MeleeStartingVisibility(  )
    call MeleeStartingHeroLimit(  )
endfunction

//===========================================================================
function InitTrig_Melee_Initialization takes nothing returns nothing
    set gg_trg_Melee_Initialization = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Melee_Initialization, function Trig_Melee_Initialization_Actions )
endfunction

//===========================================================================
// Trigger: F9
//===========================================================================
function Trig_F9_Actions takes nothing returns nothing
    call CreateQuestBJ( bj_QUESTTYPE_OPT_DISCOVERED, "TRIGSTR_097", "TRIGSTR_098", "ReplaceableTextures\\CommandButtons\\BTNSteelMelee.blp" )
    call CreateQuestBJ( bj_QUESTTYPE_OPT_DISCOVERED, "TRIGSTR_103", "TRIGSTR_104", "ReplaceableTextures\\WorldEditUI\\Doodad-Cinematic.blp" )
    call CreateQuestBJ( bj_QUESTTYPE_OPT_DISCOVERED, "TRIGSTR_2667", "TRIGSTR_2668", "ReplaceableTextures\\WorldEditUI\\Editor-MultipleUnits.blp" )
endfunction

//===========================================================================
function InitTrig_F9 takes nothing returns nothing
    set gg_trg_F9 = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_F9, 1.00 )
    call TriggerAddAction( gg_trg_F9, function Trig_F9_Actions )
endfunction

//===========================================================================
// Trigger: Riot OPTIMIZED
//===========================================================================
function Trig_Riot_OPTIMIZED_Func002Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] >= 1400 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Riot_OPTIMIZED_Func002Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] >= 1200 ) ) then
        return false
    endif
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] < 1400 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Riot_OPTIMIZED_Func002Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] >= 1000 ) ) then
        return false
    endif
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] < 1200 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Riot_OPTIMIZED_Func002Func001Func001Func001C takes nothing returns boolean
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] >= 800 ) ) then
        return false
    endif
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] < 1000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Riot_OPTIMIZED_Func002Func001Func001C takes nothing returns boolean
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] >= 600 ) ) then
        return false
    endif
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] < 800 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Riot_OPTIMIZED_Func002Func001C takes nothing returns boolean
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] >= 400 ) ) then
        return false
    endif
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] < 600 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Riot_OPTIMIZED_Func002A takes nothing returns nothing
    if ( Trig_Riot_OPTIMIZED_Func002Func001C() ) then
        set udg_RiotPoint = GetUnitLoc(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h031')))
        set udg_RiotPointOffset = OffsetLocation(udg_RiotPoint, 200.00, 0.00)
        set udg_RiotPoint2 = GetUnitLoc(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h03M')))
        set udg_RiotPointOffset2 = OffsetLocation(udg_RiotPoint2, 200.00, 0.00)
        call CreateNUnitsAtLoc( 5, 'h03H', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_RiotPointOffset, bj_UNIT_FACING )
        call CreateNUnitsAtLoc( 3, 'h03H', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_RiotPointOffset2, bj_UNIT_FACING )
        call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())), "TRIGSTR_2821" )
    else
        if ( Trig_Riot_OPTIMIZED_Func002Func001Func001C() ) then
            set udg_RiotPoint = GetUnitLoc(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h031')))
            set udg_RiotPointOffset = OffsetLocation(udg_RiotPoint, 200.00, 0.00)
            set udg_RiotPoint2 = GetUnitLoc(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h03M')))
            set udg_RiotPointOffset2 = OffsetLocation(udg_RiotPoint2, 200.00, 0.00)
            call CreateNUnitsAtLoc( 7, 'h03I', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_RiotPointOffset, bj_UNIT_FACING )
            call CreateNUnitsAtLoc( 5, 'h03I', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_RiotPointOffset2, bj_UNIT_FACING )
            call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())), "TRIGSTR_2823" )
        else
            if ( Trig_Riot_OPTIMIZED_Func002Func001Func001Func001C() ) then
                set udg_RiotPoint = GetUnitLoc(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h031')))
                set udg_RiotPointOffset = OffsetLocation(udg_RiotPoint, 200.00, 0.00)
                set udg_RiotPoint2 = GetUnitLoc(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h03M')))
                set udg_RiotPointOffset2 = OffsetLocation(udg_RiotPoint2, 200.00, 0.00)
                call CreateNUnitsAtLoc( 9, 'h03I', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_RiotPointOffset, bj_UNIT_FACING )
                call CreateNUnitsAtLoc( 6, 'h03I', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_RiotPointOffset2, bj_UNIT_FACING )
                call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())), "TRIGSTR_2824" )
            else
                if ( Trig_Riot_OPTIMIZED_Func002Func001Func001Func001Func001C() ) then
                    set udg_RiotPoint = GetUnitLoc(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h031')))
                    set udg_RiotPointOffset = OffsetLocation(udg_RiotPoint, 200.00, 0.00)
                    set udg_RiotPoint2 = GetUnitLoc(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h03M')))
                    set udg_RiotPointOffset2 = OffsetLocation(udg_RiotPoint2, 200.00, 0.00)
                    call CreateNUnitsAtLoc( 10, 'h03I', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_RiotPointOffset, bj_UNIT_FACING )
                    call CreateNUnitsAtLoc( 6, 'h03I', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_RiotPointOffset2, bj_UNIT_FACING )
                    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())), "TRIGSTR_2825" )
                else
                    if ( Trig_Riot_OPTIMIZED_Func002Func001Func001Func001Func001Func001C() ) then
                        set udg_RiotPoint = GetUnitLoc(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h031')))
                        set udg_RiotPointOffset = OffsetLocation(udg_RiotPoint, 200.00, 0.00)
                        set udg_RiotPoint2 = GetUnitLoc(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h03M')))
                        set udg_RiotPointOffset2 = OffsetLocation(udg_RiotPoint2, 200.00, 0.00)
                        call CreateNUnitsAtLoc( 12, 'h03I', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_RiotPointOffset, bj_UNIT_FACING )
                        call CreateNUnitsAtLoc( 6, 'h03I', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_RiotPointOffset2, bj_UNIT_FACING )
                        call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())), "TRIGSTR_2826" )
                    else
                        if ( Trig_Riot_OPTIMIZED_Func002Func001Func001Func001Func001Func001Func001C() ) then
                            set udg_RiotPoint = GetUnitLoc(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h031')))
                            set udg_RiotPointOffset = OffsetLocation(udg_RiotPoint, 200.00, 0.00)
                            set udg_RiotPoint2 = GetUnitLoc(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h03M')))
                            set udg_RiotPointOffset2 = OffsetLocation(udg_RiotPoint2, 200.00, 0.00)
                            call CreateNUnitsAtLoc( 12, 'h03N', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_RiotPointOffset, bj_UNIT_FACING )
                            call CreateNUnitsAtLoc( 8, 'h03N', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_RiotPointOffset2, bj_UNIT_FACING )
                            call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())), "TRIGSTR_2827" )
                        else
                        endif
                    endif
                endif
            endif
        endif
    endif
endfunction

function Trig_Riot_OPTIMIZED_Actions takes nothing returns nothing
    set udg_UnhappinessZ = GetUnitsOfTypeIdAll('H037')
    call ForGroupBJ( udg_UnhappinessZ, function Trig_Riot_OPTIMIZED_Func002A )
    call DestroyGroup(udg_UnhappinessZ)
    call RemoveLocation(udg_RiotPoint)
    call RemoveLocation(udg_RiotPoint2)
    call RemoveLocation(udg_RiotPointOffset)
    call RemoveLocation(udg_RiotPointOffset2)
endfunction

//===========================================================================
function InitTrig_Riot_OPTIMIZED takes nothing returns nothing
    set gg_trg_Riot_OPTIMIZED = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Riot_OPTIMIZED, 180.00 )
    call TriggerAddAction( gg_trg_Riot_OPTIMIZED, function Trig_Riot_OPTIMIZED_Actions )
endfunction

//===========================================================================
// Trigger: Rioting Spreading FIXED
//===========================================================================
function Trig_Rioting_Spreading_FIXED_Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetKillingUnitBJ()) == 'h03I' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetKillingUnitBJ()) == 'h03N' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Rioting_Spreading_FIXED_Func002C takes nothing returns boolean
    if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Rioting_Spreading_FIXED_Conditions takes nothing returns boolean
    if ( not Trig_Rioting_Spreading_FIXED_Func001C() ) then
        return false
    endif
    if ( not Trig_Rioting_Spreading_FIXED_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Rioting_Spreading_FIXED_Actions takes nothing returns nothing
    set udg_Zombiespawn = GetUnitLoc(GetDyingUnit())
    call CreateNUnitsAtLoc( 1, 'h03I', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_Zombiespawn, bj_UNIT_FACING )
    call RemoveUnit( GetDyingUnit() )
    call RemoveLocation (udg_Zombiespawn)
endfunction

//===========================================================================
function InitTrig_Rioting_Spreading_FIXED takes nothing returns nothing
    set gg_trg_Rioting_Spreading_FIXED = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Rioting_Spreading_FIXED, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Rioting_Spreading_FIXED, Condition( function Trig_Rioting_Spreading_FIXED_Conditions ) )
    call TriggerAddAction( gg_trg_Rioting_Spreading_FIXED, function Trig_Rioting_Spreading_FIXED_Actions )
endfunction

//===========================================================================
// Trigger: Public Order Stabilize START
//===========================================================================
function Trig_Public_Order_Stabilize_START_Func002Func001Func002C takes nothing returns boolean
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] < -5 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Public_Order_Stabilize_START_Func002Func001C takes nothing returns boolean
    if ( not Trig_Public_Order_Stabilize_START_Func002Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Public_Order_Stabilize_START_Func002A takes nothing returns nothing
    if ( Trig_Public_Order_Stabilize_START_Func002Func001C() ) then
        set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = -5
    else
    endif
endfunction

function Trig_Public_Order_Stabilize_START_Actions takes nothing returns nothing
    set udg_UnhappinessZ = GetUnitsOfTypeIdAll('H037')
    call ForGroupBJ( udg_UnhappinessZ, function Trig_Public_Order_Stabilize_START_Func002A )
    call DestroyGroup(udg_UnhappinessZ)
endfunction

//===========================================================================
function InitTrig_Public_Order_Stabilize_START takes nothing returns nothing
    set gg_trg_Public_Order_Stabilize_START = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Public_Order_Stabilize_START, 30.00 )
    call TriggerAddAction( gg_trg_Public_Order_Stabilize_START, function Trig_Public_Order_Stabilize_START_Actions )
endfunction

//===========================================================================
// Trigger: Public Order Stabilize END
//===========================================================================
function Trig_Public_Order_Stabilize_END_Func002Func001Func002C takes nothing returns boolean
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] > 1600 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Public_Order_Stabilize_END_Func002Func001C takes nothing returns boolean
    if ( not Trig_Public_Order_Stabilize_END_Func002Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Public_Order_Stabilize_END_Func002A takes nothing returns nothing
    if ( Trig_Public_Order_Stabilize_END_Func002Func001C() ) then
        set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = 1600
    else
    endif
endfunction

function Trig_Public_Order_Stabilize_END_Actions takes nothing returns nothing
    set udg_UnhappinessZ = GetUnitsOfTypeIdAll('H037')
    call ForGroupBJ( udg_UnhappinessZ, function Trig_Public_Order_Stabilize_END_Func002A )
    call DestroyGroup(udg_UnhappinessZ)
endfunction

//===========================================================================
function InitTrig_Public_Order_Stabilize_END takes nothing returns nothing
    set gg_trg_Public_Order_Stabilize_END = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Public_Order_Stabilize_END, 30.00 )
    call TriggerAddAction( gg_trg_Public_Order_Stabilize_END, function Trig_Public_Order_Stabilize_END_Actions )
endfunction

//===========================================================================
// Trigger: Church Unrest Reduction 50
//===========================================================================
function Trig_Church_Unrest_Reduction_50_Func003C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetConstructedStructure()) == 'h011' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Church_Unrest_Reduction_50_Conditions takes nothing returns boolean
    if ( not Trig_Church_Unrest_Reduction_50_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Church_Unrest_Reduction_50_Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetConstructedStructure()), GetUnitTypeId(GetConstructedStructure()))) <= 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Church_Unrest_Reduction_50_Actions takes nothing returns nothing
    if ( Trig_Church_Unrest_Reduction_50_Func001C() ) then
        set udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetConstructedStructure()))] = ( udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetConstructedStructure()))] + 50 )
        set udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetConstructedStructure()))] = ( udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetConstructedStructure()))] - 10 )
    else
        set udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetConstructedStructure()))] = ( udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetConstructedStructure()))] + 25 )
        set udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetConstructedStructure()))] = ( udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetConstructedStructure()))] - 10 )
    endif
    call UnitAddAbilityBJ( 'A02O', GetConstructedStructure() )
endfunction

//===========================================================================
function InitTrig_Church_Unrest_Reduction_50 takes nothing returns nothing
    set gg_trg_Church_Unrest_Reduction_50 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Church_Unrest_Reduction_50, EVENT_PLAYER_UNIT_CONSTRUCT_FINISH )
    call TriggerAddCondition( gg_trg_Church_Unrest_Reduction_50, Condition( function Trig_Church_Unrest_Reduction_50_Conditions ) )
    call TriggerAddAction( gg_trg_Church_Unrest_Reduction_50, function Trig_Church_Unrest_Reduction_50_Actions )
endfunction

//===========================================================================
// Trigger: Inn Unrest Reduction 10
//===========================================================================
function Trig_Inn_Unrest_Reduction_10_Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetTriggerUnit()) == 'h00X' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Inn_Unrest_Reduction_10_Conditions takes nothing returns boolean
    if ( not Trig_Inn_Unrest_Reduction_10_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Inn_Unrest_Reduction_10_Actions takes nothing returns nothing
    set udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 10 )
    call UnitAddAbilityBJ( 'A02O', GetConstructedStructure() )
endfunction

//===========================================================================
function InitTrig_Inn_Unrest_Reduction_10 takes nothing returns nothing
    set gg_trg_Inn_Unrest_Reduction_10 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Inn_Unrest_Reduction_10, EVENT_PLAYER_UNIT_CONSTRUCT_FINISH )
    call TriggerAddCondition( gg_trg_Inn_Unrest_Reduction_10, Condition( function Trig_Inn_Unrest_Reduction_10_Conditions ) )
    call TriggerAddAction( gg_trg_Inn_Unrest_Reduction_10, function Trig_Inn_Unrest_Reduction_10_Actions )
endfunction

//===========================================================================
// Trigger: Cathedral Unrest Reduction 100
//===========================================================================
function Trig_Cathedral_Unrest_Reduction_100_Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetConstructedStructure()) == 'h01C' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Cathedral_Unrest_Reduction_100_Conditions takes nothing returns boolean
    if ( not Trig_Cathedral_Unrest_Reduction_100_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Cathedral_Unrest_Reduction_100_Actions takes nothing returns nothing
    set udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 100 )
    call UnitAddAbilityBJ( 'A02O', GetConstructedStructure() )
endfunction

//===========================================================================
function InitTrig_Cathedral_Unrest_Reduction_100 takes nothing returns nothing
    set gg_trg_Cathedral_Unrest_Reduction_100 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Cathedral_Unrest_Reduction_100, EVENT_PLAYER_UNIT_CONSTRUCT_FINISH )
    call TriggerAddCondition( gg_trg_Cathedral_Unrest_Reduction_100, Condition( function Trig_Cathedral_Unrest_Reduction_100_Conditions ) )
    call TriggerAddAction( gg_trg_Cathedral_Unrest_Reduction_100, function Trig_Cathedral_Unrest_Reduction_100_Actions )
endfunction

//===========================================================================
// Trigger: University Unrest Reduction 75
//===========================================================================
function Trig_University_Unrest_Reduction_75_Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetConstructedStructure()) == 'h015' ) ) then
        return true
    endif
    return false
endfunction

function Trig_University_Unrest_Reduction_75_Conditions takes nothing returns boolean
    if ( not Trig_University_Unrest_Reduction_75_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_University_Unrest_Reduction_75_Actions takes nothing returns nothing
    set udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetConstructedStructure()))] = ( udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetConstructedStructure()))] + 75 )
    call UnitAddAbilityBJ( 'A03C', GetConstructedStructure() )
endfunction

//===========================================================================
function InitTrig_University_Unrest_Reduction_75 takes nothing returns nothing
    set gg_trg_University_Unrest_Reduction_75 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_University_Unrest_Reduction_75, EVENT_PLAYER_UNIT_CONSTRUCT_FINISH )
    call TriggerAddCondition( gg_trg_University_Unrest_Reduction_75, Condition( function Trig_University_Unrest_Reduction_75_Conditions ) )
    call TriggerAddAction( gg_trg_University_Unrest_Reduction_75, function Trig_University_Unrest_Reduction_75_Actions )
endfunction

//===========================================================================
// Trigger: University Unrest Destruction 75
//===========================================================================
function Trig_University_Unrest_Destruction_75_Func002C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'h015' ) ) then
        return true
    endif
    return false
endfunction

function Trig_University_Unrest_Destruction_75_Conditions takes nothing returns boolean
    if ( not Trig_University_Unrest_Destruction_75_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_University_Unrest_Destruction_75_Func001C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A03C', GetDyingUnit()) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_University_Unrest_Destruction_75_Actions takes nothing returns nothing
    if ( Trig_University_Unrest_Destruction_75_Func001C() ) then
        set udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] = ( udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] - 75 )
    else
    endif
endfunction

//===========================================================================
function InitTrig_University_Unrest_Destruction_75 takes nothing returns nothing
    set gg_trg_University_Unrest_Destruction_75 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_University_Unrest_Destruction_75, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_University_Unrest_Destruction_75, Condition( function Trig_University_Unrest_Destruction_75_Conditions ) )
    call TriggerAddAction( gg_trg_University_Unrest_Destruction_75, function Trig_University_Unrest_Destruction_75_Actions )
endfunction

//===========================================================================
// Trigger: Church Unrest Destruction 50
//===========================================================================
function Trig_Church_Unrest_Destruction_50_Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'h011' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Church_Unrest_Destruction_50_Conditions takes nothing returns boolean
    if ( not Trig_Church_Unrest_Destruction_50_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Church_Unrest_Destruction_50_Func002Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetDyingUnit()), GetUnitTypeId(GetDyingUnit()))) <= 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Church_Unrest_Destruction_50_Func002C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A02O', GetDyingUnit()) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Church_Unrest_Destruction_50_Actions takes nothing returns nothing
    if ( Trig_Church_Unrest_Destruction_50_Func002C() ) then
        if ( Trig_Church_Unrest_Destruction_50_Func002Func001C() ) then
            set udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] = ( udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] - 50 )
            set udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] = ( udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] + 10 )
        else
            set udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] = ( udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] - 20 )
            set udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] = ( udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] + 10 )
        endif
    else
    endif
endfunction

//===========================================================================
function InitTrig_Church_Unrest_Destruction_50 takes nothing returns nothing
    set gg_trg_Church_Unrest_Destruction_50 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Church_Unrest_Destruction_50, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Church_Unrest_Destruction_50, Condition( function Trig_Church_Unrest_Destruction_50_Conditions ) )
    call TriggerAddAction( gg_trg_Church_Unrest_Destruction_50, function Trig_Church_Unrest_Destruction_50_Actions )
endfunction

//===========================================================================
// Trigger: Inn Unrest Destruction 10
//===========================================================================
function Trig_Inn_Unrest_Destruction_10_Func002C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'h00X' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Inn_Unrest_Destruction_10_Conditions takes nothing returns boolean
    if ( not Trig_Inn_Unrest_Destruction_10_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Inn_Unrest_Destruction_10_Func001C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A02O', GetDyingUnit()) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Inn_Unrest_Destruction_10_Actions takes nothing returns nothing
    if ( Trig_Inn_Unrest_Destruction_10_Func001C() ) then
        set udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] = ( udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] - 10 )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Inn_Unrest_Destruction_10 takes nothing returns nothing
    set gg_trg_Inn_Unrest_Destruction_10 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Inn_Unrest_Destruction_10, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Inn_Unrest_Destruction_10, Condition( function Trig_Inn_Unrest_Destruction_10_Conditions ) )
    call TriggerAddAction( gg_trg_Inn_Unrest_Destruction_10, function Trig_Inn_Unrest_Destruction_10_Actions )
endfunction

//===========================================================================
// Trigger: Cathedral Unrest Destruction 100
//===========================================================================
function Trig_Cathedral_Unrest_Destruction_100_Func002C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'h01C' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Cathedral_Unrest_Destruction_100_Conditions takes nothing returns boolean
    if ( not Trig_Cathedral_Unrest_Destruction_100_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Cathedral_Unrest_Destruction_100_Func001C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A02O', GetDyingUnit()) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cathedral_Unrest_Destruction_100_Actions takes nothing returns nothing
    if ( Trig_Cathedral_Unrest_Destruction_100_Func001C() ) then
        set udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] = ( udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] - 100 )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Cathedral_Unrest_Destruction_100 takes nothing returns nothing
    set gg_trg_Cathedral_Unrest_Destruction_100 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Cathedral_Unrest_Destruction_100, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Cathedral_Unrest_Destruction_100, Condition( function Trig_Cathedral_Unrest_Destruction_100_Conditions ) )
    call TriggerAddAction( gg_trg_Cathedral_Unrest_Destruction_100, function Trig_Cathedral_Unrest_Destruction_100_Actions )
endfunction

//===========================================================================
// Trigger: Initial Tally 12P
//===========================================================================
function Trig_Initial_Tally_12P_Actions takes nothing returns nothing
    set bj_forLoopAIndex = 0
    set bj_forLoopAIndexEnd = 21
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_PlayerGold[GetForLoopIndexA()] = 60
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Initial_Tally_12P takes nothing returns nothing
    set gg_trg_Initial_Tally_12P = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Initial_Tally_12P, function Trig_Initial_Tally_12P_Actions )
endfunction

//===========================================================================
// Trigger: Capturing Ore 15g
//===========================================================================
function Trig_Capturing_Ore_15g_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h023' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 80.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Ore_15g_Conditions takes nothing returns boolean
    if ( not Trig_Capturing_Ore_15g_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Ore_15g_Actions takes nothing returns nothing
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 1 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 1 )
    call ReplaceUnitBJ( GetAttackedUnitBJ(), GetUnitTypeId(GetAttackedUnitBJ()), bj_UNIT_STATE_METHOD_DEFAULTS )
    call SetUnitOwner( GetLastReplacedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
    call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 100 )
endfunction

//===========================================================================
function InitTrig_Capturing_Ore_15g takes nothing returns nothing
    set gg_trg_Capturing_Ore_15g = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Capturing_Ore_15g, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Capturing_Ore_15g, Condition( function Trig_Capturing_Ore_15g_Conditions ) )
    call TriggerAddAction( gg_trg_Capturing_Ore_15g, function Trig_Capturing_Ore_15g_Actions )
endfunction

//===========================================================================
// Trigger: Capturing Ore 25g
//===========================================================================
function Trig_Capturing_Ore_25g_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h025' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 80.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Ore_25g_Conditions takes nothing returns boolean
    if ( not Trig_Capturing_Ore_25g_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Ore_25g_Actions takes nothing returns nothing
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 1 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 1 )
    call ReplaceUnitBJ( GetAttackedUnitBJ(), GetUnitTypeId(GetAttackedUnitBJ()), bj_UNIT_STATE_METHOD_DEFAULTS )
    call SetUnitOwner( GetLastReplacedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
    call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 100 )
endfunction

//===========================================================================
function InitTrig_Capturing_Ore_25g takes nothing returns nothing
    set gg_trg_Capturing_Ore_25g = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Capturing_Ore_25g, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Capturing_Ore_25g, Condition( function Trig_Capturing_Ore_25g_Conditions ) )
    call TriggerAddAction( gg_trg_Capturing_Ore_25g, function Trig_Capturing_Ore_25g_Actions )
endfunction

//===========================================================================
// Trigger: Capturing Ore 40g
//===========================================================================
function Trig_Capturing_Ore_40g_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h022' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 80.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Ore_40g_Conditions takes nothing returns boolean
    if ( not Trig_Capturing_Ore_40g_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Ore_40g_Actions takes nothing returns nothing
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 1 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 1 )
    call ReplaceUnitBJ( GetAttackedUnitBJ(), GetUnitTypeId(GetAttackedUnitBJ()), bj_UNIT_STATE_METHOD_DEFAULTS )
    call SetUnitOwner( GetLastReplacedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
    call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 100 )
endfunction

//===========================================================================
function InitTrig_Capturing_Ore_40g takes nothing returns nothing
    set gg_trg_Capturing_Ore_40g = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Capturing_Ore_40g, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Capturing_Ore_40g, Condition( function Trig_Capturing_Ore_40g_Conditions ) )
    call TriggerAddAction( gg_trg_Capturing_Ore_40g, function Trig_Capturing_Ore_40g_Actions )
endfunction

//===========================================================================
// Trigger: Capturing Ore 50g
//===========================================================================
function Trig_Capturing_Ore_50g_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h024' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 80.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Ore_50g_Conditions takes nothing returns boolean
    if ( not Trig_Capturing_Ore_50g_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Ore_50g_Actions takes nothing returns nothing
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 1 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 1 )
    call ReplaceUnitBJ( GetAttackedUnitBJ(), GetUnitTypeId(GetAttackedUnitBJ()), bj_UNIT_STATE_METHOD_DEFAULTS )
    call SetUnitOwner( GetLastReplacedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
    call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 100 )
endfunction

//===========================================================================
function InitTrig_Capturing_Ore_50g takes nothing returns nothing
    set gg_trg_Capturing_Ore_50g = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Capturing_Ore_50g, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Capturing_Ore_50g, Condition( function Trig_Capturing_Ore_50g_Conditions ) )
    call TriggerAddAction( gg_trg_Capturing_Ore_50g, function Trig_Capturing_Ore_50g_Actions )
endfunction

//===========================================================================
// Trigger: Income Timer
//===========================================================================
function Trig_Income_Timer_Actions takes nothing returns nothing
    call StartTimerBJ( udg_Income, true, 60.00 )
    call CreateTimerDialogBJ( GetLastCreatedTimerBJ(), "TRIGSTR_123" )
endfunction

//===========================================================================
function InitTrig_Income_Timer takes nothing returns nothing
    set gg_trg_Income_Timer = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Income_Timer, 1.00 )
    call TriggerAddAction( gg_trg_Income_Timer, function Trig_Income_Timer_Actions )
endfunction

//===========================================================================
// Trigger: Income 12P
//===========================================================================
function Trig_Income_12P_Actions takes nothing returns nothing
    set bj_forLoopAIndex = 0
    set bj_forLoopAIndexEnd = 21
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call AdjustPlayerStateBJ( udg_PlayerGold[GetForLoopIndexA()], ConvertedPlayer(GetForLoopIndexA()), PLAYER_STATE_RESOURCE_GOLD )
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Income_12P takes nothing returns nothing
    set gg_trg_Income_12P = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Income_12P, udg_Income )
    call TriggerAddAction( gg_trg_Income_12P, function Trig_Income_12P_Actions )
endfunction

//===========================================================================
// Trigger: Income Command 12P
//===========================================================================
function Trig_Income_Command_12P_Func001001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Income_Command_12P_Actions takes nothing returns nothing
    call DisplayTextToForce( GetPlayersMatching(Condition(function Trig_Income_Command_12P_Func001001001)), ( "Your current income is |cFFFFD700" + I2S(udg_PlayerGold[GetConvertedPlayerId(GetTriggerPlayer())]) ) )
endfunction

//===========================================================================
function InitTrig_Income_Command_12P takes nothing returns nothing
    set gg_trg_Income_Command_12P = CreateTrigger(  )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(10), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(11), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(0), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(1), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(2), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(3), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(4), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(5), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(6), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(7), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(8), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(9), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(12), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(13), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(14), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(15), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(16), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(17), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(18), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(19), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(20), "-income", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Income_Command_12P, Player(21), "-income", true )
    call TriggerAddAction( gg_trg_Income_Command_12P, function Trig_Income_Command_12P_Actions )
endfunction

//===========================================================================
// Trigger: Control Point Upgrade 15g
//===========================================================================
function Trig_Control_Point_Upgrade_15g_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h03E' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Control_Point_Upgrade_15g_Actions takes nothing returns nothing
    set udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 15 )
endfunction

//===========================================================================
function InitTrig_Control_Point_Upgrade_15g takes nothing returns nothing
    set gg_trg_Control_Point_Upgrade_15g = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Control_Point_Upgrade_15g, EVENT_PLAYER_UNIT_UPGRADE_FINISH )
    call TriggerAddCondition( gg_trg_Control_Point_Upgrade_15g, Condition( function Trig_Control_Point_Upgrade_15g_Conditions ) )
    call TriggerAddAction( gg_trg_Control_Point_Upgrade_15g, function Trig_Control_Point_Upgrade_15g_Actions )
endfunction

//===========================================================================
// Trigger: Control Point Upgrade 25g
//===========================================================================
function Trig_Control_Point_Upgrade_25g_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h03D' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Control_Point_Upgrade_25g_Actions takes nothing returns nothing
    set udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 25 )
endfunction

//===========================================================================
function InitTrig_Control_Point_Upgrade_25g takes nothing returns nothing
    set gg_trg_Control_Point_Upgrade_25g = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Control_Point_Upgrade_25g, EVENT_PLAYER_UNIT_UPGRADE_FINISH )
    call TriggerAddCondition( gg_trg_Control_Point_Upgrade_25g, Condition( function Trig_Control_Point_Upgrade_25g_Conditions ) )
    call TriggerAddAction( gg_trg_Control_Point_Upgrade_25g, function Trig_Control_Point_Upgrade_25g_Actions )
endfunction

//===========================================================================
// Trigger: Control Point Upgrade 40g
//===========================================================================
function Trig_Control_Point_Upgrade_40g_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h03C' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Control_Point_Upgrade_40g_Actions takes nothing returns nothing
    set udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 40 )
endfunction

//===========================================================================
function InitTrig_Control_Point_Upgrade_40g takes nothing returns nothing
    set gg_trg_Control_Point_Upgrade_40g = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Control_Point_Upgrade_40g, EVENT_PLAYER_UNIT_UPGRADE_FINISH )
    call TriggerAddCondition( gg_trg_Control_Point_Upgrade_40g, Condition( function Trig_Control_Point_Upgrade_40g_Conditions ) )
    call TriggerAddAction( gg_trg_Control_Point_Upgrade_40g, function Trig_Control_Point_Upgrade_40g_Actions )
endfunction

//===========================================================================
// Trigger: Control Point Upgrade 50g
//===========================================================================
function Trig_Control_Point_Upgrade_50g_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h039' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Control_Point_Upgrade_50g_Actions takes nothing returns nothing
    set udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 50 )
endfunction

//===========================================================================
function InitTrig_Control_Point_Upgrade_50g takes nothing returns nothing
    set gg_trg_Control_Point_Upgrade_50g = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Control_Point_Upgrade_50g, EVENT_PLAYER_UNIT_UPGRADE_FINISH )
    call TriggerAddCondition( gg_trg_Control_Point_Upgrade_50g, Condition( function Trig_Control_Point_Upgrade_50g_Conditions ) )
    call TriggerAddAction( gg_trg_Control_Point_Upgrade_50g, function Trig_Control_Point_Upgrade_50g_Actions )
endfunction

//===========================================================================
// Trigger: Capturing Mine 15g
//===========================================================================
function Trig_Capturing_Mine_15g_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h03E' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Mine_15g_Conditions takes nothing returns boolean
    if ( not Trig_Capturing_Mine_15g_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Mine_15g_Actions takes nothing returns nothing
    set udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 15 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 1 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 1 )
    call ReplaceUnitBJ( GetAttackedUnitBJ(), 'h023', bj_UNIT_STATE_METHOD_DEFAULTS )
    call SetUnitOwner( GetLastReplacedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
    call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 100 )
endfunction

//===========================================================================
function InitTrig_Capturing_Mine_15g takes nothing returns nothing
    set gg_trg_Capturing_Mine_15g = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Capturing_Mine_15g, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Capturing_Mine_15g, Condition( function Trig_Capturing_Mine_15g_Conditions ) )
    call TriggerAddAction( gg_trg_Capturing_Mine_15g, function Trig_Capturing_Mine_15g_Actions )
endfunction

//===========================================================================
// Trigger: Capturing Mine 25g
//===========================================================================
function Trig_Capturing_Mine_25g_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h03D' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Mine_25g_Conditions takes nothing returns boolean
    if ( not Trig_Capturing_Mine_25g_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Mine_25g_Actions takes nothing returns nothing
    set udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 25 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 1 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 1 )
    call ReplaceUnitBJ( GetAttackedUnitBJ(), 'h025', bj_UNIT_STATE_METHOD_DEFAULTS )
    call SetUnitOwner( GetLastReplacedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
    call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 100 )
endfunction

//===========================================================================
function InitTrig_Capturing_Mine_25g takes nothing returns nothing
    set gg_trg_Capturing_Mine_25g = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Capturing_Mine_25g, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Capturing_Mine_25g, Condition( function Trig_Capturing_Mine_25g_Conditions ) )
    call TriggerAddAction( gg_trg_Capturing_Mine_25g, function Trig_Capturing_Mine_25g_Actions )
endfunction

//===========================================================================
// Trigger: Capturing Mine 40g
//===========================================================================
function Trig_Capturing_Mine_40g_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h03C' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Mine_40g_Conditions takes nothing returns boolean
    if ( not Trig_Capturing_Mine_40g_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Mine_40g_Actions takes nothing returns nothing
    set udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 40 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 1 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 1 )
    call ReplaceUnitBJ( GetAttackedUnitBJ(), 'h022', bj_UNIT_STATE_METHOD_DEFAULTS )
    call SetUnitOwner( GetLastReplacedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
    call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 100 )
endfunction

//===========================================================================
function InitTrig_Capturing_Mine_40g takes nothing returns nothing
    set gg_trg_Capturing_Mine_40g = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Capturing_Mine_40g, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Capturing_Mine_40g, Condition( function Trig_Capturing_Mine_40g_Conditions ) )
    call TriggerAddAction( gg_trg_Capturing_Mine_40g, function Trig_Capturing_Mine_40g_Actions )
endfunction

//===========================================================================
// Trigger: Capturing Mine 50g
//===========================================================================
function Trig_Capturing_Mine_50g_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h039' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Mine_50g_Conditions takes nothing returns boolean
    if ( not Trig_Capturing_Mine_50g_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Mine_50g_Actions takes nothing returns nothing
    set udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 50 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 1 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 1 )
    call ReplaceUnitBJ( GetAttackedUnitBJ(), 'h024', bj_UNIT_STATE_METHOD_DEFAULTS )
    call SetUnitOwner( GetLastReplacedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
    call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 100 )
endfunction

//===========================================================================
function InitTrig_Capturing_Mine_50g takes nothing returns nothing
    set gg_trg_Capturing_Mine_50g = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Capturing_Mine_50g, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Capturing_Mine_50g, Condition( function Trig_Capturing_Mine_50g_Conditions ) )
    call TriggerAddAction( gg_trg_Capturing_Mine_50g, function Trig_Capturing_Mine_50g_Actions )
endfunction

//===========================================================================
// Trigger: Capturing Iron Mine 20g
//===========================================================================
function Trig_Capturing_Iron_Mine_20g_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h03B' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Iron_Mine_20g_Conditions takes nothing returns boolean
    if ( not Trig_Capturing_Iron_Mine_20g_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Capturing_Iron_Mine_20g_Actions takes nothing returns nothing
    set udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 20 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 1 )
    set udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_PlayerRegions[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 1 )
    call ReplaceUnitBJ( GetAttackedUnitBJ(), 'h03V', bj_UNIT_STATE_METHOD_DEFAULTS )
    call SetUnitOwner( GetLastReplacedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
    call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 100 )
endfunction

//===========================================================================
function InitTrig_Capturing_Iron_Mine_20g takes nothing returns nothing
    set gg_trg_Capturing_Iron_Mine_20g = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Capturing_Iron_Mine_20g, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Capturing_Iron_Mine_20g, Condition( function Trig_Capturing_Iron_Mine_20g_Conditions ) )
    call TriggerAddAction( gg_trg_Capturing_Iron_Mine_20g, function Trig_Capturing_Iron_Mine_20g_Actions )
endfunction

//===========================================================================
// Trigger: Iron Mine Upgrade
//===========================================================================
function Trig_Iron_Mine_Upgrade_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h03B' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Iron_Mine_Upgrade_Actions takes nothing returns nothing
    set udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_PlayerGold[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 20 )
endfunction

//===========================================================================
function InitTrig_Iron_Mine_Upgrade takes nothing returns nothing
    set gg_trg_Iron_Mine_Upgrade = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Iron_Mine_Upgrade, EVENT_PLAYER_UNIT_UPGRADE_FINISH )
    call TriggerAddCondition( gg_trg_Iron_Mine_Upgrade, Condition( function Trig_Iron_Mine_Upgrade_Conditions ) )
    call TriggerAddAction( gg_trg_Iron_Mine_Upgrade, function Trig_Iron_Mine_Upgrade_Actions )
endfunction

//===========================================================================
// Trigger: Mine Pile of Iron
//===========================================================================
function Trig_Mine_Pile_of_Iron_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTrainedUnit()) == 'h03O' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Mine_Pile_of_Iron_Actions takes nothing returns nothing
    set udg_Iron_Point = GetRandomLocInRect(gg_rct_Iron_Region)
    call SetUnitPositionLoc( GetTrainedUnit(), udg_Iron_Point )
    call RemoveLocation(udg_Iron_Point)
endfunction

//===========================================================================
function InitTrig_Mine_Pile_of_Iron takes nothing returns nothing
    set gg_trg_Mine_Pile_of_Iron = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Mine_Pile_of_Iron, EVENT_PLAYER_UNIT_TRAIN_FINISH )
    call TriggerAddCondition( gg_trg_Mine_Pile_of_Iron, Condition( function Trig_Mine_Pile_of_Iron_Conditions ) )
    call TriggerAddAction( gg_trg_Mine_Pile_of_Iron, function Trig_Mine_Pile_of_Iron_Actions )
endfunction

//===========================================================================
// Trigger: Purchase Pile of Iron
//===========================================================================
function Trig_Purchase_Pile_of_Iron_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTrainedUnit()) == 'h03R' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Purchase_Pile_of_Iron_Actions takes nothing returns nothing
    set udg_Iron_Point = GetRandomLocInRect(gg_rct_Iron_Region)
    call CreateNUnitsAtLoc( 1, 'h03O', GetOwningPlayer(GetTrainedUnit()), udg_Iron_Point, bj_UNIT_FACING )
    call RemoveUnit( GetTrainedUnit() )
    call RemoveLocation(udg_Iron_Point)
endfunction

//===========================================================================
function InitTrig_Purchase_Pile_of_Iron takes nothing returns nothing
    set gg_trg_Purchase_Pile_of_Iron = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Purchase_Pile_of_Iron, EVENT_PLAYER_UNIT_TRAIN_FINISH )
    call TriggerAddCondition( gg_trg_Purchase_Pile_of_Iron, Condition( function Trig_Purchase_Pile_of_Iron_Conditions ) )
    call TriggerAddAction( gg_trg_Purchase_Pile_of_Iron, function Trig_Purchase_Pile_of_Iron_Actions )
endfunction

//===========================================================================
// Trigger: Trade Iron Horse
//===========================================================================
function Trig_Trade_Iron_Horse_Func008C takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A02L' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h03P' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 'h013' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Trade_Iron_Horse_Conditions takes nothing returns boolean
    if ( not Trig_Trade_Iron_Horse_Func008C() ) then
        return false
    endif
    return true
endfunction

function Trig_Trade_Iron_Horse_Actions takes nothing returns nothing
    set udg_Iron_Point = GetRandomLocInRect(gg_rct_Iron_Region)
    call CreateNUnitsAtLoc( 1, 'h03O', GetOwningPlayer(GetSpellTargetUnit()), udg_Iron_Point, bj_UNIT_FACING )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), "TRIGSTR_1335" )
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), GetUnitLoc(GetSpellTargetUnit()), 2.00 )
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), GetUnitLoc(GetSpellTargetUnit()), 2.00 )
    call RemoveUnit( GetSpellAbilityUnit() )
    call RemoveLocation(udg_Iron_Point)
endfunction

//===========================================================================
function InitTrig_Trade_Iron_Horse takes nothing returns nothing
    set gg_trg_Trade_Iron_Horse = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Trade_Iron_Horse, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Trade_Iron_Horse, Condition( function Trig_Trade_Iron_Horse_Conditions ) )
    call TriggerAddAction( gg_trg_Trade_Iron_Horse, function Trig_Trade_Iron_Horse_Actions )
endfunction

//===========================================================================
// Trigger: Trade Iron Ship
//===========================================================================
function Trig_Trade_Iron_Ship_Func008C takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A02L' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h03Q' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 'h00Y' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Trade_Iron_Ship_Conditions takes nothing returns boolean
    if ( not Trig_Trade_Iron_Ship_Func008C() ) then
        return false
    endif
    return true
endfunction

function Trig_Trade_Iron_Ship_Actions takes nothing returns nothing
    set udg_Iron_Point = GetRandomLocInRect(gg_rct_Iron_Region)
    call CreateNUnitsAtLoc( 1, 'h03O', GetOwningPlayer(GetSpellTargetUnit()), udg_Iron_Point, bj_UNIT_FACING )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), "TRIGSTR_1336" )
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), GetUnitLoc(GetSpellTargetUnit()), 2.00 )
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), GetUnitLoc(GetSpellTargetUnit()), 2.00 )
    call RemoveUnit( GetSpellAbilityUnit() )
    call RemoveLocation(udg_Iron_Point)
endfunction

//===========================================================================
function InitTrig_Trade_Iron_Ship takes nothing returns nothing
    set gg_trg_Trade_Iron_Ship = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Trade_Iron_Ship, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Trade_Iron_Ship, Condition( function Trig_Trade_Iron_Ship_Conditions ) )
    call TriggerAddAction( gg_trg_Trade_Iron_Ship, function Trig_Trade_Iron_Ship_Actions )
endfunction

//===========================================================================
// Trigger: Castle Tier 1 Built
//===========================================================================
function Trig_Castle_Tier_1_Built_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h051' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_Tier_1_Built_Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_Tier_1_Built_Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_Tier_1_Built_Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_Tier_1_Built_Actions takes nothing returns nothing
    if ( Trig_Castle_Tier_1_Built_Func001C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 20 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 25 )
    else
        if ( Trig_Castle_Tier_1_Built_Func001Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 30 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 50 )
        else
            if ( Trig_Castle_Tier_1_Built_Func001Func001Func001C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 40 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 75 )
            else
            endif
        endif
    endif
    set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 10 )
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )
    call ReplaceUnitBJ( GetTriggerUnit(), 'h02C', bj_UNIT_STATE_METHOD_RELATIVE )
    call UnitAddAbilityBJ( 'A02B', GetLastReplacedUnitBJ() )
    call UnitAddAbilityBJ( 'A03D', GetLastReplacedUnitBJ() )
endfunction

//===========================================================================
function InitTrig_Castle_Tier_1_Built takes nothing returns nothing
    set gg_trg_Castle_Tier_1_Built = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Castle_Tier_1_Built, EVENT_PLAYER_UNIT_UPGRADE_FINISH )
    call TriggerAddCondition( gg_trg_Castle_Tier_1_Built, Condition( function Trig_Castle_Tier_1_Built_Conditions ) )
    call TriggerAddAction( gg_trg_Castle_Tier_1_Built, function Trig_Castle_Tier_1_Built_Actions )
endfunction

//===========================================================================
// Trigger: Castle Tier 2 Upgrade
//===========================================================================
function Trig_Castle_Tier_2_Upgrade_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h02D' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_Tier_2_Upgrade_Actions takes nothing returns nothing
    set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 10 )
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )
    call UnitAddAbilityBJ( 'A02B', GetTriggerUnit() )
    call UnitAddAbilityBJ( 'A03E', GetTriggerUnit() )
endfunction

//===========================================================================
function InitTrig_Castle_Tier_2_Upgrade takes nothing returns nothing
    set gg_trg_Castle_Tier_2_Upgrade = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Castle_Tier_2_Upgrade, EVENT_PLAYER_UNIT_UPGRADE_FINISH )
    call TriggerAddCondition( gg_trg_Castle_Tier_2_Upgrade, Condition( function Trig_Castle_Tier_2_Upgrade_Conditions ) )
    call TriggerAddAction( gg_trg_Castle_Tier_2_Upgrade, function Trig_Castle_Tier_2_Upgrade_Actions )
endfunction

//===========================================================================
// Trigger: Castle Tier 3 Upgrade
//===========================================================================
function Trig_Castle_Tier_3_Upgrade_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h01I' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_Tier_3_Upgrade_Actions takes nothing returns nothing
    set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 10 )
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )
    call UnitAddAbilityBJ( 'A02B', GetTriggerUnit() )
    call UnitAddAbilityBJ( 'A03F', GetTriggerUnit() )
endfunction

//===========================================================================
function InitTrig_Castle_Tier_3_Upgrade takes nothing returns nothing
    set gg_trg_Castle_Tier_3_Upgrade = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Castle_Tier_3_Upgrade, EVENT_PLAYER_UNIT_UPGRADE_FINISH )
    call TriggerAddCondition( gg_trg_Castle_Tier_3_Upgrade, Condition( function Trig_Castle_Tier_3_Upgrade_Conditions ) )
    call TriggerAddAction( gg_trg_Castle_Tier_3_Upgrade, function Trig_Castle_Tier_3_Upgrade_Actions )
endfunction

//===========================================================================
// Trigger: Destroy Castle DUMMY TAX LOW
//===========================================================================
function Trig_Destroy_Castle_DUMMY_TAX_LOW_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h051' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_LOW_Conditions takes nothing returns boolean
    if ( not Trig_Destroy_Castle_DUMMY_TAX_LOW_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_LOW_Func002Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_LOW_Func002Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_LOW_Func002Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_LOW_Func002C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A03D', GetAttackedUnitBJ()) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_LOW_Func003C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03J')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_LOW_Func005A takes nothing returns nothing
    call SetUnitManaBJ( GetEnumUnit(), I2R(udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]) )
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_LOW_Actions takes nothing returns nothing
    if ( Trig_Destroy_Castle_DUMMY_TAX_LOW_Func002C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )
        set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 10 )
    else
        if ( Trig_Destroy_Castle_DUMMY_TAX_LOW_Func002Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 20 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 25 )
        else
            if ( Trig_Destroy_Castle_DUMMY_TAX_LOW_Func002Func001Func001C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 30 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 50 )
            else
                if ( Trig_Destroy_Castle_DUMMY_TAX_LOW_Func002Func001Func001Func001C() ) then
                    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 40 )
                    set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 75 )
                else
                endif
            endif
        endif
    endif
    if ( Trig_Destroy_Castle_DUMMY_TAX_LOW_Func003C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 20 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 25 )
        call SetUnitOwner( GetTriggerUnit(), GetOwningPlayer(GetAttacker()), true )
        call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 60.00 )
        call SetUnitManaPercentBJ( GetAttackedUnitBJ(), 30.00 )
        call ReplaceUnitBJ( GetTriggerUnit(), 'h031', bj_UNIT_STATE_METHOD_RELATIVE )
    else
    endif
    set udg_UnhappinessZ = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03G')
    call ForGroupBJ( udg_UnhappinessZ, function Trig_Destroy_Castle_DUMMY_TAX_LOW_Func005A )
    call DestroyGroup(udg_UnhappinessZ)
endfunction

//===========================================================================
function InitTrig_Destroy_Castle_DUMMY_TAX_LOW takes nothing returns nothing
    set gg_trg_Destroy_Castle_DUMMY_TAX_LOW = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Destroy_Castle_DUMMY_TAX_LOW, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Destroy_Castle_DUMMY_TAX_LOW, Condition( function Trig_Destroy_Castle_DUMMY_TAX_LOW_Conditions ) )
    call TriggerAddAction( gg_trg_Destroy_Castle_DUMMY_TAX_LOW, function Trig_Destroy_Castle_DUMMY_TAX_LOW_Actions )
endfunction

//===========================================================================
// Trigger: Destroy Castle DUMMY TAX MED
//===========================================================================
function Trig_Destroy_Castle_DUMMY_TAX_MED_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h051' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_MED_Conditions takes nothing returns boolean
    if ( not Trig_Destroy_Castle_DUMMY_TAX_MED_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_MED_Func002Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_MED_Func002Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_MED_Func002Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_MED_Func002C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A03D', GetAttackedUnitBJ()) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_MED_Func003C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03K')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_MED_Func005A takes nothing returns nothing
    call SetUnitManaBJ( GetEnumUnit(), I2R(udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]) )
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_MED_Actions takes nothing returns nothing
    if ( Trig_Destroy_Castle_DUMMY_TAX_MED_Func002C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )
        set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 10 )
    else
        if ( Trig_Destroy_Castle_DUMMY_TAX_MED_Func002Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 20 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 25 )
        else
            if ( Trig_Destroy_Castle_DUMMY_TAX_MED_Func002Func001Func001C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 30 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 50 )
            else
                if ( Trig_Destroy_Castle_DUMMY_TAX_MED_Func002Func001Func001Func001C() ) then
                    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 40 )
                    set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 75 )
                else
                endif
            endif
        endif
    endif
    if ( Trig_Destroy_Castle_DUMMY_TAX_MED_Func003C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 30 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 50 )
        call SetUnitOwner( GetTriggerUnit(), GetOwningPlayer(GetAttacker()), true )
        call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 60.00 )
        call SetUnitManaPercentBJ( GetAttackedUnitBJ(), 30.00 )
        call ReplaceUnitBJ( GetTriggerUnit(), 'h031', bj_UNIT_STATE_METHOD_RELATIVE )
    else
    endif
    set udg_UnhappinessZ = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03G')
    call ForGroupBJ( udg_UnhappinessZ, function Trig_Destroy_Castle_DUMMY_TAX_MED_Func005A )
    call DestroyGroup(udg_UnhappinessZ)
endfunction

//===========================================================================
function InitTrig_Destroy_Castle_DUMMY_TAX_MED takes nothing returns nothing
    set gg_trg_Destroy_Castle_DUMMY_TAX_MED = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Destroy_Castle_DUMMY_TAX_MED, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Destroy_Castle_DUMMY_TAX_MED, Condition( function Trig_Destroy_Castle_DUMMY_TAX_MED_Conditions ) )
    call TriggerAddAction( gg_trg_Destroy_Castle_DUMMY_TAX_MED, function Trig_Destroy_Castle_DUMMY_TAX_MED_Actions )
endfunction

//===========================================================================
// Trigger: Destroy Castle DUMMY TAX HIGH
//===========================================================================
function Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h051' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_HIGH_Conditions takes nothing returns boolean
    if ( not Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func002Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func002Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func002Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func002C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A03D', GetAttackedUnitBJ()) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func003C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03L')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func005A takes nothing returns nothing
    call SetUnitManaBJ( GetEnumUnit(), I2R(udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]) )
endfunction

function Trig_Destroy_Castle_DUMMY_TAX_HIGH_Actions takes nothing returns nothing
    if ( Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func002C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )
        set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 10 )
    else
        if ( Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func002Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 20 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 25 )
        else
            if ( Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func002Func001Func001C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 30 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 50 )
            else
                if ( Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func002Func001Func001Func001C() ) then
                    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 40 )
                    set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 75 )
                else
                endif
            endif
        endif
    endif
    if ( Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func003C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 40 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 75 )
        call SetUnitOwner( GetTriggerUnit(), GetOwningPlayer(GetAttacker()), true )
        call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 60.00 )
        call SetUnitManaPercentBJ( GetAttackedUnitBJ(), 30.00 )
        call ReplaceUnitBJ( GetTriggerUnit(), 'h031', bj_UNIT_STATE_METHOD_RELATIVE )
    else
    endif
    set udg_UnhappinessZ = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03G')
    call ForGroupBJ( udg_UnhappinessZ, function Trig_Destroy_Castle_DUMMY_TAX_HIGH_Func005A )
    call DestroyGroup(udg_UnhappinessZ)
endfunction

//===========================================================================
function InitTrig_Destroy_Castle_DUMMY_TAX_HIGH takes nothing returns nothing
    set gg_trg_Destroy_Castle_DUMMY_TAX_HIGH = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Destroy_Castle_DUMMY_TAX_HIGH, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Destroy_Castle_DUMMY_TAX_HIGH, Condition( function Trig_Destroy_Castle_DUMMY_TAX_HIGH_Conditions ) )
    call TriggerAddAction( gg_trg_Destroy_Castle_DUMMY_TAX_HIGH, function Trig_Destroy_Castle_DUMMY_TAX_HIGH_Actions )
endfunction

//===========================================================================
// Trigger: Destroy Castle Tier 1
//===========================================================================
function Trig_Destroy_Castle_Tier_1_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h02C' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_Tier_1_Conditions takes nothing returns boolean
    if ( not Trig_Destroy_Castle_Tier_1_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_Tier_1_Actions takes nothing returns nothing
    set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 10 )
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] )
    set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 10 )
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] )
    call SetUnitOwner( GetAttackedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
    call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 80.00 )
    call SetUnitManaPercentBJ( GetAttackedUnitBJ(), 0.00 )
endfunction

//===========================================================================
function InitTrig_Destroy_Castle_Tier_1 takes nothing returns nothing
    set gg_trg_Destroy_Castle_Tier_1 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Destroy_Castle_Tier_1, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Destroy_Castle_Tier_1, Condition( function Trig_Destroy_Castle_Tier_1_Conditions ) )
    call TriggerAddAction( gg_trg_Destroy_Castle_Tier_1, function Trig_Destroy_Castle_Tier_1_Actions )
endfunction

//===========================================================================
// Trigger: Destroy Castle Tier 2
//===========================================================================
function Trig_Destroy_Castle_Tier_2_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h02D' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_Tier_2_Conditions takes nothing returns boolean
    if ( not Trig_Destroy_Castle_Tier_2_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_Tier_2_Func002C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A03E', GetAttackedUnitBJ()) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_Tier_2_Actions takes nothing returns nothing
    if ( Trig_Destroy_Castle_Tier_2_Func002C() ) then
        set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 20 )
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] )
        set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 20 )
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] )
        call SetUnitOwner( GetAttackedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
        call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 80.00 )
        call SetUnitManaPercentBJ( GetAttackedUnitBJ(), 0.00 )
    else
        set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 10 )
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] )
        set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 10 )
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] )
        call ReplaceUnitBJ( GetAttackedUnitBJ(), 'h02C', bj_UNIT_STATE_METHOD_RELATIVE )
        call SetUnitOwner( GetLastReplacedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
        call SetUnitLifePercentBJ( GetLastReplacedUnitBJ(), 80.00 )
        call SetUnitManaPercentBJ( GetLastReplacedUnitBJ(), 0.00 )
        call UnitAddAbilityBJ( 'A02B', GetLastReplacedUnitBJ() )
    endif
endfunction

//===========================================================================
function InitTrig_Destroy_Castle_Tier_2 takes nothing returns nothing
    set gg_trg_Destroy_Castle_Tier_2 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Destroy_Castle_Tier_2, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Destroy_Castle_Tier_2, Condition( function Trig_Destroy_Castle_Tier_2_Conditions ) )
    call TriggerAddAction( gg_trg_Destroy_Castle_Tier_2, function Trig_Destroy_Castle_Tier_2_Actions )
endfunction

//===========================================================================
// Trigger: Destroy Castle Tier 3
//===========================================================================
function Trig_Destroy_Castle_Tier_3_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h01I' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_Tier_3_Conditions takes nothing returns boolean
    if ( not Trig_Destroy_Castle_Tier_3_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_Tier_3_Func002C takes nothing returns boolean
    if ( not ( GetUnitAbilityLevelSwapped('A03F', GetAttackedUnitBJ()) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Destroy_Castle_Tier_3_Actions takes nothing returns nothing
    if ( Trig_Destroy_Castle_Tier_3_Func002C() ) then
        set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 30 )
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] )
        set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 30 )
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] )
        call SetUnitOwner( GetAttackedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
        call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 80.00 )
        call SetUnitManaPercentBJ( GetAttackedUnitBJ(), 0.00 )
    else
        set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 20 )
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] )
        set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 20 )
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] )
        call ReplaceUnitBJ( GetAttackedUnitBJ(), 'h02D', bj_UNIT_STATE_METHOD_RELATIVE )
        call SetUnitOwner( GetLastReplacedUnitBJ(), Player(PLAYER_NEUTRAL_PASSIVE), true )
        call SetUnitLifePercentBJ( GetLastReplacedUnitBJ(), 80.00 )
        call SetUnitManaPercentBJ( GetLastReplacedUnitBJ(), 0.00 )
        call UnitAddAbilityBJ( 'A02B', GetLastReplacedUnitBJ() )
    endif
endfunction

//===========================================================================
function InitTrig_Destroy_Castle_Tier_3 takes nothing returns nothing
    set gg_trg_Destroy_Castle_Tier_3 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Destroy_Castle_Tier_3, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Destroy_Castle_Tier_3, Condition( function Trig_Destroy_Castle_Tier_3_Conditions ) )
    call TriggerAddAction( gg_trg_Destroy_Castle_Tier_3, function Trig_Destroy_Castle_Tier_3_Actions )
endfunction

//===========================================================================
// Trigger: City Hall Up
//===========================================================================
function Trig_City_Hall_Up_Func002C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h04U' ) ) then
        return false
    endif
    return true
endfunction

function Trig_City_Hall_Up_Conditions takes nothing returns boolean
    if ( not Trig_City_Hall_Up_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_City_Hall_Up_Func003Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_City_Hall_Up_Func003Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_City_Hall_Up_Func003C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_City_Hall_Up_Actions takes nothing returns nothing
    call UnitAddAbilityBJ( 'A02B', GetTriggerUnit() )
    if ( Trig_City_Hall_Up_Func003C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 20 )
    else
        if ( Trig_City_Hall_Up_Func003Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 30 )
        else
            if ( Trig_City_Hall_Up_Func003Func001Func001C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 40 )
            else
            endif
        endif
    endif
    call ReplaceUnitBJ( GetTriggerUnit(), 'h03M', bj_UNIT_STATE_METHOD_RELATIVE )
    call UnitAddAbilityBJ( 'A02B', GetLastReplacedUnitBJ() )
endfunction

//===========================================================================
function InitTrig_City_Hall_Up takes nothing returns nothing
    set gg_trg_City_Hall_Up = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_City_Hall_Up, EVENT_PLAYER_UNIT_UPGRADE_FINISH )
    call TriggerAddCondition( gg_trg_City_Hall_Up, Condition( function Trig_City_Hall_Up_Conditions ) )
    call TriggerAddAction( gg_trg_City_Hall_Up, function Trig_City_Hall_Up_Actions )
endfunction

//===========================================================================
// Trigger: Castle 1 To Town Hall
//===========================================================================
function Trig_Castle_1_To_Town_Hall_Func004C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h00L' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_1_To_Town_Hall_Conditions takes nothing returns boolean
    if ( not Trig_Castle_1_To_Town_Hall_Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_1_To_Town_Hall_Func005Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_1_To_Town_Hall_Func005Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_1_To_Town_Hall_Func005C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_1_To_Town_Hall_Actions takes nothing returns nothing
    set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 10 )
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )
    call UnitAddAbilityBJ( 'A02B', GetTriggerUnit() )
    if ( Trig_Castle_1_To_Town_Hall_Func005C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 20 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 25 )
    else
        if ( Trig_Castle_1_To_Town_Hall_Func005Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 30 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 50 )
        else
            if ( Trig_Castle_1_To_Town_Hall_Func005Func001Func001C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 40 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 75 )
            else
            endif
        endif
    endif
    call ReplaceUnitBJ( GetTriggerUnit(), 'h031', bj_UNIT_STATE_METHOD_RELATIVE )
    call UnitAddAbilityBJ( 'A02B', GetLastReplacedUnitBJ() )
endfunction

//===========================================================================
function InitTrig_Castle_1_To_Town_Hall takes nothing returns nothing
    set gg_trg_Castle_1_To_Town_Hall = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Castle_1_To_Town_Hall, EVENT_PLAYER_UNIT_UPGRADE_FINISH )
    call TriggerAddCondition( gg_trg_Castle_1_To_Town_Hall, Condition( function Trig_Castle_1_To_Town_Hall_Conditions ) )
    call TriggerAddAction( gg_trg_Castle_1_To_Town_Hall, function Trig_Castle_1_To_Town_Hall_Actions )
endfunction

//===========================================================================
// Trigger: Castle 2 To City Hall
//===========================================================================
function Trig_Castle_2_To_City_Hall_Func004C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h00K' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_2_To_City_Hall_Conditions takes nothing returns boolean
    if ( not Trig_Castle_2_To_City_Hall_Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_2_To_City_Hall_Func005Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_2_To_City_Hall_Func005Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_2_To_City_Hall_Func005C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Castle_2_To_City_Hall_Actions takes nothing returns nothing
    set udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] - 20 )
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] )
    call UnitAddAbilityBJ( 'A02B', GetTriggerUnit() )
    if ( Trig_Castle_2_To_City_Hall_Func005C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 20 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 25 )
    else
        if ( Trig_Castle_2_To_City_Hall_Func005Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 30 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 50 )
        else
            if ( Trig_Castle_2_To_City_Hall_Func005Func001Func001C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 40 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] + 75 )
            else
            endif
        endif
    endif
    call ReplaceUnitBJ( GetTriggerUnit(), 'h03M', bj_UNIT_STATE_METHOD_RELATIVE )
    call UnitAddAbilityBJ( 'A02B', GetLastReplacedUnitBJ() )
endfunction

//===========================================================================
function InitTrig_Castle_2_To_City_Hall takes nothing returns nothing
    set gg_trg_Castle_2_To_City_Hall = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Castle_2_To_City_Hall, EVENT_PLAYER_UNIT_UPGRADE_FINISH )
    call TriggerAddCondition( gg_trg_Castle_2_To_City_Hall, Condition( function Trig_Castle_2_To_City_Hall_Conditions ) )
    call TriggerAddAction( gg_trg_Castle_2_To_City_Hall, function Trig_Castle_2_To_City_Hall_Actions )
endfunction

//===========================================================================
// Trigger: Turn unres 2 Copy
//===========================================================================
function Trig_Turn_unres_2_Copy_Actions takes nothing returns nothing
    call EnableTrigger( gg_trg_UNREST_SYSTEM_HIGH_TAX_Copy )
    call EnableTrigger( gg_trg_UNREST_SYSTEM_MED_TAX_Copy )
    call EnableTrigger( gg_trg_UNREST_SYSTEM_LOW_TAX_Copy )
endfunction

//===========================================================================
function InitTrig_Turn_unres_2_Copy takes nothing returns nothing
    set gg_trg_Turn_unres_2_Copy = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Turn_unres_2_Copy, 60.00 )
    call TriggerAddAction( gg_trg_Turn_unres_2_Copy, function Trig_Turn_unres_2_Copy_Actions )
endfunction

//===========================================================================
// Trigger: UNREST SYSTEM HIGH TAX Copy
//===========================================================================
function Trig_UNREST_SYSTEM_HIGH_TAX_Copy_Func003Func001Func001Func003C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h04Z')) >= 1 ) ) then
        return false
    endif
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] >= 6000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_UNREST_SYSTEM_HIGH_TAX_Copy_Func003Func001Func001C takes nothing returns boolean
    if ( not Trig_UNREST_SYSTEM_HIGH_TAX_Copy_Func003Func001Func001Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_UNREST_SYSTEM_HIGH_TAX_Copy_Func003Func001Func002C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h03L')) >= 1 ) ) then
        return false
    endif
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] < 6000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_UNREST_SYSTEM_HIGH_TAX_Copy_Func003Func001C takes nothing returns boolean
    if ( not Trig_UNREST_SYSTEM_HIGH_TAX_Copy_Func003Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_UNREST_SYSTEM_HIGH_TAX_Copy_Func003A takes nothing returns nothing
    if ( Trig_UNREST_SYSTEM_HIGH_TAX_Copy_Func003Func001C() ) then
        set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] + udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] )
        set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] - udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] )
    else
        if ( Trig_UNREST_SYSTEM_HIGH_TAX_Copy_Func003Func001Func001C() ) then
            set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] - 100 )
            set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] - udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] )
        else
        endif
    endif
endfunction

function Trig_UNREST_SYSTEM_HIGH_TAX_Copy_Actions takes nothing returns nothing
    set udg_Unrest1 = GetUnitsOfTypeIdAll('H03F')
    call ForGroupBJ( udg_Unrest1, function Trig_UNREST_SYSTEM_HIGH_TAX_Copy_Func003A )
    call DestroyGroup(udg_Unrest1)
endfunction

//===========================================================================
function InitTrig_UNREST_SYSTEM_HIGH_TAX_Copy takes nothing returns nothing
    set gg_trg_UNREST_SYSTEM_HIGH_TAX_Copy = CreateTrigger(  )
    call DisableTrigger( gg_trg_UNREST_SYSTEM_HIGH_TAX_Copy )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_UNREST_SYSTEM_HIGH_TAX_Copy, udg_Income )
    call TriggerAddAction( gg_trg_UNREST_SYSTEM_HIGH_TAX_Copy, function Trig_UNREST_SYSTEM_HIGH_TAX_Copy_Actions )
endfunction

//===========================================================================
// Trigger: UNREST SYSTEM MED TAX Copy
//===========================================================================
function Trig_UNREST_SYSTEM_MED_TAX_Copy_Func003Func001Func003Func003C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h050')) >= 1 ) ) then
        return false
    endif
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] >= 4000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_UNREST_SYSTEM_MED_TAX_Copy_Func003Func001Func003C takes nothing returns boolean
    if ( not Trig_UNREST_SYSTEM_MED_TAX_Copy_Func003Func001Func003Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_UNREST_SYSTEM_MED_TAX_Copy_Func003Func001Func004C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h03K')) >= 1 ) ) then
        return false
    endif
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] < 4000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_UNREST_SYSTEM_MED_TAX_Copy_Func003Func001C takes nothing returns boolean
    if ( not Trig_UNREST_SYSTEM_MED_TAX_Copy_Func003Func001Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_UNREST_SYSTEM_MED_TAX_Copy_Func003A takes nothing returns nothing
    if ( Trig_UNREST_SYSTEM_MED_TAX_Copy_Func003Func001C() ) then
        set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] + udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] )
        set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] - udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] )
    else
        if ( Trig_UNREST_SYSTEM_MED_TAX_Copy_Func003Func001Func003C() ) then
            set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] - 100 )
            set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] - udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] )
        else
        endif
    endif
endfunction

function Trig_UNREST_SYSTEM_MED_TAX_Copy_Actions takes nothing returns nothing
    set udg_Unrest1 = GetUnitsOfTypeIdAll('H03F')
    call ForGroupBJ( udg_Unrest1, function Trig_UNREST_SYSTEM_MED_TAX_Copy_Func003A )
    call DestroyGroup(udg_Unrest1)
endfunction

//===========================================================================
function InitTrig_UNREST_SYSTEM_MED_TAX_Copy takes nothing returns nothing
    set gg_trg_UNREST_SYSTEM_MED_TAX_Copy = CreateTrigger(  )
    call DisableTrigger( gg_trg_UNREST_SYSTEM_MED_TAX_Copy )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_UNREST_SYSTEM_MED_TAX_Copy, udg_Income )
    call TriggerAddAction( gg_trg_UNREST_SYSTEM_MED_TAX_Copy, function Trig_UNREST_SYSTEM_MED_TAX_Copy_Actions )
endfunction

//===========================================================================
// Trigger: UNREST SYSTEM LOW TAX Copy
//===========================================================================
function Trig_UNREST_SYSTEM_LOW_TAX_Copy_Func003Func001Func003Func003C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h051')) >= 1 ) ) then
        return false
    endif
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] >= 2000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_UNREST_SYSTEM_LOW_TAX_Copy_Func003Func001Func003C takes nothing returns boolean
    if ( not Trig_UNREST_SYSTEM_LOW_TAX_Copy_Func003Func001Func003Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_UNREST_SYSTEM_LOW_TAX_Copy_Func003Func001Func004C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetEnumUnit()), 'h03J')) >= 1 ) ) then
        return false
    endif
    if ( not ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] < 2000 ) ) then
        return false
    endif
    return true
endfunction

function Trig_UNREST_SYSTEM_LOW_TAX_Copy_Func003Func001C takes nothing returns boolean
    if ( not Trig_UNREST_SYSTEM_LOW_TAX_Copy_Func003Func001Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_UNREST_SYSTEM_LOW_TAX_Copy_Func003A takes nothing returns nothing
    if ( Trig_UNREST_SYSTEM_LOW_TAX_Copy_Func003Func001C() ) then
        set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] + udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] )
        set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] - udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] )
    else
        if ( Trig_UNREST_SYSTEM_LOW_TAX_Copy_Func003Func001Func003C() ) then
            set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] - 100 )
            set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] - udg_Unhappiness3[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] )
        else
        endif
    endif
endfunction

function Trig_UNREST_SYSTEM_LOW_TAX_Copy_Actions takes nothing returns nothing
    set udg_Unrest1 = GetUnitsOfTypeIdAll('H03F')
    call ForGroupBJ( udg_Unrest1, function Trig_UNREST_SYSTEM_LOW_TAX_Copy_Func003A )
    call DestroyGroup(udg_Unrest1)
endfunction

//===========================================================================
function InitTrig_UNREST_SYSTEM_LOW_TAX_Copy takes nothing returns nothing
    set gg_trg_UNREST_SYSTEM_LOW_TAX_Copy = CreateTrigger(  )
    call DisableTrigger( gg_trg_UNREST_SYSTEM_LOW_TAX_Copy )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_UNREST_SYSTEM_LOW_TAX_Copy, udg_Income )
    call TriggerAddAction( gg_trg_UNREST_SYSTEM_LOW_TAX_Copy, function Trig_UNREST_SYSTEM_LOW_TAX_Copy_Actions )
endfunction

//===========================================================================
// Trigger: High Tax FIX Copy
//===========================================================================
function Trig_High_Tax_FIX_Copy_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A02H' ) ) then
        return false
    endif
    return true
endfunction

function Trig_High_Tax_FIX_Copy_Func002A takes nothing returns nothing
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( CountUnitsInGroup(udg_TownHallTax) * 40 )
    set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( CountUnitsInGroup(udg_TownHallTax) * 75 )
endfunction

function Trig_High_Tax_FIX_Copy_Func005A takes nothing returns nothing
    set udg_THTax2[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( CountUnitsInGroup(udg_TownHallTax2) * 80 )
    set udg_TaxUnrest2[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( CountUnitsInGroup(udg_TownHallTax2) * 75 )
endfunction

function Trig_High_Tax_FIX_Copy_Func012A takes nothing returns nothing
    call ReplaceUnitBJ( GetEnumUnit(), 'h03L', bj_UNIT_STATE_METHOD_RELATIVE )
endfunction

function Trig_High_Tax_FIX_Copy_Actions takes nothing returns nothing
    set udg_TownHallTax = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetSpellAbilityUnit()), 'h031')
    call ForGroupBJ( udg_TownHallTax, function Trig_High_Tax_FIX_Copy_Func002A )
    call DestroyGroup(udg_TownHallTax)
    set udg_TownHallTax2 = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetSpellAbilityUnit()), 'h03M')
    call ForGroupBJ( udg_TownHallTax2, function Trig_High_Tax_FIX_Copy_Func005A )
    call DestroyGroup(udg_TownHallTax2)
    set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + udg_TaxUnrest2[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] )
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + udg_THTax2[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] )
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] )
    set udg_TaxPeasant = GetUnitsInRectOfPlayer(gg_rct_Tax_Region, GetOwningPlayer(GetSpellAbilityUnit()))
    call ForGroupBJ( udg_TaxPeasant, function Trig_High_Tax_FIX_Copy_Func012A )
    call DestroyGroup(udg_TaxPeasant)
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())), "TRIGSTR_2212" )
endfunction

//===========================================================================
function InitTrig_High_Tax_FIX_Copy takes nothing returns nothing
    set gg_trg_High_Tax_FIX_Copy = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_High_Tax_FIX_Copy, EVENT_PLAYER_UNIT_SPELL_EFFECT )
    call TriggerAddCondition( gg_trg_High_Tax_FIX_Copy, Condition( function Trig_High_Tax_FIX_Copy_Conditions ) )
    call TriggerAddAction( gg_trg_High_Tax_FIX_Copy, function Trig_High_Tax_FIX_Copy_Actions )
endfunction

//===========================================================================
// Trigger: Medium Tax FIX Copy
//===========================================================================
function Trig_Medium_Tax_FIX_Copy_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A02I' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Medium_Tax_FIX_Copy_Func002A takes nothing returns nothing
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( CountUnitsInGroup(udg_TownHallTax) * 30 )
    set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( CountUnitsInGroup(udg_TownHallTax) * 50 )
endfunction

function Trig_Medium_Tax_FIX_Copy_Func005A takes nothing returns nothing
    set udg_THTax2[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( CountUnitsInGroup(udg_TownHallTax2) * 60 )
    set udg_TaxUnrest2[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( CountUnitsInGroup(udg_TownHallTax2) * 50 )
endfunction

function Trig_Medium_Tax_FIX_Copy_Func012A takes nothing returns nothing
    call ReplaceUnitBJ( GetEnumUnit(), 'h03K', bj_UNIT_STATE_METHOD_RELATIVE )
endfunction

function Trig_Medium_Tax_FIX_Copy_Actions takes nothing returns nothing
    set udg_TownHallTax = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetSpellAbilityUnit()), 'h031')
    call ForGroupBJ( udg_TownHallTax, function Trig_Medium_Tax_FIX_Copy_Func002A )
    call DestroyGroup(udg_TownHallTax)
    set udg_TownHallTax2 = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetSpellAbilityUnit()), 'h03M')
    call ForGroupBJ( udg_TownHallTax2, function Trig_Medium_Tax_FIX_Copy_Func005A )
    call DestroyGroup(udg_TownHallTax2)
    set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + udg_TaxUnrest2[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] )
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + udg_THTax2[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] )
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] )
    set udg_TaxPeasant = GetUnitsInRectOfPlayer(gg_rct_Tax_Region, GetOwningPlayer(GetSpellAbilityUnit()))
    call ForGroupBJ( udg_TaxPeasant, function Trig_Medium_Tax_FIX_Copy_Func012A )
    call DestroyGroup(udg_TaxPeasant)
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())), "TRIGSTR_2213" )
endfunction

//===========================================================================
function InitTrig_Medium_Tax_FIX_Copy takes nothing returns nothing
    set gg_trg_Medium_Tax_FIX_Copy = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Medium_Tax_FIX_Copy, EVENT_PLAYER_UNIT_SPELL_EFFECT )
    call TriggerAddCondition( gg_trg_Medium_Tax_FIX_Copy, Condition( function Trig_Medium_Tax_FIX_Copy_Conditions ) )
    call TriggerAddAction( gg_trg_Medium_Tax_FIX_Copy, function Trig_Medium_Tax_FIX_Copy_Actions )
endfunction

//===========================================================================
// Trigger: Low Tax FIX Copy
//===========================================================================
function Trig_Low_Tax_FIX_Copy_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A02J' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Low_Tax_FIX_Copy_Func002A takes nothing returns nothing
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( CountUnitsInGroup(udg_TownHallTax) * 20 )
    set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( CountUnitsInGroup(udg_TownHallTax) * 25 )
endfunction

function Trig_Low_Tax_FIX_Copy_Func005A takes nothing returns nothing
    set udg_THTax2[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( CountUnitsInGroup(udg_TownHallTax2) * 40 )
    set udg_TaxUnrest2[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))] = ( CountUnitsInGroup(udg_TownHallTax2) * 25 )
endfunction

function Trig_Low_Tax_FIX_Copy_Func012A takes nothing returns nothing
    call ReplaceUnitBJ( GetEnumUnit(), 'h03J', bj_UNIT_STATE_METHOD_RELATIVE )
endfunction

function Trig_Low_Tax_FIX_Copy_Actions takes nothing returns nothing
    set udg_TownHallTax = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetSpellAbilityUnit()), 'h031')
    call ForGroupBJ( udg_TownHallTax, function Trig_Low_Tax_FIX_Copy_Func002A )
    call DestroyGroup(udg_TownHallTax)
    set udg_TownHallTax2 = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetSpellAbilityUnit()), 'h03M')
    call ForGroupBJ( udg_TownHallTax2, function Trig_Low_Tax_FIX_Copy_Func005A )
    call DestroyGroup(udg_TownHallTax2)
    set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + udg_TaxUnrest2[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] )
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + udg_THTax2[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] )
    set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + udg_THTax3[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] )
    set udg_TaxPeasant = GetUnitsInRectOfPlayer(gg_rct_Tax_Region, GetOwningPlayer(GetSpellAbilityUnit()))
    call ForGroupBJ( udg_TaxPeasant, function Trig_Low_Tax_FIX_Copy_Func012A )
    call DestroyGroup(udg_TaxPeasant)
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())), "TRIGSTR_2214" )
endfunction

//===========================================================================
function InitTrig_Low_Tax_FIX_Copy takes nothing returns nothing
    set gg_trg_Low_Tax_FIX_Copy = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Low_Tax_FIX_Copy, EVENT_PLAYER_UNIT_SPELL_EFFECT )
    call TriggerAddCondition( gg_trg_Low_Tax_FIX_Copy, Condition( function Trig_Low_Tax_FIX_Copy_Conditions ) )
    call TriggerAddAction( gg_trg_Low_Tax_FIX_Copy, function Trig_Low_Tax_FIX_Copy_Actions )
endfunction

//===========================================================================
// Trigger: Tax Pay Copy 12P
//===========================================================================
function Trig_Tax_Pay_Copy_12P_Actions takes nothing returns nothing
    set bj_forLoopAIndex = 0
    set bj_forLoopAIndexEnd = 21
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call AdjustPlayerStateBJ( udg_THTax[GetForLoopIndexA()], ConvertedPlayer(GetForLoopIndexA()), PLAYER_STATE_RESOURCE_GOLD )
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Tax_Pay_Copy_12P takes nothing returns nothing
    set gg_trg_Tax_Pay_Copy_12P = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Tax_Pay_Copy_12P, udg_Income )
    call TriggerAddAction( gg_trg_Tax_Pay_Copy_12P, function Trig_Tax_Pay_Copy_12P_Actions )
endfunction

//===========================================================================
// Trigger: Set Tax Values 12P
//===========================================================================
function Trig_Set_Tax_Values_12P_Actions takes nothing returns nothing
    set bj_forLoopAIndex = 0
    set bj_forLoopAIndexEnd = 21
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_TaxUnrest[GetForLoopIndexA()] = 0
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Set_Tax_Values_12P takes nothing returns nothing
    set gg_trg_Set_Tax_Values_12P = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Set_Tax_Values_12P, 59.00 )
    call TriggerAddAction( gg_trg_Set_Tax_Values_12P, function Trig_Set_Tax_Values_12P_Actions )
endfunction

//===========================================================================
// Trigger: Initial upkeep 12P
//===========================================================================
function Trig_Initial_upkeep_12P_Actions takes nothing returns nothing
    set bj_forLoopAIndex = 0
    set bj_forLoopAIndexEnd = 21
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        set udg_PlayerTax[GetForLoopIndexA()] = 0
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Initial_upkeep_12P takes nothing returns nothing
    set gg_trg_Initial_upkeep_12P = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Initial_upkeep_12P, 1.00 )
    call TriggerAddAction( gg_trg_Initial_upkeep_12P, function Trig_Initial_upkeep_12P_Actions )
endfunction

//===========================================================================
// Trigger: Stats Command 12P
//===========================================================================
function Trig_Stats_Command_12P_Func001001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Stats_Command_12P_Func002001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Stats_Command_12P_Func003001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Stats_Command_12P_Func004001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Stats_Command_12P_Func005001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Stats_Command_12P_Func006001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Stats_Command_12P_Actions takes nothing returns nothing
    call DisplayTextToForce( GetPlayersMatching(Condition(function Trig_Stats_Command_12P_Func001001001)), ( "Your current Income is |cFFFFD700" + I2S(udg_PlayerGold[GetConvertedPlayerId(GetTriggerPlayer())]) ) )
    call DisplayTextToForce( GetPlayersMatching(Condition(function Trig_Stats_Command_12P_Func002001001)), ( "Your current Tax pay is |cFFFFD700" + I2S(udg_THTax[GetConvertedPlayerId(GetTriggerPlayer())]) ) )
    call DisplayTextToForce( GetPlayersMatching(Condition(function Trig_Stats_Command_12P_Func003001001)), ( "Your current Upkeep is |cFFFFD700" + I2S(udg_PlayerTax[GetConvertedPlayerId(GetTriggerPlayer())]) ) )
    call DisplayTextToForce( GetPlayersMatching(Condition(function Trig_Stats_Command_12P_Func004001001)), ( "Your current Unrest is |cFFFFD700" + I2S(udg_Unhappiness[GetConvertedPlayerId(GetTriggerPlayer())]) ) )
    call DisplayTextToForce( GetPlayersMatching(Condition(function Trig_Stats_Command_12P_Func005001001)), ( "Your current Unrest Increase is |cFFFFD700" + I2S(udg_TaxUnrest[GetConvertedPlayerId(GetTriggerPlayer())]) ) )
    call DisplayTextToForce( GetPlayersMatching(Condition(function Trig_Stats_Command_12P_Func006001001)), ( "Your current Unrest Decrease is |cFFFFD700" + I2S(udg_Unhappiness3[GetConvertedPlayerId(GetTriggerPlayer())]) ) )
endfunction

//===========================================================================
function InitTrig_Stats_Command_12P takes nothing returns nothing
    set gg_trg_Stats_Command_12P = CreateTrigger(  )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(0), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(1), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(2), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(3), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(4), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(5), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(6), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(7), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(8), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(9), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(10), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(11), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(12), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(13), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(14), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(15), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(16), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(17), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(18), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(19), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(20), "-stats", true )
    call TriggerRegisterPlayerChatEvent( gg_trg_Stats_Command_12P, Player(21), "-stats", true )
    call TriggerAddAction( gg_trg_Stats_Command_12P, function Trig_Stats_Command_12P_Actions )
endfunction

//===========================================================================
// Trigger: Stats Button
//===========================================================================
function Trig_Stats_Button_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A02N' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Stats_Button_Func001001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Stats_Button_Func002001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Stats_Button_Func003001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Stats_Button_Func004001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Stats_Button_Func005001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Stats_Button_Func006001001 takes nothing returns boolean
    return ( GetFilterPlayer() == GetTriggerPlayer() )
endfunction

function Trig_Stats_Button_Actions takes nothing returns nothing
    call DisplayTextToForce( GetPlayersMatching(Condition(function Trig_Stats_Button_Func001001001)), ( "Your current Income is |cFFFFD700" + I2S(udg_PlayerGold[GetConvertedPlayerId(GetTriggerPlayer())]) ) )
    call DisplayTextToForce( GetPlayersMatching(Condition(function Trig_Stats_Button_Func002001001)), ( "Your current Tax pay is |cFFFFD700" + I2S(udg_THTax[GetConvertedPlayerId(GetTriggerPlayer())]) ) )
    call DisplayTextToForce( GetPlayersMatching(Condition(function Trig_Stats_Button_Func003001001)), ( "Your current Upkeep is |cFFFFD700" + I2S(udg_PlayerTax[GetConvertedPlayerId(GetTriggerPlayer())]) ) )
    call DisplayTextToForce( GetPlayersMatching(Condition(function Trig_Stats_Button_Func004001001)), ( "Your current Unrest is |cFFFFD700" + I2S(udg_Unhappiness[GetConvertedPlayerId(GetTriggerPlayer())]) ) )
    call DisplayTextToForce( GetPlayersMatching(Condition(function Trig_Stats_Button_Func005001001)), ( "Your current Unrest Increase is |cFFFFD700" + I2S(udg_TaxUnrest[GetConvertedPlayerId(GetTriggerPlayer())]) ) )
    call DisplayTextToForce( GetPlayersMatching(Condition(function Trig_Stats_Button_Func006001001)), ( "Your current Unrest Decrease is |cFFFFD700" + I2S(udg_Unhappiness3[GetConvertedPlayerId(GetTriggerPlayer())]) ) )
endfunction

//===========================================================================
function InitTrig_Stats_Button takes nothing returns nothing
    set gg_trg_Stats_Button = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Stats_Button, EVENT_PLAYER_UNIT_SPELL_EFFECT )
    call TriggerAddCondition( gg_trg_Stats_Button, Condition( function Trig_Stats_Button_Conditions ) )
    call TriggerAddAction( gg_trg_Stats_Button, function Trig_Stats_Button_Actions )
endfunction

//===========================================================================
// Trigger: Income Copy 12P
//===========================================================================
function Trig_Income_Copy_12P_Actions takes nothing returns nothing
    set bj_forLoopAIndex = 0
    set bj_forLoopAIndexEnd = 21
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call AdjustPlayerStateBJ( udg_PlayerTax[GetForLoopIndexA()], ConvertedPlayer(GetForLoopIndexA()), PLAYER_STATE_RESOURCE_GOLD )
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_Income_Copy_12P takes nothing returns nothing
    set gg_trg_Income_Copy_12P = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Income_Copy_12P, udg_Income )
    call TriggerAddAction( gg_trg_Income_Copy_12P, function Trig_Income_Copy_12P_Actions )
endfunction

//===========================================================================
// Trigger: upkeep
//===========================================================================
function Trig_upkeep_Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnteringUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h019' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h01A' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h03G' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h03L' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h03J' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h03K' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h03O' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h03R' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h00I' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h017' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h018' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h029' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h03Q' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnteringUnit()) != 'h028' ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetEnteringUnit(), UNIT_TYPE_STRUCTURE) != true ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetEnteringUnit(), UNIT_TYPE_HERO) != true ) ) then
        return false
    endif
    return true
endfunction

function Trig_upkeep_Conditions takes nothing returns boolean
    if ( not Trig_upkeep_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_upkeep_Actions takes nothing returns nothing
    set udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetEnteringUnit()))] = ( udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetEnteringUnit()))] - GetUnitLevel(GetEnteringUnit()) )
endfunction

//===========================================================================
function InitTrig_upkeep takes nothing returns nothing
    set gg_trg_upkeep = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_upkeep, GetEntireMapRect() )
    call TriggerAddCondition( gg_trg_upkeep, Condition( function Trig_upkeep_Conditions ) )
    call TriggerAddAction( gg_trg_upkeep, function Trig_upkeep_Actions )
endfunction

//===========================================================================
// Trigger: upkeep 2
//===========================================================================
function Trig_upkeep_2_Func002C takes nothing returns boolean
    if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetDyingUnit()) != 'ogru' ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_STRUCTURE) != true ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetDyingUnit()) != 'h03G' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetDyingUnit()) != 'h03L' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetDyingUnit()) != 'h03J' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetDyingUnit()) != 'h03K' ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetDyingUnit(), UNIT_TYPE_HERO) != true ) ) then
        return false
    endif
    return true
endfunction

function Trig_upkeep_2_Conditions takes nothing returns boolean
    if ( not Trig_upkeep_2_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_upkeep_2_Func001C takes nothing returns boolean
    if ( not ( udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] < 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_upkeep_2_Actions takes nothing returns nothing
    if ( Trig_upkeep_2_Func001C() ) then
        set udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] = ( udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] + GetUnitLevel(GetDyingUnit()) )
    else
    endif
endfunction

//===========================================================================
function InitTrig_upkeep_2 takes nothing returns nothing
    set gg_trg_upkeep_2 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_upkeep_2, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_upkeep_2, Condition( function Trig_upkeep_2_Conditions ) )
    call TriggerAddAction( gg_trg_upkeep_2, function Trig_upkeep_2_Actions )
endfunction

//===========================================================================
// Trigger: Trebuchet Dies
//===========================================================================
function Trig_Trebuchet_Dies_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == 'e001' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Trebuchet_Dies_Actions takes nothing returns nothing
    set udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetEnteringUnit()))] = ( udg_PlayerTax[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))] + 10 )
endfunction

//===========================================================================
function InitTrig_Trebuchet_Dies takes nothing returns nothing
    set gg_trg_Trebuchet_Dies = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Trebuchet_Dies, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Trebuchet_Dies, Condition( function Trig_Trebuchet_Dies_Conditions ) )
    call TriggerAddAction( gg_trg_Trebuchet_Dies, function Trig_Trebuchet_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Spy Sabotage on buildings
//===========================================================================
function Trig_Spy_Sabotage_on_buildings_Func002C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'u000' ) ) then
        return false
    endif
    if ( not ( GetSpellAbilityId() == 'A03R' ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetSpellTargetUnit()) != Player(PLAYER_NEUTRAL_AGGRESSIVE) ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetSpellTargetUnit(), UNIT_TYPE_STRUCTURE) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spy_Sabotage_on_buildings_Conditions takes nothing returns boolean
    if ( not Trig_Spy_Sabotage_on_buildings_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Spy_Sabotage_on_buildings_Actions takes nothing returns nothing
    call SetUnitManaBJ( GetSpellTargetUnit(), ( GetUnitStateSwap(UNIT_STATE_MANA, GetSpellTargetUnit()) - 600.00 ) )
endfunction

//===========================================================================
function InitTrig_Spy_Sabotage_on_buildings takes nothing returns nothing
    set gg_trg_Spy_Sabotage_on_buildings = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Spy_Sabotage_on_buildings, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Spy_Sabotage_on_buildings, Condition( function Trig_Spy_Sabotage_on_buildings_Conditions ) )
    call TriggerAddAction( gg_trg_Spy_Sabotage_on_buildings, function Trig_Spy_Sabotage_on_buildings_Actions )
endfunction

//===========================================================================
// Trigger: Grant Independence
//===========================================================================
function Trig_Grant_Independence_Func001C takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A02Z' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h031' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Grant_Independence_Conditions takes nothing returns boolean
    if ( not Trig_Grant_Independence_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Grant_Independence_Func002Func001Func003C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetSpellAbilityUnit()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Grant_Independence_Func002Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetSpellAbilityUnit()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Grant_Independence_Func002C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetSpellAbilityUnit()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Grant_Independence_Actions takes nothing returns nothing
    if ( Trig_Grant_Independence_Func002C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] - 20 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] - 25 )
    else
        if ( Trig_Grant_Independence_Func002Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] - 30 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] - 50 )
        else
            if ( Trig_Grant_Independence_Func002Func001Func003C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] - 40 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] - 75 )
            else
            endif
        endif
    endif
    call ReplaceUnitBJ( GetSpellAbilityUnit(), 'h043', bj_UNIT_STATE_METHOD_RELATIVE )
endfunction

//===========================================================================
function InitTrig_Grant_Independence takes nothing returns nothing
    set gg_trg_Grant_Independence = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Grant_Independence, EVENT_PLAYER_UNIT_SPELL_EFFECT )
    call TriggerAddCondition( gg_trg_Grant_Independence, Condition( function Trig_Grant_Independence_Conditions ) )
    call TriggerAddAction( gg_trg_Grant_Independence, function Trig_Grant_Independence_Actions )
endfunction

//===========================================================================
// Trigger: Independet City attackked
//===========================================================================
function Trig_Independet_City_attackked_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h043' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Independet_City_attackked_Actions takes nothing returns nothing
    call SetUnitOwner( GetAttackedUnitBJ(), Player(PLAYER_NEUTRAL_AGGRESSIVE), true )
endfunction

//===========================================================================
function InitTrig_Independet_City_attackked takes nothing returns nothing
    set gg_trg_Independet_City_attackked = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Independet_City_attackked, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Independet_City_attackked, Condition( function Trig_Independet_City_attackked_Conditions ) )
    call TriggerAddAction( gg_trg_Independet_City_attackked, function Trig_Independet_City_attackked_Actions )
endfunction

//===========================================================================
// Trigger: Take Independence
//===========================================================================
function Trig_Take_Independence_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A030' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h043' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Take_Independence_Func003Func001Func003C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetSpellAbilityUnit()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Take_Independence_Func003Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetSpellAbilityUnit()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Take_Independence_Func003C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetSpellAbilityUnit()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Take_Independence_Actions takes nothing returns nothing
    if ( Trig_Take_Independence_Func003C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + 20 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + 25 )
    else
        if ( Trig_Take_Independence_Func003Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + 30 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + 50 )
        else
            if ( Trig_Take_Independence_Func003Func001Func003C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + 40 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] + 75 )
            else
            endif
        endif
    endif
    call ReplaceUnitBJ( GetSpellAbilityUnit(), 'h031', bj_UNIT_STATE_METHOD_RELATIVE )
endfunction

//===========================================================================
function InitTrig_Take_Independence takes nothing returns nothing
    set gg_trg_Take_Independence = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Take_Independence, EVENT_PLAYER_UNIT_SPELL_EFFECT )
    call TriggerAddCondition( gg_trg_Take_Independence, Condition( function Trig_Take_Independence_Conditions ) )
    call TriggerAddAction( gg_trg_Take_Independence, function Trig_Take_Independence_Actions )
endfunction

//===========================================================================
// Trigger: CH CAP Low Tax
//===========================================================================
function Trig_CH_CAP_Low_Tax_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h03M' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetAttacker()) != 'h00I' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03J')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_Low_Tax_Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_Low_Tax_Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_Low_Tax_Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_Low_Tax_Func002C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03J')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_Low_Tax_Func009A takes nothing returns nothing
    call SetUnitManaBJ( GetEnumUnit(), I2R(udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]) )
endfunction

function Trig_CH_CAP_Low_Tax_Actions takes nothing returns nothing
    if ( Trig_CH_CAP_Low_Tax_Func001C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 40 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 25 )
    else
        if ( Trig_CH_CAP_Low_Tax_Func001Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 60 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 50 )
        else
            if ( Trig_CH_CAP_Low_Tax_Func001Func001Func001C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 80 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 75 )
            else
            endif
        endif
    endif
    if ( Trig_CH_CAP_Low_Tax_Func002C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 40 )
        call SetUnitOwner( GetTriggerUnit(), GetOwningPlayer(GetAttacker()), true )
        call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 60.00 )
        call SetUnitManaPercentBJ( GetAttackedUnitBJ(), 30.00 )
    else
    endif
    set udg_UnhappinessZ = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03G')
    call ForGroupBJ( udg_UnhappinessZ, function Trig_CH_CAP_Low_Tax_Func009A )
    call DestroyGroup(udg_UnhappinessZ)
endfunction

//===========================================================================
function InitTrig_CH_CAP_Low_Tax takes nothing returns nothing
    set gg_trg_CH_CAP_Low_Tax = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_CH_CAP_Low_Tax, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_CH_CAP_Low_Tax, Condition( function Trig_CH_CAP_Low_Tax_Conditions ) )
    call TriggerAddAction( gg_trg_CH_CAP_Low_Tax, function Trig_CH_CAP_Low_Tax_Actions )
endfunction

//===========================================================================
// Trigger: CH CAP Med Tax
//===========================================================================
function Trig_CH_CAP_Med_Tax_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h03M' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetAttacker()) != 'h00I' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03K')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_Med_Tax_Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_Med_Tax_Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_Med_Tax_Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_Med_Tax_Func002C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03K')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_Med_Tax_Func009A takes nothing returns nothing
    call SetUnitManaBJ( GetEnumUnit(), I2R(udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]) )
endfunction

function Trig_CH_CAP_Med_Tax_Actions takes nothing returns nothing
    if ( Trig_CH_CAP_Med_Tax_Func001C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 40 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 25 )
    else
        if ( Trig_CH_CAP_Med_Tax_Func001Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 60 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 50 )
        else
            if ( Trig_CH_CAP_Med_Tax_Func001Func001Func001C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 80 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 75 )
            else
            endif
        endif
    endif
    if ( Trig_CH_CAP_Med_Tax_Func002C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 60 )
        call SetUnitOwner( GetTriggerUnit(), GetOwningPlayer(GetAttacker()), true )
        call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 60.00 )
        call SetUnitManaPercentBJ( GetAttackedUnitBJ(), 30.00 )
    else
    endif
    set udg_UnhappinessZ = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03G')
    call ForGroupBJ( udg_UnhappinessZ, function Trig_CH_CAP_Med_Tax_Func009A )
    call DestroyGroup(udg_UnhappinessZ)
endfunction

//===========================================================================
function InitTrig_CH_CAP_Med_Tax takes nothing returns nothing
    set gg_trg_CH_CAP_Med_Tax = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_CH_CAP_Med_Tax, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_CH_CAP_Med_Tax, Condition( function Trig_CH_CAP_Med_Tax_Conditions ) )
    call TriggerAddAction( gg_trg_CH_CAP_Med_Tax, function Trig_CH_CAP_Med_Tax_Actions )
endfunction

//===========================================================================
// Trigger: CH CAP High Tax
//===========================================================================
function Trig_CH_CAP_High_Tax_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h03M' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetAttacker()) != 'h00I' ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03L')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_High_Tax_Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_High_Tax_Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_High_Tax_Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_High_Tax_Func002C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03L')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_CH_CAP_High_Tax_Func009A takes nothing returns nothing
    call SetUnitManaBJ( GetEnumUnit(), I2R(udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]) )
endfunction

function Trig_CH_CAP_High_Tax_Actions takes nothing returns nothing
    if ( Trig_CH_CAP_High_Tax_Func001C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 40 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 25 )
    else
        if ( Trig_CH_CAP_High_Tax_Func001Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 60 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 50 )
        else
            if ( Trig_CH_CAP_High_Tax_Func001Func001Func001C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 80 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 75 )
            else
            endif
        endif
    endif
    if ( Trig_CH_CAP_High_Tax_Func002C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 80 )
        call SetUnitOwner( GetTriggerUnit(), GetOwningPlayer(GetAttacker()), true )
        call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 60.00 )
        call SetUnitManaPercentBJ( GetAttackedUnitBJ(), 30.00 )
    else
    endif
    set udg_UnhappinessZ = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03G')
    call ForGroupBJ( udg_UnhappinessZ, function Trig_CH_CAP_High_Tax_Func009A )
    call DestroyGroup(udg_UnhappinessZ)
endfunction

//===========================================================================
function InitTrig_CH_CAP_High_Tax takes nothing returns nothing
    set gg_trg_CH_CAP_High_Tax = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_CH_CAP_High_Tax, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_CH_CAP_High_Tax, Condition( function Trig_CH_CAP_High_Tax_Conditions ) )
    call TriggerAddAction( gg_trg_CH_CAP_High_Tax, function Trig_CH_CAP_High_Tax_Actions )
endfunction

//===========================================================================
// Trigger: TH Cap Low Tax
//===========================================================================
function Trig_TH_Cap_Low_Tax_Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h031' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h04U' ) ) then
        return true
    endif
    return false
endfunction

function Trig_TH_Cap_Low_Tax_Func004C takes nothing returns boolean
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetAttacker()) != 'h00I' ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03J')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_Low_Tax_Conditions takes nothing returns boolean
    if ( not Trig_TH_Cap_Low_Tax_Func001C() ) then
        return false
    endif
    if ( not Trig_TH_Cap_Low_Tax_Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_Low_Tax_Func002Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_Low_Tax_Func002Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_Low_Tax_Func002C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_Low_Tax_Func003C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03J')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_Low_Tax_Func007A takes nothing returns nothing
    call SetUnitManaBJ( GetEnumUnit(), I2R(udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]) )
endfunction

function Trig_TH_Cap_Low_Tax_Actions takes nothing returns nothing
    if ( Trig_TH_Cap_Low_Tax_Func002C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 20 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 25 )
    else
        if ( Trig_TH_Cap_Low_Tax_Func002Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 30 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 50 )
        else
            if ( Trig_TH_Cap_Low_Tax_Func002Func001Func001C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 40 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 75 )
            else
            endif
        endif
    endif
    if ( Trig_TH_Cap_Low_Tax_Func003C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 20 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 25 )
        call SetUnitOwner( GetTriggerUnit(), GetOwningPlayer(GetAttacker()), true )
        call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 60.00 )
        call SetUnitManaPercentBJ( GetAttackedUnitBJ(), 30.00 )
        call ReplaceUnitBJ( GetTriggerUnit(), 'h031', bj_UNIT_STATE_METHOD_RELATIVE )
    else
    endif
    set udg_UnhappinessZ = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03G')
    call ForGroupBJ( udg_UnhappinessZ, function Trig_TH_Cap_Low_Tax_Func007A )
    call DestroyGroup(udg_UnhappinessZ)
endfunction

//===========================================================================
function InitTrig_TH_Cap_Low_Tax takes nothing returns nothing
    set gg_trg_TH_Cap_Low_Tax = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_TH_Cap_Low_Tax, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_TH_Cap_Low_Tax, Condition( function Trig_TH_Cap_Low_Tax_Conditions ) )
    call TriggerAddAction( gg_trg_TH_Cap_Low_Tax, function Trig_TH_Cap_Low_Tax_Actions )
endfunction

//===========================================================================
// Trigger: TH Cap Med Tax
//===========================================================================
function Trig_TH_Cap_Med_Tax_Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h031' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h04U' ) ) then
        return true
    endif
    return false
endfunction

function Trig_TH_Cap_Med_Tax_Func004C takes nothing returns boolean
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetAttacker()) != 'h00I' ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03K')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_Med_Tax_Conditions takes nothing returns boolean
    if ( not Trig_TH_Cap_Med_Tax_Func001C() ) then
        return false
    endif
    if ( not Trig_TH_Cap_Med_Tax_Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_Med_Tax_Func002Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_Med_Tax_Func002Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_Med_Tax_Func002C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_Med_Tax_Func003C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03K')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_Med_Tax_Func007A takes nothing returns nothing
    call SetUnitManaBJ( GetEnumUnit(), I2R(udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]) )
endfunction

function Trig_TH_Cap_Med_Tax_Actions takes nothing returns nothing
    if ( Trig_TH_Cap_Med_Tax_Func002C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 20 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 25 )
    else
        if ( Trig_TH_Cap_Med_Tax_Func002Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 30 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 50 )
        else
            if ( Trig_TH_Cap_Med_Tax_Func002Func001Func001C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 40 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 75 )
            else
            endif
        endif
    endif
    if ( Trig_TH_Cap_Med_Tax_Func003C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 30 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 50 )
        call SetUnitOwner( GetTriggerUnit(), GetOwningPlayer(GetAttacker()), true )
        call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 60.00 )
        call SetUnitManaPercentBJ( GetAttackedUnitBJ(), 30.00 )
        call ReplaceUnitBJ( GetTriggerUnit(), 'h031', bj_UNIT_STATE_METHOD_RELATIVE )
    else
    endif
    set udg_UnhappinessZ = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03G')
    call ForGroupBJ( udg_UnhappinessZ, function Trig_TH_Cap_Med_Tax_Func007A )
    call DestroyGroup(udg_UnhappinessZ)
endfunction

//===========================================================================
function InitTrig_TH_Cap_Med_Tax takes nothing returns nothing
    set gg_trg_TH_Cap_Med_Tax = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_TH_Cap_Med_Tax, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_TH_Cap_Med_Tax, Condition( function Trig_TH_Cap_Med_Tax_Conditions ) )
    call TriggerAddAction( gg_trg_TH_Cap_Med_Tax, function Trig_TH_Cap_Med_Tax_Actions )
endfunction

//===========================================================================
// Trigger: TH Cap High Tax
//===========================================================================
function Trig_TH_Cap_High_Tax_Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h031' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h04U' ) ) then
        return true
    endif
    return false
endfunction

function Trig_TH_Cap_High_Tax_Func004C takes nothing returns boolean
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 50.00 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetAttacker()) != 'h00I' ) ) then
        return false
    endif
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03L')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_High_Tax_Conditions takes nothing returns boolean
    if ( not Trig_TH_Cap_High_Tax_Func001C() ) then
        return false
    endif
    if ( not Trig_TH_Cap_High_Tax_Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_High_Tax_Func002Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03L')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_High_Tax_Func002Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03K')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_High_Tax_Func002C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttackedUnitBJ()), 'h03J')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_High_Tax_Func003C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03L')) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_TH_Cap_High_Tax_Func007A takes nothing returns nothing
    call SetUnitManaBJ( GetEnumUnit(), I2R(udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]) )
endfunction

function Trig_TH_Cap_High_Tax_Actions takes nothing returns nothing
    if ( Trig_TH_Cap_High_Tax_Func002C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 20 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 25 )
    else
        if ( Trig_TH_Cap_High_Tax_Func002Func001C() ) then
            set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 30 )
            set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 50 )
        else
            if ( Trig_TH_Cap_High_Tax_Func002Func001Func001C() ) then
                set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 40 )
                set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttackedUnitBJ()))] - 75 )
            else
            endif
        endif
    endif
    if ( Trig_TH_Cap_High_Tax_Func003C() ) then
        set udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_THTax[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 40 )
        set udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] = ( udg_TaxUnrest[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))] + 75 )
        call SetUnitOwner( GetTriggerUnit(), GetOwningPlayer(GetAttacker()), true )
        call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 60.00 )
        call SetUnitManaPercentBJ( GetAttackedUnitBJ(), 30.00 )
        call ReplaceUnitBJ( GetTriggerUnit(), 'h031', bj_UNIT_STATE_METHOD_RELATIVE )
    else
    endif
    set udg_UnhappinessZ = GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetAttacker()), 'h03G')
    call ForGroupBJ( udg_UnhappinessZ, function Trig_TH_Cap_High_Tax_Func007A )
    call DestroyGroup(udg_UnhappinessZ)
endfunction

//===========================================================================
function InitTrig_TH_Cap_High_Tax takes nothing returns nothing
    set gg_trg_TH_Cap_High_Tax = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_TH_Cap_High_Tax, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_TH_Cap_High_Tax, Condition( function Trig_TH_Cap_High_Tax_Conditions ) )
    call TriggerAddAction( gg_trg_TH_Cap_High_Tax, function Trig_TH_Cap_High_Tax_Actions )
endfunction

//===========================================================================
// Trigger: Town Hall Death
//===========================================================================
function Trig_Town_Hall_Death_Func003C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'h03M' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'h04U' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'h00K' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'h00L' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetDyingUnit()) == 'h031' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Town_Hall_Death_Conditions takes nothing returns boolean
    if ( not Trig_Town_Hall_Death_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Town_Hall_Death_Actions takes nothing returns nothing
    set udg_THDEATH = GetUnitLoc(GetDyingUnit())
    call CreateNUnitsAtLoc( 1, 'h031', Player(PLAYER_NEUTRAL_AGGRESSIVE), udg_THDEATH, bj_UNIT_FACING )
    call SetUnitLifePercentBJ( GetLastCreatedUnit(), 80.00 )
    call SetUnitManaPercentBJ( GetLastCreatedUnit(), 10.00 )
    call RemoveLocation(udg_THDEATH)
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())), "TRIGSTR_2768" )
endfunction

//===========================================================================
function InitTrig_Town_Hall_Death takes nothing returns nothing
    set gg_trg_Town_Hall_Death = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Town_Hall_Death, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Town_Hall_Death, Condition( function Trig_Town_Hall_Death_Conditions ) )
    call TriggerAddAction( gg_trg_Town_Hall_Death, function Trig_Town_Hall_Death_Actions )
endfunction

//===========================================================================
// Trigger: Capitol Captured From Player
//===========================================================================
function Trig_Capitol_Captured_From_Player_Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h001' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h002' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetAttackedUnitBJ()) == 'h003' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Capitol_Captured_From_Player_Func002C takes nothing returns boolean
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 70.00 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetAttacker()) != 'h00I' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Capitol_Captured_From_Player_Conditions takes nothing returns boolean
    if ( not Trig_Capitol_Captured_From_Player_Func001C() ) then
        return false
    endif
    if ( not Trig_Capitol_Captured_From_Player_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Capitol_Captured_From_Player_Actions takes nothing returns nothing
    call SetUnitOwner( GetAttackedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
    call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 80.00 )
endfunction

//===========================================================================
function InitTrig_Capitol_Captured_From_Player takes nothing returns nothing
    set gg_trg_Capitol_Captured_From_Player = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Capitol_Captured_From_Player, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Capitol_Captured_From_Player, Condition( function Trig_Capitol_Captured_From_Player_Conditions ) )
    call TriggerAddAction( gg_trg_Capitol_Captured_From_Player, function Trig_Capitol_Captured_From_Player_Actions )
endfunction

//===========================================================================
// Trigger: Capitol start capture West
//===========================================================================
function Trig_Capitol_start_capture_West_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h00I' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 'h031' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Capitol_start_capture_West_Conditions takes nothing returns boolean
    if ( not Trig_Capitol_start_capture_West_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Capitol_start_capture_West_Actions takes nothing returns nothing
    set udg_CapitolSpawn = GetUnitLoc(GetSpellTargetUnit())
    set udg_SpawnFactionPeasant = GetRandomLocInRect(gg_rct_Faction)
    call CreateNUnitsAtLoc( 1, 'h04L', GetOwningPlayer(GetSpellAbilityUnit()), udg_SpawnFactionPeasant, bj_UNIT_FACING )
    call CreateNUnitsAtLoc( 6, 'h000', GetOwningPlayer(GetSpellAbilityUnit()), udg_CapitolSpawn, bj_UNIT_FACING )
    call CreateNUnitsAtLoc( 4, 'h004', GetOwningPlayer(GetSpellAbilityUnit()), udg_CapitolSpawn, bj_UNIT_FACING )
    call CreateNUnitsAtLoc( 1, 'H03A', GetOwningPlayer(GetSpellAbilityUnit()), udg_CapitolSpawn, bj_UNIT_FACING )
    call CreateNUnitsAtLoc( 6, 'h02B', GetOwningPlayer(GetSpellAbilityUnit()), udg_CapitolSpawn, bj_UNIT_FACING )
    call ReplaceUnitBJ( GetSpellTargetUnit(), 'h001', bj_UNIT_STATE_METHOD_RELATIVE )
    call SetUnitOwner( GetLastReplacedUnitBJ(), GetOwningPlayer(GetSpellAbilityUnit()), true )
    call KillUnit( GetSpellAbilityUnit() )
    set udg_Unhappiness[GetConvertedPlayerId(GetOwningPlayer(GetSpellAbilityUnit()))] = 0
    call SetPlayerUnitAvailableBJ( 'h046', false, GetOwningPlayer(GetSpellAbilityUnit()) )
    call SetPlayerUnitAvailableBJ( 'h04G', false, GetOwningPlayer(GetSpellAbilityUnit()) )
    call RemoveLocation(udg_CapitolSpawn)
    call RemoveLocation(udg_SpawnFactionPeasant)
endfunction

//===========================================================================
function InitTrig_Capitol_start_capture_West takes nothing returns nothing
    set gg_trg_Capitol_start_capture_West = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Capitol_start_capture_West, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Capitol_start_capture_West, Condition( function Trig_Capitol_start_capture_West_Conditions ) )
    call TriggerAddAction( gg_trg_Capitol_start_capture_West, function Trig_Capitol_start_capture_West_Actions )
endfunction

//===========================================================================
// Trigger: Convert V2
//===========================================================================
function Trig_Convert_V2_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A024' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Convert_V2_Actions takes nothing returns nothing
    set udg_ConvertPoint = GetUnitLoc(GetSpellTargetUnit())
    call AddSpecialEffectLocBJ( udg_ConvertPoint, "Abilities\\Spells\\Orc\\Voodoo\\VoodooAuraTarget.mdl" )
    call DestroyEffectBJ( GetLastCreatedEffectBJ() )
    set udg_ConvertPoint2 = GetUnitLoc(GetSpellAbilityUnit())
    call AddSpecialEffectLocBJ( udg_ConvertPoint2, "Abilities\\Spells\\Orc\\Voodoo\\VoodooAura.mdl" )
    call DestroyEffectBJ( GetLastCreatedEffectBJ() )
    call RemoveLocation(udg_ConvertPoint)
    call RemoveLocation(udg_ConvertPoint2)
endfunction

//===========================================================================
function InitTrig_Convert_V2 takes nothing returns nothing
    set gg_trg_Convert_V2 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Convert_V2, EVENT_PLAYER_UNIT_SPELL_EFFECT )
    call TriggerAddCondition( gg_trg_Convert_V2, Condition( function Trig_Convert_V2_Conditions ) )
    call TriggerAddAction( gg_trg_Convert_V2, function Trig_Convert_V2_Actions )
endfunction

//===========================================================================
// Trigger: Gate Opening
//===========================================================================
function Trig_Gate_Opening_Func001Func001C takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A028' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h01Y' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Opening_Func001C takes nothing returns boolean
    if ( not Trig_Gate_Opening_Func001Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Opening_Func002Func001C takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A028' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h01X' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Opening_Func002C takes nothing returns boolean
    if ( not Trig_Gate_Opening_Func002Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Opening_Func003Func001C takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A028' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h01Z' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Opening_Func003C takes nothing returns boolean
    if ( not Trig_Gate_Opening_Func003Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Opening_Func004Func001C takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A028' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h02W' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Opening_Func004C takes nothing returns boolean
    if ( not Trig_Gate_Opening_Func004Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Opening_Actions takes nothing returns nothing
    if ( Trig_Gate_Opening_Func001C() ) then
        call ReplaceUnitBJ( GetSpellAbilityUnit(), 'h027', bj_UNIT_STATE_METHOD_RELATIVE )
        call SetUnitAnimation( GetLastReplacedUnitBJ(), "Death Alternate" )
    else
    endif
    if ( Trig_Gate_Opening_Func002C() ) then
        call ReplaceUnitBJ( GetSpellAbilityUnit(), 'h026', bj_UNIT_STATE_METHOD_RELATIVE )
        call SetUnitAnimation( GetLastReplacedUnitBJ(), "Death Alternate" )
    else
    endif
    if ( Trig_Gate_Opening_Func003C() ) then
        call ReplaceUnitBJ( GetSpellAbilityUnit(), 'h02U', bj_UNIT_STATE_METHOD_RELATIVE )
        call SetUnitAnimation( GetLastReplacedUnitBJ(), "Death Alternate" )
    else
    endif
    if ( Trig_Gate_Opening_Func004C() ) then
        call ReplaceUnitBJ( GetSpellAbilityUnit(), 'h02V', bj_UNIT_STATE_METHOD_RELATIVE )
        call SetUnitAnimation( GetLastReplacedUnitBJ(), "Death Alternate" )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Gate_Opening takes nothing returns nothing
    set gg_trg_Gate_Opening = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Gate_Opening, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddAction( gg_trg_Gate_Opening, function Trig_Gate_Opening_Actions )
endfunction

//===========================================================================
// Trigger: Gate Closing WoodGate V
//===========================================================================
function Trig_Gate_Closing_WoodGate_V_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A028' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h027' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Closing_WoodGate_V_Func005Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Closing_WoodGate_V_Func005A takes nothing returns nothing
    if ( Trig_Gate_Closing_WoodGate_V_Func005Func001C() ) then
        call SetUnitPositionLoc( GetEnumUnit(), udg_GVertRP )
    else
    endif
endfunction

function Trig_Gate_Closing_WoodGate_V_Actions takes nothing returns nothing
    set udg_Temp_Point = GetUnitLoc(GetSpellAbilityUnit())
    set udg_GVertRP = OffsetLocation(udg_Temp_Point, 200.00, 0.00)
    set udg_GVertDetectCenter = RectFromCenterSizeBJ(udg_Temp_Point, 300.00, 280.00)
    set udg_GateMovingUnits1 = GetUnitsInRectAll(udg_GVertDetectCenter)
    call ForGroupBJ( udg_GateMovingUnits1, function Trig_Gate_Closing_WoodGate_V_Func005A )
    call ReplaceUnitBJ( GetSpellAbilityUnit(), 'h01Y', bj_UNIT_STATE_METHOD_RELATIVE )
    call ResetUnitAnimation( GetLastReplacedUnitBJ() )
    call DestroyGroup(udg_GateMovingUnits1)
    call RemoveLocation(udg_GVertRP)
    call RemoveLocation(udg_Temp_Point)
endfunction

//===========================================================================
function InitTrig_Gate_Closing_WoodGate_V takes nothing returns nothing
    set gg_trg_Gate_Closing_WoodGate_V = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Gate_Closing_WoodGate_V, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Gate_Closing_WoodGate_V, Condition( function Trig_Gate_Closing_WoodGate_V_Conditions ) )
    call TriggerAddAction( gg_trg_Gate_Closing_WoodGate_V, function Trig_Gate_Closing_WoodGate_V_Actions )
endfunction

//===========================================================================
// Trigger: Gate Closing WoodGate H
//===========================================================================
function Trig_Gate_Closing_WoodGate_H_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A028' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h026' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Closing_WoodGate_H_Func005Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Closing_WoodGate_H_Func005A takes nothing returns nothing
    if ( Trig_Gate_Closing_WoodGate_H_Func005Func001C() ) then
        call SetUnitPositionLoc( GetEnumUnit(), udg_GHoriTP )
    else
    endif
endfunction

function Trig_Gate_Closing_WoodGate_H_Actions takes nothing returns nothing
    set udg_Temp_Point = GetUnitLoc(GetSpellAbilityUnit())
    set udg_GHoriTP = OffsetLocation(udg_Temp_Point, 0.00, 200.00)
    set udg_GHoriDetectCenter = RectFromCenterSizeBJ(udg_Temp_Point, 280.00, 300.00)
    set udg_GateMovingUnits1 = GetUnitsInRectAll(udg_GHoriDetectCenter)
    call ForGroupBJ( udg_GateMovingUnits1, function Trig_Gate_Closing_WoodGate_H_Func005A )
    call ReplaceUnitBJ( GetSpellAbilityUnit(), 'h01X', bj_UNIT_STATE_METHOD_RELATIVE )
    call ResetUnitAnimation( GetLastReplacedUnitBJ() )
    call DestroyGroup(udg_GateMovingUnits1)
    call RemoveLocation(udg_GHoriTP)
    call RemoveLocation(udg_Temp_Point)
endfunction

//===========================================================================
function InitTrig_Gate_Closing_WoodGate_H takes nothing returns nothing
    set gg_trg_Gate_Closing_WoodGate_H = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Gate_Closing_WoodGate_H, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Gate_Closing_WoodGate_H, Condition( function Trig_Gate_Closing_WoodGate_H_Conditions ) )
    call TriggerAddAction( gg_trg_Gate_Closing_WoodGate_H, function Trig_Gate_Closing_WoodGate_H_Actions )
endfunction

//===========================================================================
// Trigger: Gate Closing IronGate V
//===========================================================================
function Trig_Gate_Closing_IronGate_V_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A028' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h02U' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Closing_IronGate_V_Func005Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Closing_IronGate_V_Func005A takes nothing returns nothing
    if ( Trig_Gate_Closing_IronGate_V_Func005Func001C() ) then
        call SetUnitPositionLoc( GetEnumUnit(), udg_GVertRP )
    else
    endif
endfunction

function Trig_Gate_Closing_IronGate_V_Actions takes nothing returns nothing
    set udg_Temp_Point = GetUnitLoc(GetSpellAbilityUnit())
    set udg_GVertRP = OffsetLocation(udg_Temp_Point, 200.00, 0.00)
    set udg_GVertDetectCenter = RectFromCenterSizeBJ(udg_Temp_Point, 300.00, 280.00)
    set udg_GateMovingUnits1 = GetUnitsInRectAll(udg_GVertDetectCenter)
    call ForGroupBJ( udg_GateMovingUnits1, function Trig_Gate_Closing_IronGate_V_Func005A )
    call ReplaceUnitBJ( GetSpellAbilityUnit(), 'h01Z', bj_UNIT_STATE_METHOD_RELATIVE )
    call ResetUnitAnimation( GetLastReplacedUnitBJ() )
    call DestroyGroup(udg_GateMovingUnits1)
    call RemoveLocation(udg_GVertRP)
    call RemoveLocation(udg_Temp_Point)
endfunction

//===========================================================================
function InitTrig_Gate_Closing_IronGate_V takes nothing returns nothing
    set gg_trg_Gate_Closing_IronGate_V = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Gate_Closing_IronGate_V, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Gate_Closing_IronGate_V, Condition( function Trig_Gate_Closing_IronGate_V_Conditions ) )
    call TriggerAddAction( gg_trg_Gate_Closing_IronGate_V, function Trig_Gate_Closing_IronGate_V_Actions )
endfunction

//===========================================================================
// Trigger: Gate Closing IronGate H
//===========================================================================
function Trig_Gate_Closing_IronGate_H_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A028' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h02V' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Closing_IronGate_H_Func005Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetEnumUnit(), UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gate_Closing_IronGate_H_Func005A takes nothing returns nothing
    if ( Trig_Gate_Closing_IronGate_H_Func005Func001C() ) then
        call SetUnitPositionLoc( GetEnumUnit(), udg_GHoriTP )
    else
    endif
endfunction

function Trig_Gate_Closing_IronGate_H_Actions takes nothing returns nothing
    set udg_Temp_Point = GetUnitLoc(GetSpellAbilityUnit())
    set udg_GHoriTP = OffsetLocation(udg_Temp_Point, 0.00, 200.00)
    set udg_GHoriDetectCenter = RectFromCenterSizeBJ(udg_Temp_Point, 280.00, 300.00)
    set udg_GateMovingUnits1 = GetUnitsInRectAll(udg_GHoriDetectCenter)
    call ForGroupBJ( udg_GateMovingUnits1, function Trig_Gate_Closing_IronGate_H_Func005A )
    call ReplaceUnitBJ( GetSpellAbilityUnit(), 'h02W', bj_UNIT_STATE_METHOD_RELATIVE )
    call ResetUnitAnimation( GetLastReplacedUnitBJ() )
    call DestroyGroup(udg_GateMovingUnits1)
    call RemoveLocation(udg_GHoriTP)
    call RemoveLocation(udg_Temp_Point)
endfunction

//===========================================================================
function InitTrig_Gate_Closing_IronGate_H takes nothing returns nothing
    set gg_trg_Gate_Closing_IronGate_H = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Gate_Closing_IronGate_H, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Gate_Closing_IronGate_H, Condition( function Trig_Gate_Closing_IronGate_H_Conditions ) )
    call TriggerAddAction( gg_trg_Gate_Closing_IronGate_H, function Trig_Gate_Closing_IronGate_H_Actions )
endfunction

//===========================================================================
// Trigger: Supply Horses
//===========================================================================
function Trig_Supply_Horses_Func002Func001C takes nothing returns boolean
    if ( not ( GetUnitStateSwap(UNIT_STATE_MANA, GetEnumUnit()) <= 0.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Supply_Horses_Func002A takes nothing returns nothing
    if ( Trig_Supply_Horses_Func002Func001C() ) then
        call KillUnit( GetEnumUnit() )
    else
        call DoNothing(  )
    endif
endfunction

function Trig_Supply_Horses_Actions takes nothing returns nothing
    set udg_Supplyhorses = GetUnitsOfTypeIdAll('h016')
    call ForGroupBJ( udg_Supplyhorses, function Trig_Supply_Horses_Func002A )
    call DestroyGroup(udg_Supplyhorses)
endfunction

//===========================================================================
function InitTrig_Supply_Horses takes nothing returns nothing
    set gg_trg_Supply_Horses = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Supply_Horses, 5.00 )
    call TriggerAddAction( gg_trg_Supply_Horses, function Trig_Supply_Horses_Actions )
endfunction

//===========================================================================
// Trigger: Supply Horse 2
//===========================================================================
function Trig_Supply_Horse_2_Func002Func001C takes nothing returns boolean
    if ( not ( GetUnitStateSwap(UNIT_STATE_MANA, GetEnumUnit()) <= 0.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Supply_Horse_2_Func002A takes nothing returns nothing
    if ( Trig_Supply_Horse_2_Func002Func001C() ) then
        call KillUnit( GetEnumUnit() )
    else
        call DoNothing(  )
    endif
endfunction

function Trig_Supply_Horse_2_Actions takes nothing returns nothing
    set udg_Supplyhorses2 = GetUnitsOfTypeIdAll('h035')
    call ForGroupBJ( udg_Supplyhorses, function Trig_Supply_Horse_2_Func002A )
    call DestroyGroup(udg_Supplyhorses2)
endfunction

//===========================================================================
function InitTrig_Supply_Horse_2 takes nothing returns nothing
    set gg_trg_Supply_Horse_2 = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Supply_Horse_2, 5.00 )
    call TriggerAddAction( gg_trg_Supply_Horse_2, function Trig_Supply_Horse_2_Actions )
endfunction

//===========================================================================
// Trigger: Lumber Horse 250
//===========================================================================
function Trig_Lumber_Horse_250_Func007C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h018' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 'h013' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Lumber_Horse_250_Conditions takes nothing returns boolean
    if ( not Trig_Lumber_Horse_250_Func007C() ) then
        return false
    endif
    return true
endfunction

function Trig_Lumber_Horse_250_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 250, GetOwningPlayer(GetSpellTargetUnit()), PLAYER_STATE_RESOURCE_LUMBER )
    call RemoveUnit( GetSpellAbilityUnit() )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), "TRIGSTR_1229" )
    set udg_TradePoint = GetUnitLoc(GetSpellTargetUnit())
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), udg_TradePoint, 2.00 )
    call RemoveLocation(udg_TradePoint)
endfunction

//===========================================================================
function InitTrig_Lumber_Horse_250 takes nothing returns nothing
    set gg_trg_Lumber_Horse_250 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Lumber_Horse_250, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Lumber_Horse_250, Condition( function Trig_Lumber_Horse_250_Conditions ) )
    call TriggerAddAction( gg_trg_Lumber_Horse_250, function Trig_Lumber_Horse_250_Actions )
endfunction

//===========================================================================
// Trigger: Lumber Horse 500
//===========================================================================
function Trig_Lumber_Horse_500_Func007C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h01A' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 'h013' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Lumber_Horse_500_Conditions takes nothing returns boolean
    if ( not Trig_Lumber_Horse_500_Func007C() ) then
        return false
    endif
    return true
endfunction

function Trig_Lumber_Horse_500_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 500, GetOwningPlayer(GetSpellTargetUnit()), PLAYER_STATE_RESOURCE_LUMBER )
    call RemoveUnit( GetSpellAbilityUnit() )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), "TRIGSTR_1228" )
    set udg_TradePoint = GetUnitLoc(GetSpellTargetUnit())
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), udg_TradePoint, 2.00 )
    call RemoveLocation(udg_TradePoint)
endfunction

//===========================================================================
function InitTrig_Lumber_Horse_500 takes nothing returns nothing
    set gg_trg_Lumber_Horse_500 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Lumber_Horse_500, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Lumber_Horse_500, Condition( function Trig_Lumber_Horse_500_Conditions ) )
    call TriggerAddAction( gg_trg_Lumber_Horse_500, function Trig_Lumber_Horse_500_Actions )
endfunction

//===========================================================================
// Trigger: Gold Horse 250
//===========================================================================
function Trig_Gold_Horse_250_Func007C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h017' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 'h013' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gold_Horse_250_Conditions takes nothing returns boolean
    if ( not Trig_Gold_Horse_250_Func007C() ) then
        return false
    endif
    return true
endfunction

function Trig_Gold_Horse_250_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 250, GetOwningPlayer(GetSpellTargetUnit()), PLAYER_STATE_RESOURCE_GOLD )
    call RemoveUnit( GetSpellAbilityUnit() )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), "TRIGSTR_1230" )
    set udg_TradePoint = GetUnitLoc(GetSpellTargetUnit())
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), udg_TradePoint, 2.00 )
    call RemoveLocation(udg_TradePoint)
endfunction

//===========================================================================
function InitTrig_Gold_Horse_250 takes nothing returns nothing
    set gg_trg_Gold_Horse_250 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Gold_Horse_250, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Gold_Horse_250, Condition( function Trig_Gold_Horse_250_Conditions ) )
    call TriggerAddAction( gg_trg_Gold_Horse_250, function Trig_Gold_Horse_250_Actions )
endfunction

//===========================================================================
// Trigger: Gold Horse 500
//===========================================================================
function Trig_Gold_Horse_500_Func007C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h019' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 'h013' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Gold_Horse_500_Conditions takes nothing returns boolean
    if ( not Trig_Gold_Horse_500_Func007C() ) then
        return false
    endif
    return true
endfunction

function Trig_Gold_Horse_500_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 500, GetOwningPlayer(GetSpellTargetUnit()), PLAYER_STATE_RESOURCE_GOLD )
    call RemoveUnit( GetSpellAbilityUnit() )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), "TRIGSTR_1231" )
    set udg_TradePoint = GetUnitLoc(GetSpellTargetUnit())
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), udg_TradePoint, 2.00 )
    call RemoveLocation(udg_TradePoint)
endfunction

//===========================================================================
function InitTrig_Gold_Horse_500 takes nothing returns nothing
    set gg_trg_Gold_Horse_500 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Gold_Horse_500, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Gold_Horse_500, Condition( function Trig_Gold_Horse_500_Conditions ) )
    call TriggerAddAction( gg_trg_Gold_Horse_500, function Trig_Gold_Horse_500_Actions )
endfunction

//===========================================================================
// Trigger: Killing trading horse l250
//===========================================================================
function Trig_Killing_trading_horse_l250_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == 'h018' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Killing_trading_horse_l250_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 125, GetOwningPlayer(GetKillingUnitBJ()), PLAYER_STATE_RESOURCE_LUMBER )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())), "TRIGSTR_089" )
    set udg_TradePoint = GetUnitLoc(GetDyingUnit())
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetDyingUnit())), udg_TradePoint, 2.00 )
    call RemoveLocation(udg_TradePoint)
endfunction

//===========================================================================
function InitTrig_Killing_trading_horse_l250 takes nothing returns nothing
    set gg_trg_Killing_trading_horse_l250 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Killing_trading_horse_l250, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Killing_trading_horse_l250, Condition( function Trig_Killing_trading_horse_l250_Conditions ) )
    call TriggerAddAction( gg_trg_Killing_trading_horse_l250, function Trig_Killing_trading_horse_l250_Actions )
endfunction

//===========================================================================
// Trigger: Killing trading horse l500
//===========================================================================
function Trig_Killing_trading_horse_l500_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == 'h01A' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Killing_trading_horse_l500_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 250, GetOwningPlayer(GetKillingUnitBJ()), PLAYER_STATE_RESOURCE_LUMBER )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())), "TRIGSTR_090" )
    set udg_TradePoint = GetUnitLoc(GetDyingUnit())
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetDyingUnit())), udg_TradePoint, 2.00 )
    call RemoveLocation(udg_TradePoint)
endfunction

//===========================================================================
function InitTrig_Killing_trading_horse_l500 takes nothing returns nothing
    set gg_trg_Killing_trading_horse_l500 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Killing_trading_horse_l500, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Killing_trading_horse_l500, Condition( function Trig_Killing_trading_horse_l500_Conditions ) )
    call TriggerAddAction( gg_trg_Killing_trading_horse_l500, function Trig_Killing_trading_horse_l500_Actions )
endfunction

//===========================================================================
// Trigger: Killing trading horse g250
//===========================================================================
function Trig_Killing_trading_horse_g250_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == 'h017' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Killing_trading_horse_g250_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 125, GetOwningPlayer(GetKillingUnitBJ()), PLAYER_STATE_RESOURCE_GOLD )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())), "TRIGSTR_091" )
    set udg_TradePoint = GetUnitLoc(GetDyingUnit())
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetDyingUnit())), udg_TradePoint, 2.00 )
    call RemoveLocation(udg_TradePoint)
endfunction

//===========================================================================
function InitTrig_Killing_trading_horse_g250 takes nothing returns nothing
    set gg_trg_Killing_trading_horse_g250 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Killing_trading_horse_g250, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Killing_trading_horse_g250, Condition( function Trig_Killing_trading_horse_g250_Conditions ) )
    call TriggerAddAction( gg_trg_Killing_trading_horse_g250, function Trig_Killing_trading_horse_g250_Actions )
endfunction

//===========================================================================
// Trigger: Killing trading horse g500
//===========================================================================
function Trig_Killing_trading_horse_g500_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == 'h019' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Killing_trading_horse_g500_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 250, GetOwningPlayer(GetKillingUnitBJ()), PLAYER_STATE_RESOURCE_GOLD )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())), "TRIGSTR_092" )
    set udg_TradePoint = GetUnitLoc(GetDyingUnit())
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetDyingUnit())), udg_TradePoint, 2.00 )
    call RemoveLocation(udg_TradePoint)
endfunction

//===========================================================================
function InitTrig_Killing_trading_horse_g500 takes nothing returns nothing
    set gg_trg_Killing_trading_horse_g500 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Killing_trading_horse_g500, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Killing_trading_horse_g500, Condition( function Trig_Killing_trading_horse_g500_Conditions ) )
    call TriggerAddAction( gg_trg_Killing_trading_horse_g500, function Trig_Killing_trading_horse_g500_Actions )
endfunction

//===========================================================================
// Trigger: Trading Lumber Ship
//===========================================================================
function Trig_Trading_Lumber_Ship_Func007C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h028' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 'h00Y' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Trading_Lumber_Ship_Conditions takes nothing returns boolean
    if ( not Trig_Trading_Lumber_Ship_Func007C() ) then
        return false
    endif
    return true
endfunction

function Trig_Trading_Lumber_Ship_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 500, GetOwningPlayer(GetSpellTargetUnit()), PLAYER_STATE_RESOURCE_LUMBER )
    call RemoveUnit( GetSpellAbilityUnit() )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), "TRIGSTR_1232" )
    set udg_TradePoint = GetUnitLoc(GetSpellTargetUnit())
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), udg_TradePoint, 2.00 )
    call RemoveLocation(udg_TradePoint)
endfunction

//===========================================================================
function InitTrig_Trading_Lumber_Ship takes nothing returns nothing
    set gg_trg_Trading_Lumber_Ship = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Trading_Lumber_Ship, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Trading_Lumber_Ship, Condition( function Trig_Trading_Lumber_Ship_Conditions ) )
    call TriggerAddAction( gg_trg_Trading_Lumber_Ship, function Trig_Trading_Lumber_Ship_Actions )
endfunction

//===========================================================================
// Trigger: Trading Gold Ship
//===========================================================================
function Trig_Trading_Gold_Ship_Func007C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetSpellAbilityUnit()) == 'h029' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetSpellTargetUnit()) == 'h00Y' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Trading_Gold_Ship_Conditions takes nothing returns boolean
    if ( not Trig_Trading_Gold_Ship_Func007C() ) then
        return false
    endif
    return true
endfunction

function Trig_Trading_Gold_Ship_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 500, GetOwningPlayer(GetSpellTargetUnit()), PLAYER_STATE_RESOURCE_GOLD )
    call RemoveUnit( GetSpellAbilityUnit() )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), "TRIGSTR_1234" )
    set udg_TradePoint = GetUnitLoc(GetSpellTargetUnit())
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetSpellTargetUnit())), udg_TradePoint, 2.00 )
    call RemoveLocation(udg_TradePoint)
endfunction

//===========================================================================
function InitTrig_Trading_Gold_Ship takes nothing returns nothing
    set gg_trg_Trading_Gold_Ship = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Trading_Gold_Ship, EVENT_PLAYER_UNIT_SPELL_CAST )
    call TriggerAddCondition( gg_trg_Trading_Gold_Ship, Condition( function Trig_Trading_Gold_Ship_Conditions ) )
    call TriggerAddAction( gg_trg_Trading_Gold_Ship, function Trig_Trading_Gold_Ship_Actions )
endfunction

//===========================================================================
// Trigger: Trade
//===========================================================================
function Trig_Trade_Actions takes nothing returns nothing
    call SetMapFlag( MAP_LOCK_RESOURCE_TRADING, false )
endfunction

//===========================================================================
function InitTrig_Trade takes nothing returns nothing
    set gg_trg_Trade = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Trade, function Trig_Trade_Actions )
endfunction

//===========================================================================
// Trigger: killing Gold Ship
//===========================================================================
function Trig_killing_Gold_Ship_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == 'h029' ) ) then
        return false
    endif
    return true
endfunction

function Trig_killing_Gold_Ship_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 500, GetOwningPlayer(GetKillingUnitBJ()), PLAYER_STATE_RESOURCE_GOLD )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())), "TRIGSTR_083" )
    set udg_TradePoint = GetUnitLoc(GetDyingUnit())
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetDyingUnit())), udg_TradePoint, 2.00 )
    call RemoveLocation(udg_TradePoint)
endfunction

//===========================================================================
function InitTrig_killing_Gold_Ship takes nothing returns nothing
    set gg_trg_killing_Gold_Ship = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_killing_Gold_Ship, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_killing_Gold_Ship, Condition( function Trig_killing_Gold_Ship_Conditions ) )
    call TriggerAddAction( gg_trg_killing_Gold_Ship, function Trig_killing_Gold_Ship_Actions )
endfunction

//===========================================================================
// Trigger: killing Lumber Ship
//===========================================================================
function Trig_killing_Lumber_Ship_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == 'h028' ) ) then
        return false
    endif
    return true
endfunction

function Trig_killing_Lumber_Ship_Actions takes nothing returns nothing
    call AdjustPlayerStateBJ( 500, GetOwningPlayer(GetKillingUnitBJ()), PLAYER_STATE_RESOURCE_LUMBER )
    call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())), "TRIGSTR_084" )
    set udg_TradePoint = GetUnitLoc(GetDyingUnit())
    call PingMinimapLocForForce( GetForceOfPlayer(GetOwningPlayer(GetDyingUnit())), udg_TradePoint, 2.00 )
    call RemoveLocation(udg_TradePoint)
endfunction

//===========================================================================
function InitTrig_killing_Lumber_Ship takes nothing returns nothing
    set gg_trg_killing_Lumber_Ship = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_killing_Lumber_Ship, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_killing_Lumber_Ship, Condition( function Trig_killing_Lumber_Ship_Conditions ) )
    call TriggerAddAction( gg_trg_killing_Lumber_Ship, function Trig_killing_Lumber_Ship_Actions )
endfunction

//===========================================================================
// Trigger: FarmHouse
//===========================================================================
function Trig_FarmHouse_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R004' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R004', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_FarmHouse_Conditions takes nothing returns boolean
    if ( not Trig_FarmHouse_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_FarmHouse_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h014', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h007', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_FarmHouse takes nothing returns nothing
    set gg_trg_FarmHouse = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_FarmHouse, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_FarmHouse, Condition( function Trig_FarmHouse_Conditions ) )
    call TriggerAddAction( gg_trg_FarmHouse, function Trig_FarmHouse_Actions )
endfunction

//===========================================================================
// Trigger: Thatched Cottage 1
//===========================================================================
function Trig_Thatched_Cottage_1_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R004' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R004', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Thatched_Cottage_1_Conditions takes nothing returns boolean
    if ( not Trig_Thatched_Cottage_1_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Thatched_Cottage_1_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h00Q', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h010', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Thatched_Cottage_1 takes nothing returns nothing
    set gg_trg_Thatched_Cottage_1 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Thatched_Cottage_1, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Thatched_Cottage_1, Condition( function Trig_Thatched_Cottage_1_Conditions ) )
    call TriggerAddAction( gg_trg_Thatched_Cottage_1, function Trig_Thatched_Cottage_1_Actions )
endfunction

//===========================================================================
// Trigger: Thatched Cottage 2
//===========================================================================
function Trig_Thatched_Cottage_2_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R004' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R004', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Thatched_Cottage_2_Conditions takes nothing returns boolean
    if ( not Trig_Thatched_Cottage_2_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Thatched_Cottage_2_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h00U', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h00S', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Thatched_Cottage_2 takes nothing returns nothing
    set gg_trg_Thatched_Cottage_2 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Thatched_Cottage_2, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Thatched_Cottage_2, Condition( function Trig_Thatched_Cottage_2_Conditions ) )
    call TriggerAddAction( gg_trg_Thatched_Cottage_2, function Trig_Thatched_Cottage_2_Actions )
endfunction

//===========================================================================
// Trigger: Thatched Cottage 3
//===========================================================================
function Trig_Thatched_Cottage_3_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R004' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R004', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Thatched_Cottage_3_Conditions takes nothing returns boolean
    if ( not Trig_Thatched_Cottage_3_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Thatched_Cottage_3_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h00V', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h00R', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Thatched_Cottage_3 takes nothing returns nothing
    set gg_trg_Thatched_Cottage_3 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Thatched_Cottage_3, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Thatched_Cottage_3, Condition( function Trig_Thatched_Cottage_3_Conditions ) )
    call TriggerAddAction( gg_trg_Thatched_Cottage_3, function Trig_Thatched_Cottage_3_Actions )
endfunction

//===========================================================================
// Trigger: Thatched Cottage 4
//===========================================================================
function Trig_Thatched_Cottage_4_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R004' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R004', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Thatched_Cottage_4_Conditions takes nothing returns boolean
    if ( not Trig_Thatched_Cottage_4_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Thatched_Cottage_4_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h00W', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h00T', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Thatched_Cottage_4 takes nothing returns nothing
    set gg_trg_Thatched_Cottage_4 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Thatched_Cottage_4, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Thatched_Cottage_4, Condition( function Trig_Thatched_Cottage_4_Conditions ) )
    call TriggerAddAction( gg_trg_Thatched_Cottage_4, function Trig_Thatched_Cottage_4_Actions )
endfunction

//===========================================================================
// Trigger: Spearmen 1
//===========================================================================
function Trig_Spearmen_1_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00D' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00D', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spearmen_1_Conditions takes nothing returns boolean
    if ( not Trig_Spearmen_1_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Spearmen_1_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h02A', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h02B', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Spearmen_1 takes nothing returns nothing
    set gg_trg_Spearmen_1 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Spearmen_1, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Spearmen_1, Condition( function Trig_Spearmen_1_Conditions ) )
    call TriggerAddAction( gg_trg_Spearmen_1, function Trig_Spearmen_1_Actions )
endfunction

//===========================================================================
// Trigger: Spearmen 2
//===========================================================================
function Trig_Spearmen_2_Func004C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00D' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00D', GetOwningPlayer(GetResearchingUnit())) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spearmen_2_Conditions takes nothing returns boolean
    if ( not Trig_Spearmen_2_Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_Spearmen_2_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h00N', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h02A', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Spearmen_2 takes nothing returns nothing
    set gg_trg_Spearmen_2 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Spearmen_2, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Spearmen_2, Condition( function Trig_Spearmen_2_Conditions ) )
    call TriggerAddAction( gg_trg_Spearmen_2, function Trig_Spearmen_2_Actions )
endfunction

//===========================================================================
// Trigger: Heavy Infantry 1
//===========================================================================
function Trig_Heavy_Infantry_1_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00F' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00F', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Infantry_1_Conditions takes nothing returns boolean
    if ( not Trig_Heavy_Infantry_1_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Infantry_1_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h00G', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h02Y', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Heavy_Infantry_1 takes nothing returns nothing
    set gg_trg_Heavy_Infantry_1 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Heavy_Infantry_1, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Heavy_Infantry_1, Condition( function Trig_Heavy_Infantry_1_Conditions ) )
    call TriggerAddAction( gg_trg_Heavy_Infantry_1, function Trig_Heavy_Infantry_1_Actions )
endfunction

//===========================================================================
// Trigger: Heavy Infantry 2
//===========================================================================
function Trig_Heavy_Infantry_2_Func004C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00F' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00F', GetOwningPlayer(GetResearchingUnit())) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Infantry_2_Conditions takes nothing returns boolean
    if ( not Trig_Heavy_Infantry_2_Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Infantry_2_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h02J', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h00G', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Heavy_Infantry_2 takes nothing returns nothing
    set gg_trg_Heavy_Infantry_2 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Heavy_Infantry_2, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Heavy_Infantry_2, Condition( function Trig_Heavy_Infantry_2_Conditions ) )
    call TriggerAddAction( gg_trg_Heavy_Infantry_2, function Trig_Heavy_Infantry_2_Actions )
endfunction

//===========================================================================
// Trigger: Archer 1
//===========================================================================
function Trig_Archer_1_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00J' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00J', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Archer_1_Conditions takes nothing returns boolean
    if ( not Trig_Archer_1_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Archer_1_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'n000', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'n001', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Archer_1 takes nothing returns nothing
    set gg_trg_Archer_1 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Archer_1, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Archer_1, Condition( function Trig_Archer_1_Conditions ) )
    call TriggerAddAction( gg_trg_Archer_1, function Trig_Archer_1_Actions )
endfunction

//===========================================================================
// Trigger: Archer 2
//===========================================================================
function Trig_Archer_2_Func004C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00J' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00J', GetOwningPlayer(GetResearchingUnit())) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Archer_2_Conditions takes nothing returns boolean
    if ( not Trig_Archer_2_Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_Archer_2_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'n002', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'n000', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Archer_2 takes nothing returns nothing
    set gg_trg_Archer_2 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Archer_2, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Archer_2, Condition( function Trig_Archer_2_Conditions ) )
    call TriggerAddAction( gg_trg_Archer_2, function Trig_Archer_2_Actions )
endfunction

//===========================================================================
// Trigger: Light Infantry 1
//===========================================================================
function Trig_Light_Infantry_1_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00E' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00E', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Light_Infantry_1_Conditions takes nothing returns boolean
    if ( not Trig_Light_Infantry_1_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Light_Infantry_1_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h02I', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h030', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Light_Infantry_1 takes nothing returns nothing
    set gg_trg_Light_Infantry_1 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Light_Infantry_1, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Light_Infantry_1, Condition( function Trig_Light_Infantry_1_Conditions ) )
    call TriggerAddAction( gg_trg_Light_Infantry_1, function Trig_Light_Infantry_1_Actions )
endfunction

//===========================================================================
// Trigger: Light Infantry 2
//===========================================================================
function Trig_Light_Infantry_2_Func004C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00E' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00E', GetOwningPlayer(GetResearchingUnit())) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Light_Infantry_2_Conditions takes nothing returns boolean
    if ( not Trig_Light_Infantry_2_Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_Light_Infantry_2_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h02K', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h02I', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Light_Infantry_2 takes nothing returns nothing
    set gg_trg_Light_Infantry_2 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Light_Infantry_2, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Light_Infantry_2, Condition( function Trig_Light_Infantry_2_Conditions ) )
    call TriggerAddAction( gg_trg_Light_Infantry_2, function Trig_Light_Infantry_2_Actions )
endfunction

//===========================================================================
// Trigger: Pikemen 1
//===========================================================================
function Trig_Pikemen_1_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00G' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00G', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Pikemen_1_Conditions takes nothing returns boolean
    if ( not Trig_Pikemen_1_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Pikemen_1_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h00O', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h02H', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Pikemen_1 takes nothing returns nothing
    set gg_trg_Pikemen_1 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Pikemen_1, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Pikemen_1, Condition( function Trig_Pikemen_1_Conditions ) )
    call TriggerAddAction( gg_trg_Pikemen_1, function Trig_Pikemen_1_Actions )
endfunction

//===========================================================================
// Trigger: Pikemen 2
//===========================================================================
function Trig_Pikemen_2_Func004C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00G' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00G', GetOwningPlayer(GetResearchingUnit())) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Pikemen_2_Conditions takes nothing returns boolean
    if ( not Trig_Pikemen_2_Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_Pikemen_2_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h01L', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h00O', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Pikemen_2 takes nothing returns nothing
    set gg_trg_Pikemen_2 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Pikemen_2, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Pikemen_2, Condition( function Trig_Pikemen_2_Conditions ) )
    call TriggerAddAction( gg_trg_Pikemen_2, function Trig_Pikemen_2_Actions )
endfunction

//===========================================================================
// Trigger: Light Cavalry 1
//===========================================================================
function Trig_Light_Cavalry_1_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00I' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00I', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Light_Cavalry_1_Conditions takes nothing returns boolean
    if ( not Trig_Light_Cavalry_1_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Light_Cavalry_1_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h02P', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h02Q', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Light_Cavalry_1 takes nothing returns nothing
    set gg_trg_Light_Cavalry_1 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Light_Cavalry_1, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Light_Cavalry_1, Condition( function Trig_Light_Cavalry_1_Conditions ) )
    call TriggerAddAction( gg_trg_Light_Cavalry_1, function Trig_Light_Cavalry_1_Actions )
endfunction

//===========================================================================
// Trigger: Light Cavalry 2
//===========================================================================
function Trig_Light_Cavalry_2_Func004C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00I' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00I', GetOwningPlayer(GetResearchingUnit())) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Light_Cavalry_2_Conditions takes nothing returns boolean
    if ( not Trig_Light_Cavalry_2_Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_Light_Cavalry_2_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h02Z', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h02P', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Light_Cavalry_2 takes nothing returns nothing
    set gg_trg_Light_Cavalry_2 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Light_Cavalry_2, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Light_Cavalry_2, Condition( function Trig_Light_Cavalry_2_Conditions ) )
    call TriggerAddAction( gg_trg_Light_Cavalry_2, function Trig_Light_Cavalry_2_Actions )
endfunction

//===========================================================================
// Trigger: Heavy Cavalry 1
//===========================================================================
function Trig_Heavy_Cavalry_1_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00H' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00H', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Cavalry_1_Conditions takes nothing returns boolean
    if ( not Trig_Heavy_Cavalry_1_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Cavalry_1_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h01R', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h00H', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Heavy_Cavalry_1 takes nothing returns nothing
    set gg_trg_Heavy_Cavalry_1 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Heavy_Cavalry_1, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Heavy_Cavalry_1, Condition( function Trig_Heavy_Cavalry_1_Conditions ) )
    call TriggerAddAction( gg_trg_Heavy_Cavalry_1, function Trig_Heavy_Cavalry_1_Actions )
endfunction

//===========================================================================
// Trigger: Heavy Cavalry 2
//===========================================================================
function Trig_Heavy_Cavalry_2_Func004C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00H' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00H', GetOwningPlayer(GetResearchingUnit())) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Cavalry_2_Conditions takes nothing returns boolean
    if ( not Trig_Heavy_Cavalry_2_Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Cavalry_2_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h02X', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h01R', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Heavy_Cavalry_2 takes nothing returns nothing
    set gg_trg_Heavy_Cavalry_2 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Heavy_Cavalry_2, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Heavy_Cavalry_2, Condition( function Trig_Heavy_Cavalry_2_Conditions ) )
    call TriggerAddAction( gg_trg_Heavy_Cavalry_2, function Trig_Heavy_Cavalry_2_Actions )
endfunction

//===========================================================================
// Trigger: Skirmisher
//===========================================================================
function Trig_Skirmisher_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00K' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00K', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Skirmisher_Conditions takes nothing returns boolean
    if ( not Trig_Skirmisher_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Skirmisher_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'n004', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'n003', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Skirmisher takes nothing returns nothing
    set gg_trg_Skirmisher = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Skirmisher, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Skirmisher, Condition( function Trig_Skirmisher_Conditions ) )
    call TriggerAddAction( gg_trg_Skirmisher, function Trig_Skirmisher_Actions )
endfunction

//===========================================================================
// Trigger: Arquebusers
//===========================================================================
function Trig_Arquebusers_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00T' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00T', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Arquebusers_Conditions takes nothing returns boolean
    if ( not Trig_Arquebusers_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Arquebusers_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'n00C', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'n00B', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Arquebusers takes nothing returns nothing
    set gg_trg_Arquebusers = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Arquebusers, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Arquebusers, Condition( function Trig_Arquebusers_Conditions ) )
    call TriggerAddAction( gg_trg_Arquebusers, function Trig_Arquebusers_Actions )
endfunction

//===========================================================================
// Trigger: Supply Horse
//===========================================================================
function Trig_Supply_Horse_Func004C takes nothing returns boolean
    if ( not ( GetResearched() == 'R007' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R007', GetOwningPlayer(GetResearchingUnit())) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Supply_Horse_Conditions takes nothing returns boolean
    if ( not Trig_Supply_Horse_Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_Supply_Horse_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h035', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h016', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Supply_Horse takes nothing returns nothing
    set gg_trg_Supply_Horse = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Supply_Horse, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Supply_Horse, Condition( function Trig_Supply_Horse_Conditions ) )
    call TriggerAddAction( gg_trg_Supply_Horse, function Trig_Supply_Horse_Actions )
endfunction

//===========================================================================
// Trigger: Disabled units at beginning
//===========================================================================
function Trig_Disabled_units_at_beginning_Func002A takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h02A', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h00N', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h00G', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h02J', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'n000', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'n002', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h01R', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h02X', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h02P', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h02Z', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h00O', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h01L', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'n004', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h02I', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h02K', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h035', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'n00C', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h00Q', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h014', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h00U', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h00V', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h00W', false, GetEnumPlayer() )
endfunction

function Trig_Disabled_units_at_beginning_Actions takes nothing returns nothing
    set udg_AllPlayerUnits = GetPlayersAll()
    call ForForce( udg_AllPlayerUnits, function Trig_Disabled_units_at_beginning_Func002A )
endfunction

//===========================================================================
function InitTrig_Disabled_units_at_beginning takes nothing returns nothing
    set gg_trg_Disabled_units_at_beginning = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Disabled_units_at_beginning, 0.10 )
    call TriggerAddAction( gg_trg_Disabled_units_at_beginning, function Trig_Disabled_units_at_beginning_Actions )
endfunction

//===========================================================================
// Trigger: Spearmen 1 Byzantine
//===========================================================================
function Trig_Spearmen_1_Byzantine_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00O' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00O', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spearmen_1_Byzantine_Conditions takes nothing returns boolean
    if ( not Trig_Spearmen_1_Byzantine_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Spearmen_1_Byzantine_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h04B', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h04C', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Spearmen_1_Byzantine takes nothing returns nothing
    set gg_trg_Spearmen_1_Byzantine = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Spearmen_1_Byzantine, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Spearmen_1_Byzantine, Condition( function Trig_Spearmen_1_Byzantine_Conditions ) )
    call TriggerAddAction( gg_trg_Spearmen_1_Byzantine, function Trig_Spearmen_1_Byzantine_Actions )
endfunction

//===========================================================================
// Trigger: Spearmen 2 Byzantine
//===========================================================================
function Trig_Spearmen_2_Byzantine_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00O' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00O', GetOwningPlayer(GetResearchingUnit())) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Spearmen_2_Byzantine_Conditions takes nothing returns boolean
    if ( not Trig_Spearmen_2_Byzantine_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Spearmen_2_Byzantine_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h044', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h04B', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Spearmen_2_Byzantine takes nothing returns nothing
    set gg_trg_Spearmen_2_Byzantine = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Spearmen_2_Byzantine, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Spearmen_2_Byzantine, Condition( function Trig_Spearmen_2_Byzantine_Conditions ) )
    call TriggerAddAction( gg_trg_Spearmen_2_Byzantine, function Trig_Spearmen_2_Byzantine_Actions )
endfunction

//===========================================================================
// Trigger: Heavy Infantry 1 Byzantine
//===========================================================================
function Trig_Heavy_Infantry_1_Byzantine_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00N' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00N', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Infantry_1_Byzantine_Conditions takes nothing returns boolean
    if ( not Trig_Heavy_Infantry_1_Byzantine_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Infantry_1_Byzantine_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h047', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h04A', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Heavy_Infantry_1_Byzantine takes nothing returns nothing
    set gg_trg_Heavy_Infantry_1_Byzantine = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Heavy_Infantry_1_Byzantine, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Heavy_Infantry_1_Byzantine, Condition( function Trig_Heavy_Infantry_1_Byzantine_Conditions ) )
    call TriggerAddAction( gg_trg_Heavy_Infantry_1_Byzantine, function Trig_Heavy_Infantry_1_Byzantine_Actions )
endfunction

//===========================================================================
// Trigger: Heavy Infantry 2 Byzantine
//===========================================================================
function Trig_Heavy_Infantry_2_Byzantine_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00N' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00N', GetOwningPlayer(GetResearchingUnit())) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Infantry_2_Byzantine_Conditions takes nothing returns boolean
    if ( not Trig_Heavy_Infantry_2_Byzantine_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Infantry_2_Byzantine_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h045', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h047', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Heavy_Infantry_2_Byzantine takes nothing returns nothing
    set gg_trg_Heavy_Infantry_2_Byzantine = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Heavy_Infantry_2_Byzantine, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Heavy_Infantry_2_Byzantine, Condition( function Trig_Heavy_Infantry_2_Byzantine_Conditions ) )
    call TriggerAddAction( gg_trg_Heavy_Infantry_2_Byzantine, function Trig_Heavy_Infantry_2_Byzantine_Actions )
endfunction

//===========================================================================
// Trigger: Archer 1 Byzantine
//===========================================================================
function Trig_Archer_1_Byzantine_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00Q' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00Q', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Archer_1_Byzantine_Conditions takes nothing returns boolean
    if ( not Trig_Archer_1_Byzantine_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Archer_1_Byzantine_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'n00A', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'n007', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Archer_1_Byzantine takes nothing returns nothing
    set gg_trg_Archer_1_Byzantine = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Archer_1_Byzantine, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Archer_1_Byzantine, Condition( function Trig_Archer_1_Byzantine_Conditions ) )
    call TriggerAddAction( gg_trg_Archer_1_Byzantine, function Trig_Archer_1_Byzantine_Actions )
endfunction

//===========================================================================
// Trigger: Archer 2 Byzantine
//===========================================================================
function Trig_Archer_2_Byzantine_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00Q' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00Q', GetOwningPlayer(GetResearchingUnit())) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Archer_2_Byzantine_Conditions takes nothing returns boolean
    if ( not Trig_Archer_2_Byzantine_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Archer_2_Byzantine_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'n009', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'n00A', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Archer_2_Byzantine takes nothing returns nothing
    set gg_trg_Archer_2_Byzantine = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Archer_2_Byzantine, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Archer_2_Byzantine, Condition( function Trig_Archer_2_Byzantine_Conditions ) )
    call TriggerAddAction( gg_trg_Archer_2_Byzantine, function Trig_Archer_2_Byzantine_Actions )
endfunction

//===========================================================================
// Trigger: Light Cavalry 1 Byzantine
//===========================================================================
function Trig_Light_Cavalry_1_Byzantine_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00S' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00I', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Light_Cavalry_1_Byzantine_Conditions takes nothing returns boolean
    if ( not Trig_Light_Cavalry_1_Byzantine_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Light_Cavalry_1_Byzantine_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h048', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h04K', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Light_Cavalry_1_Byzantine takes nothing returns nothing
    set gg_trg_Light_Cavalry_1_Byzantine = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Light_Cavalry_1_Byzantine, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Light_Cavalry_1_Byzantine, Condition( function Trig_Light_Cavalry_1_Byzantine_Conditions ) )
    call TriggerAddAction( gg_trg_Light_Cavalry_1_Byzantine, function Trig_Light_Cavalry_1_Byzantine_Actions )
endfunction

//===========================================================================
// Trigger: Heavy Cavalry 1 Byzantine
//===========================================================================
function Trig_Heavy_Cavalry_1_Byzantine_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00R' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00R', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Cavalry_1_Byzantine_Conditions takes nothing returns boolean
    if ( not Trig_Heavy_Cavalry_1_Byzantine_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Cavalry_1_Byzantine_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h04E', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h04D', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Heavy_Cavalry_1_Byzantine takes nothing returns nothing
    set gg_trg_Heavy_Cavalry_1_Byzantine = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Heavy_Cavalry_1_Byzantine, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Heavy_Cavalry_1_Byzantine, Condition( function Trig_Heavy_Cavalry_1_Byzantine_Conditions ) )
    call TriggerAddAction( gg_trg_Heavy_Cavalry_1_Byzantine, function Trig_Heavy_Cavalry_1_Byzantine_Actions )
endfunction

//===========================================================================
// Trigger: Heavy Cavalry 2 Byzantine
//===========================================================================
function Trig_Heavy_Cavalry_2_Byzantine_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00R' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00R', GetOwningPlayer(GetResearchingUnit())) == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Cavalry_2_Byzantine_Conditions takes nothing returns boolean
    if ( not Trig_Heavy_Cavalry_2_Byzantine_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Heavy_Cavalry_2_Byzantine_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h04F', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'h04E', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Heavy_Cavalry_2_Byzantine takes nothing returns nothing
    set gg_trg_Heavy_Cavalry_2_Byzantine = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Heavy_Cavalry_2_Byzantine, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Heavy_Cavalry_2_Byzantine, Condition( function Trig_Heavy_Cavalry_2_Byzantine_Conditions ) )
    call TriggerAddAction( gg_trg_Heavy_Cavalry_2_Byzantine, function Trig_Heavy_Cavalry_2_Byzantine_Actions )
endfunction

//===========================================================================
// Trigger: Skirmisher Byzantine
//===========================================================================
function Trig_Skirmisher_Byzantine_Func003C takes nothing returns boolean
    if ( not ( GetResearched() == 'R00P' ) ) then
        return false
    endif
    if ( not ( GetPlayerTechCountSimple('R00P', GetOwningPlayer(GetResearchingUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Skirmisher_Byzantine_Conditions takes nothing returns boolean
    if ( not Trig_Skirmisher_Byzantine_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Skirmisher_Byzantine_Actions takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'n008', true, GetOwningPlayer(GetResearchingUnit()) )
    call SetPlayerUnitAvailableBJ( 'n006', false, GetOwningPlayer(GetResearchingUnit()) )
endfunction

//===========================================================================
function InitTrig_Skirmisher_Byzantine takes nothing returns nothing
    set gg_trg_Skirmisher_Byzantine = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Skirmisher_Byzantine, EVENT_PLAYER_UNIT_RESEARCH_FINISH )
    call TriggerAddCondition( gg_trg_Skirmisher_Byzantine, Condition( function Trig_Skirmisher_Byzantine_Conditions ) )
    call TriggerAddAction( gg_trg_Skirmisher_Byzantine, function Trig_Skirmisher_Byzantine_Actions )
endfunction

//===========================================================================
// Trigger: Disabled units at beginning Copy
//===========================================================================
function Trig_Disabled_units_at_beginning_Copy_Func002A takes nothing returns nothing
    call SetPlayerUnitAvailableBJ( 'h04B', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h044', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h047', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h045', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h048', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h04E', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h04F', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'n00A', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'n009', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'n008', false, GetEnumPlayer() )
    call SetPlayerUnitAvailableBJ( 'h04N', false, GetEnumPlayer() )
endfunction

function Trig_Disabled_units_at_beginning_Copy_Actions takes nothing returns nothing
    set udg_AllPlayerUnits = GetPlayersAll()
    call ForForce( udg_AllPlayerUnits, function Trig_Disabled_units_at_beginning_Copy_Func002A )
endfunction

//===========================================================================
function InitTrig_Disabled_units_at_beginning_Copy takes nothing returns nothing
    set gg_trg_Disabled_units_at_beginning_Copy = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Disabled_units_at_beginning_Copy, 0.10 )
    call TriggerAddAction( gg_trg_Disabled_units_at_beginning_Copy, function Trig_Disabled_units_at_beginning_Copy_Actions )
endfunction

//===========================================================================
// Trigger: University Limit 12P
//===========================================================================
function Trig_University_Limit_12P_Actions takes nothing returns nothing
    set bj_forLoopAIndex = 0
    set bj_forLoopAIndexEnd = 21
    loop
        exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
        call SetPlayerTechMaxAllowedSwap( 'h015', 1, ConvertedPlayer(GetForLoopIndexA()) )
        set bj_forLoopAIndex = bj_forLoopAIndex + 1
    endloop
endfunction

//===========================================================================
function InitTrig_University_Limit_12P takes nothing returns nothing
    set gg_trg_University_Limit_12P = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_University_Limit_12P, 1.00 )
    call TriggerAddAction( gg_trg_University_Limit_12P, function Trig_University_Limit_12P_Actions )
endfunction

//===========================================================================
// Trigger: Structures finishes
//===========================================================================
function Trig_Structures_finishes_Actions takes nothing returns nothing
    call UnitRemoveAbilityBJ( 'A01Z', GetTriggerUnit() )
endfunction

//===========================================================================
function InitTrig_Structures_finishes takes nothing returns nothing
    set gg_trg_Structures_finishes = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Structures_finishes, EVENT_PLAYER_UNIT_CONSTRUCT_FINISH )
    call TriggerAddAction( gg_trg_Structures_finishes, function Trig_Structures_finishes_Actions )
endfunction

//===========================================================================
// Trigger: Settle
//===========================================================================
function Trig_Settle_Func001002 takes nothing returns nothing
    call ReplaceUnitBJ( GetEnumUnit(), 'h00I', bj_UNIT_STATE_METHOD_RELATIVE )
endfunction

function Trig_Settle_Actions takes nothing returns nothing
    call ForGroupBJ( GetUnitsOfTypeIdAll('h00J'), function Trig_Settle_Func001002 )
endfunction

//===========================================================================
function InitTrig_Settle takes nothing returns nothing
    set gg_trg_Settle = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Settle, 120.00 )
    call TriggerAddAction( gg_trg_Settle, function Trig_Settle_Actions )
endfunction

//===========================================================================
// Trigger: Settlement Range Check
//===========================================================================
function Trig_Settlement_Range_Check_Func006C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h00M' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Settlement_Range_Check_Conditions takes nothing returns boolean
    if ( not Trig_Settlement_Range_Check_Func006C() ) then
        return false
    endif
    return true
endfunction

function Trig_Settlement_Range_Check_Func003Func001Func001C takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnumUnit()) == GetOwningPlayer(GetTriggerUnit()) ) ) then
        return false
    endif
    if ( not ( GetEnumUnit() != GetTriggerUnit() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Settlement_Range_Check_Func003Func001Func002C takes nothing returns boolean
    return false
endfunction

function Trig_Settlement_Range_Check_Func003Func001C takes nothing returns boolean
    if ( not Trig_Settlement_Range_Check_Func003Func001Func001C() ) then
        return false
    endif
    if ( not Trig_Settlement_Range_Check_Func003Func001Func002C() ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) == 'h00M' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) == 'h042' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Settlement_Range_Check_Func003A takes nothing returns nothing
    if ( Trig_Settlement_Range_Check_Func003Func001C() ) then
        call KillUnit( GetTriggerUnit() )
        call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())), "TRIGSTR_1669" )
        call AdjustPlayerStateBJ( 100, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD )
        call AdjustPlayerStateBJ( 275, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER )
    else
    endif
endfunction

function Trig_Settlement_Range_Check_Actions takes nothing returns nothing
    set udg_BuildingRangeCheckPoint = GetUnitLoc(GetTriggerUnit())
    set udg_BuildingRangeCheck = GetUnitsInRangeOfLocAll(1500.00, udg_BuildingRangeCheckPoint)
    call ForGroupBJ( udg_BuildingRangeCheck, function Trig_Settlement_Range_Check_Func003A )
    call DestroyGroup(udg_BuildingRangeCheck)
    call RemoveLocation(udg_BuildingRangeCheckPoint)
endfunction

//===========================================================================
function InitTrig_Settlement_Range_Check takes nothing returns nothing
    set gg_trg_Settlement_Range_Check = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Settlement_Range_Check, EVENT_PLAYER_UNIT_CONSTRUCT_START )
    call TriggerAddCondition( gg_trg_Settlement_Range_Check, Condition( function Trig_Settlement_Range_Check_Conditions ) )
    call TriggerAddAction( gg_trg_Settlement_Range_Check, function Trig_Settlement_Range_Check_Actions )
endfunction

//===========================================================================
// Trigger: Church Range Check
//===========================================================================
function Trig_Church_Range_Check_Func006C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h011' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Church_Range_Check_Conditions takes nothing returns boolean
    if ( not Trig_Church_Range_Check_Func006C() ) then
        return false
    endif
    return true
endfunction

function Trig_Church_Range_Check_Func003Func001Func001C takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetEnumUnit()) == GetOwningPlayer(GetTriggerUnit()) ) ) then
        return false
    endif
    if ( not ( GetEnumUnit() != GetTriggerUnit() ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(GetEnumUnit()) == 'h011' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Church_Range_Check_Func003Func001C takes nothing returns boolean
    if ( not Trig_Church_Range_Check_Func003Func001Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Church_Range_Check_Func003A takes nothing returns nothing
    if ( Trig_Church_Range_Check_Func003Func001C() ) then
        call KillUnit( GetTriggerUnit() )
        call DisplayTextToForce( GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())), "TRIGSTR_1681" )
        call AdjustPlayerStateBJ( 100, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD )
        call AdjustPlayerStateBJ( 175, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER )
    else
    endif
endfunction

function Trig_Church_Range_Check_Actions takes nothing returns nothing
    set udg_BuildingRangeCheckPoint = GetUnitLoc(GetTriggerUnit())
    set udg_BuildingRangeCheck = GetUnitsInRangeOfLocAll(1500.00, udg_BuildingRangeCheckPoint)
    call ForGroupBJ( udg_BuildingRangeCheck, function Trig_Church_Range_Check_Func003A )
    call DestroyGroup(udg_BuildingRangeCheck)
    call RemoveLocation(udg_BuildingRangeCheckPoint)
endfunction

//===========================================================================
function InitTrig_Church_Range_Check takes nothing returns nothing
    set gg_trg_Church_Range_Check = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Church_Range_Check, EVENT_PLAYER_UNIT_CONSTRUCT_START )
    call TriggerAddCondition( gg_trg_Church_Range_Check, Condition( function Trig_Church_Range_Check_Conditions ) )
    call TriggerAddAction( gg_trg_Church_Range_Check, function Trig_Church_Range_Check_Actions )
endfunction

//===========================================================================
// Trigger: Settlement Aura
//===========================================================================
function Trig_Settlement_Aura_Func003C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h00M' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Settlement_Aura_Conditions takes nothing returns boolean
    if ( not Trig_Settlement_Aura_Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_Settlement_Aura_Actions takes nothing returns nothing
    call ReplaceUnitBJ( GetTriggerUnit(), 'h042', bj_UNIT_STATE_METHOD_RELATIVE )
    call UnitAddAbilityBJ( 'A02C', GetLastReplacedUnitBJ() )
endfunction

//===========================================================================
function InitTrig_Settlement_Aura takes nothing returns nothing
    set gg_trg_Settlement_Aura = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Settlement_Aura, EVENT_PLAYER_UNIT_CONSTRUCT_FINISH )
    call TriggerAddCondition( gg_trg_Settlement_Aura, Condition( function Trig_Settlement_Aura_Conditions ) )
    call TriggerAddAction( gg_trg_Settlement_Aura, function Trig_Settlement_Aura_Actions )
endfunction

//===========================================================================
// Trigger: Capitol City Hall Up Copy
//===========================================================================
function Trig_Capitol_City_Hall_Up_Copy_Func002C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h002' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Capitol_City_Hall_Up_Copy_Conditions takes nothing returns boolean
    if ( not Trig_Capitol_City_Hall_Up_Copy_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Capitol_City_Hall_Up_Copy_Actions takes nothing returns nothing
    call UnitAddAbilityBJ( 'A02B', GetTriggerUnit() )
endfunction

//===========================================================================
function InitTrig_Capitol_City_Hall_Up_Copy takes nothing returns nothing
    set gg_trg_Capitol_City_Hall_Up_Copy = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Capitol_City_Hall_Up_Copy, EVENT_PLAYER_UNIT_UPGRADE_FINISH )
    call TriggerAddCondition( gg_trg_Capitol_City_Hall_Up_Copy, Condition( function Trig_Capitol_City_Hall_Up_Copy_Conditions ) )
    call TriggerAddAction( gg_trg_Capitol_City_Hall_Up_Copy, function Trig_Capitol_City_Hall_Up_Copy_Actions )
endfunction

//===========================================================================
// Trigger: Capitol Castle T3
//===========================================================================
function Trig_Capitol_Castle_T3_Func002C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h003' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Capitol_Castle_T3_Conditions takes nothing returns boolean
    if ( not Trig_Capitol_Castle_T3_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Capitol_Castle_T3_Actions takes nothing returns nothing
    call UnitAddAbilityBJ( 'A02B', GetTriggerUnit() )
endfunction

//===========================================================================
function InitTrig_Capitol_Castle_T3 takes nothing returns nothing
    set gg_trg_Capitol_Castle_T3 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Capitol_Castle_T3, EVENT_PLAYER_UNIT_UPGRADE_FINISH )
    call TriggerAddCondition( gg_trg_Capitol_Castle_T3, Condition( function Trig_Capitol_Castle_T3_Conditions ) )
    call TriggerAddAction( gg_trg_Capitol_Castle_T3, function Trig_Capitol_Castle_T3_Actions )
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_Melee_Initialization(  )
    call InitTrig_F9(  )
    call InitTrig_Riot_OPTIMIZED(  )
    call InitTrig_Rioting_Spreading_FIXED(  )
    call InitTrig_Public_Order_Stabilize_START(  )
    call InitTrig_Public_Order_Stabilize_END(  )
    call InitTrig_Church_Unrest_Reduction_50(  )
    call InitTrig_Inn_Unrest_Reduction_10(  )
    call InitTrig_Cathedral_Unrest_Reduction_100(  )
    call InitTrig_University_Unrest_Reduction_75(  )
    call InitTrig_University_Unrest_Destruction_75(  )
    call InitTrig_Church_Unrest_Destruction_50(  )
    call InitTrig_Inn_Unrest_Destruction_10(  )
    call InitTrig_Cathedral_Unrest_Destruction_100(  )
    call InitTrig_Initial_Tally_12P(  )
    call InitTrig_Capturing_Ore_15g(  )
    call InitTrig_Capturing_Ore_25g(  )
    call InitTrig_Capturing_Ore_40g(  )
    call InitTrig_Capturing_Ore_50g(  )
    call InitTrig_Income_Timer(  )
    call InitTrig_Income_12P(  )
    call InitTrig_Income_Command_12P(  )
    call InitTrig_Control_Point_Upgrade_15g(  )
    call InitTrig_Control_Point_Upgrade_25g(  )
    call InitTrig_Control_Point_Upgrade_40g(  )
    call InitTrig_Control_Point_Upgrade_50g(  )
    call InitTrig_Capturing_Mine_15g(  )
    call InitTrig_Capturing_Mine_25g(  )
    call InitTrig_Capturing_Mine_40g(  )
    call InitTrig_Capturing_Mine_50g(  )
    call InitTrig_Capturing_Iron_Mine_20g(  )
    call InitTrig_Iron_Mine_Upgrade(  )
    call InitTrig_Mine_Pile_of_Iron(  )
    call InitTrig_Purchase_Pile_of_Iron(  )
    call InitTrig_Trade_Iron_Horse(  )
    call InitTrig_Trade_Iron_Ship(  )
    call InitTrig_Castle_Tier_1_Built(  )
    call InitTrig_Castle_Tier_2_Upgrade(  )
    call InitTrig_Castle_Tier_3_Upgrade(  )
    call InitTrig_Destroy_Castle_DUMMY_TAX_LOW(  )
    call InitTrig_Destroy_Castle_DUMMY_TAX_MED(  )
    call InitTrig_Destroy_Castle_DUMMY_TAX_HIGH(  )
    call InitTrig_Destroy_Castle_Tier_1(  )
    call InitTrig_Destroy_Castle_Tier_2(  )
    call InitTrig_Destroy_Castle_Tier_3(  )
    call InitTrig_City_Hall_Up(  )
    call InitTrig_Castle_1_To_Town_Hall(  )
    call InitTrig_Castle_2_To_City_Hall(  )
    call InitTrig_Turn_unres_2_Copy(  )
    call InitTrig_UNREST_SYSTEM_HIGH_TAX_Copy(  )
    call InitTrig_UNREST_SYSTEM_MED_TAX_Copy(  )
    call InitTrig_UNREST_SYSTEM_LOW_TAX_Copy(  )
    call InitTrig_High_Tax_FIX_Copy(  )
    call InitTrig_Medium_Tax_FIX_Copy(  )
    call InitTrig_Low_Tax_FIX_Copy(  )
    call InitTrig_Tax_Pay_Copy_12P(  )
    call InitTrig_Set_Tax_Values_12P(  )
    call InitTrig_Initial_upkeep_12P(  )
    call InitTrig_Stats_Command_12P(  )
    call InitTrig_Stats_Button(  )
    call InitTrig_Income_Copy_12P(  )
    call InitTrig_upkeep(  )
    call InitTrig_upkeep_2(  )
    call InitTrig_Trebuchet_Dies(  )
    call InitTrig_Spy_Sabotage_on_buildings(  )
    call InitTrig_Grant_Independence(  )
    call InitTrig_Independet_City_attackked(  )
    call InitTrig_Take_Independence(  )
    call InitTrig_CH_CAP_Low_Tax(  )
    call InitTrig_CH_CAP_Med_Tax(  )
    call InitTrig_CH_CAP_High_Tax(  )
    call InitTrig_TH_Cap_Low_Tax(  )
    call InitTrig_TH_Cap_Med_Tax(  )
    call InitTrig_TH_Cap_High_Tax(  )
    call InitTrig_Town_Hall_Death(  )
    call InitTrig_Capitol_Captured_From_Player(  )
    call InitTrig_Capitol_start_capture_West(  )
    call InitTrig_Convert_V2(  )
    call InitTrig_Gate_Opening(  )
    call InitTrig_Gate_Closing_WoodGate_V(  )
    call InitTrig_Gate_Closing_WoodGate_H(  )
    call InitTrig_Gate_Closing_IronGate_V(  )
    call InitTrig_Gate_Closing_IronGate_H(  )
    call InitTrig_Supply_Horses(  )
    call InitTrig_Supply_Horse_2(  )
    call InitTrig_Lumber_Horse_250(  )
    call InitTrig_Lumber_Horse_500(  )
    call InitTrig_Gold_Horse_250(  )
    call InitTrig_Gold_Horse_500(  )
    call InitTrig_Killing_trading_horse_l250(  )
    call InitTrig_Killing_trading_horse_l500(  )
    call InitTrig_Killing_trading_horse_g250(  )
    call InitTrig_Killing_trading_horse_g500(  )
    call InitTrig_Trading_Lumber_Ship(  )
    call InitTrig_Trading_Gold_Ship(  )
    call InitTrig_Trade(  )
    call InitTrig_killing_Gold_Ship(  )
    call InitTrig_killing_Lumber_Ship(  )
    call InitTrig_FarmHouse(  )
    call InitTrig_Thatched_Cottage_1(  )
    call InitTrig_Thatched_Cottage_2(  )
    call InitTrig_Thatched_Cottage_3(  )
    call InitTrig_Thatched_Cottage_4(  )
    call InitTrig_Spearmen_1(  )
    call InitTrig_Spearmen_2(  )
    call InitTrig_Heavy_Infantry_1(  )
    call InitTrig_Heavy_Infantry_2(  )
    call InitTrig_Archer_1(  )
    call InitTrig_Archer_2(  )
    call InitTrig_Light_Infantry_1(  )
    call InitTrig_Light_Infantry_2(  )
    call InitTrig_Pikemen_1(  )
    call InitTrig_Pikemen_2(  )
    call InitTrig_Light_Cavalry_1(  )
    call InitTrig_Light_Cavalry_2(  )
    call InitTrig_Heavy_Cavalry_1(  )
    call InitTrig_Heavy_Cavalry_2(  )
    call InitTrig_Skirmisher(  )
    call InitTrig_Arquebusers(  )
    call InitTrig_Supply_Horse(  )
    call InitTrig_Disabled_units_at_beginning(  )
    call InitTrig_Spearmen_1_Byzantine(  )
    call InitTrig_Spearmen_2_Byzantine(  )
    call InitTrig_Heavy_Infantry_1_Byzantine(  )
    call InitTrig_Heavy_Infantry_2_Byzantine(  )
    call InitTrig_Archer_1_Byzantine(  )
    call InitTrig_Archer_2_Byzantine(  )
    call InitTrig_Light_Cavalry_1_Byzantine(  )
    call InitTrig_Heavy_Cavalry_1_Byzantine(  )
    call InitTrig_Heavy_Cavalry_2_Byzantine(  )
    call InitTrig_Skirmisher_Byzantine(  )
    call InitTrig_Disabled_units_at_beginning_Copy(  )
    call InitTrig_University_Limit_12P(  )
    call InitTrig_Structures_finishes(  )
    call InitTrig_Settle(  )
    call InitTrig_Settlement_Range_Check(  )
    call InitTrig_Church_Range_Check(  )
    call InitTrig_Settlement_Aura(  )
    call InitTrig_Capitol_City_Hall_Up_Copy(  )
    call InitTrig_Capitol_Castle_T3(  )
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Melee_Initialization )
    call ConditionalTriggerExecute( gg_trg_Initial_Tally_12P )
    call ConditionalTriggerExecute( gg_trg_Trade )
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation( Player(0), 0 )
    call ForcePlayerStartLocation( Player(0), 0 )
    call SetPlayerColor( Player(0), ConvertPlayerColor(0) )
    call SetPlayerRacePreference( Player(0), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(0), false )
    call SetPlayerController( Player(0), MAP_CONTROL_USER )

    // Player 1
    call SetPlayerStartLocation( Player(1), 1 )
    call ForcePlayerStartLocation( Player(1), 1 )
    call SetPlayerColor( Player(1), ConvertPlayerColor(1) )
    call SetPlayerRacePreference( Player(1), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(1), false )
    call SetPlayerController( Player(1), MAP_CONTROL_USER )

    // Player 2
    call SetPlayerStartLocation( Player(2), 2 )
    call ForcePlayerStartLocation( Player(2), 2 )
    call SetPlayerColor( Player(2), ConvertPlayerColor(2) )
    call SetPlayerRacePreference( Player(2), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(2), false )
    call SetPlayerController( Player(2), MAP_CONTROL_USER )

    // Player 3
    call SetPlayerStartLocation( Player(3), 3 )
    call ForcePlayerStartLocation( Player(3), 3 )
    call SetPlayerColor( Player(3), ConvertPlayerColor(3) )
    call SetPlayerRacePreference( Player(3), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(3), false )
    call SetPlayerController( Player(3), MAP_CONTROL_USER )

    // Player 4
    call SetPlayerStartLocation( Player(4), 4 )
    call ForcePlayerStartLocation( Player(4), 4 )
    call SetPlayerColor( Player(4), ConvertPlayerColor(4) )
    call SetPlayerRacePreference( Player(4), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(4), false )
    call SetPlayerController( Player(4), MAP_CONTROL_USER )

    // Player 5
    call SetPlayerStartLocation( Player(5), 5 )
    call ForcePlayerStartLocation( Player(5), 5 )
    call SetPlayerColor( Player(5), ConvertPlayerColor(5) )
    call SetPlayerRacePreference( Player(5), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(5), false )
    call SetPlayerController( Player(5), MAP_CONTROL_USER )

    // Player 6
    call SetPlayerStartLocation( Player(6), 6 )
    call ForcePlayerStartLocation( Player(6), 6 )
    call SetPlayerColor( Player(6), ConvertPlayerColor(6) )
    call SetPlayerRacePreference( Player(6), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(6), false )
    call SetPlayerController( Player(6), MAP_CONTROL_USER )

    // Player 7
    call SetPlayerStartLocation( Player(7), 7 )
    call ForcePlayerStartLocation( Player(7), 7 )
    call SetPlayerColor( Player(7), ConvertPlayerColor(7) )
    call SetPlayerRacePreference( Player(7), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(7), false )
    call SetPlayerController( Player(7), MAP_CONTROL_USER )

    // Player 8
    call SetPlayerStartLocation( Player(8), 8 )
    call ForcePlayerStartLocation( Player(8), 8 )
    call SetPlayerColor( Player(8), ConvertPlayerColor(8) )
    call SetPlayerRacePreference( Player(8), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(8), false )
    call SetPlayerController( Player(8), MAP_CONTROL_USER )

    // Player 9
    call SetPlayerStartLocation( Player(9), 9 )
    call ForcePlayerStartLocation( Player(9), 9 )
    call SetPlayerColor( Player(9), ConvertPlayerColor(9) )
    call SetPlayerRacePreference( Player(9), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(9), false )
    call SetPlayerController( Player(9), MAP_CONTROL_USER )

    // Player 10
    call SetPlayerStartLocation( Player(10), 10 )
    call ForcePlayerStartLocation( Player(10), 10 )
    call SetPlayerColor( Player(10), ConvertPlayerColor(10) )
    call SetPlayerRacePreference( Player(10), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(10), false )
    call SetPlayerController( Player(10), MAP_CONTROL_USER )

    // Player 11
    call SetPlayerStartLocation( Player(11), 11 )
    call ForcePlayerStartLocation( Player(11), 11 )
    call SetPlayerColor( Player(11), ConvertPlayerColor(11) )
    call SetPlayerRacePreference( Player(11), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(11), false )
    call SetPlayerController( Player(11), MAP_CONTROL_USER )

    // Player 12
    call SetPlayerStartLocation( Player(12), 12 )
    call ForcePlayerStartLocation( Player(12), 12 )
    call SetPlayerColor( Player(12), ConvertPlayerColor(12) )
    call SetPlayerRacePreference( Player(12), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(12), false )
    call SetPlayerController( Player(12), MAP_CONTROL_USER )

    // Player 13
    call SetPlayerStartLocation( Player(13), 13 )
    call ForcePlayerStartLocation( Player(13), 13 )
    call SetPlayerColor( Player(13), ConvertPlayerColor(13) )
    call SetPlayerRacePreference( Player(13), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(13), false )
    call SetPlayerController( Player(13), MAP_CONTROL_USER )

    // Player 14
    call SetPlayerStartLocation( Player(14), 14 )
    call ForcePlayerStartLocation( Player(14), 14 )
    call SetPlayerColor( Player(14), ConvertPlayerColor(14) )
    call SetPlayerRacePreference( Player(14), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(14), false )
    call SetPlayerController( Player(14), MAP_CONTROL_USER )

    // Player 15
    call SetPlayerStartLocation( Player(15), 15 )
    call ForcePlayerStartLocation( Player(15), 15 )
    call SetPlayerColor( Player(15), ConvertPlayerColor(15) )
    call SetPlayerRacePreference( Player(15), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(15), false )
    call SetPlayerController( Player(15), MAP_CONTROL_USER )

    // Player 16
    call SetPlayerStartLocation( Player(16), 16 )
    call ForcePlayerStartLocation( Player(16), 16 )
    call SetPlayerColor( Player(16), ConvertPlayerColor(16) )
    call SetPlayerRacePreference( Player(16), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(16), false )
    call SetPlayerController( Player(16), MAP_CONTROL_USER )

    // Player 17
    call SetPlayerStartLocation( Player(17), 17 )
    call ForcePlayerStartLocation( Player(17), 17 )
    call SetPlayerColor( Player(17), ConvertPlayerColor(17) )
    call SetPlayerRacePreference( Player(17), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(17), false )
    call SetPlayerController( Player(17), MAP_CONTROL_USER )

    // Player 18
    call SetPlayerStartLocation( Player(18), 18 )
    call ForcePlayerStartLocation( Player(18), 18 )
    call SetPlayerColor( Player(18), ConvertPlayerColor(18) )
    call SetPlayerRacePreference( Player(18), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(18), false )
    call SetPlayerController( Player(18), MAP_CONTROL_USER )

    // Player 19
    call SetPlayerStartLocation( Player(19), 19 )
    call ForcePlayerStartLocation( Player(19), 19 )
    call SetPlayerColor( Player(19), ConvertPlayerColor(19) )
    call SetPlayerRacePreference( Player(19), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(19), false )
    call SetPlayerController( Player(19), MAP_CONTROL_USER )

    // Player 21
    call SetPlayerStartLocation( Player(21), 20 )
    call ForcePlayerStartLocation( Player(21), 20 )
    call SetPlayerColor( Player(21), ConvertPlayerColor(21) )
    call SetPlayerRacePreference( Player(21), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(21), false )
    call SetPlayerController( Player(21), MAP_CONTROL_USER )

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_2841
    call SetPlayerTeam( Player(0), 0 )
    call SetPlayerTeam( Player(1), 0 )
    call SetPlayerTeam( Player(2), 0 )
    call SetPlayerTeam( Player(3), 0 )
    call SetPlayerTeam( Player(4), 0 )
    call SetPlayerTeam( Player(5), 0 )
    call SetPlayerTeam( Player(6), 0 )
    call SetPlayerTeam( Player(7), 0 )
    call SetPlayerTeam( Player(8), 0 )
    call SetPlayerTeam( Player(9), 0 )
    call SetPlayerTeam( Player(10), 0 )
    call SetPlayerTeam( Player(11), 0 )

    // Force: TRIGSTR_2852
    call SetPlayerTeam( Player(12), 1 )
    call SetPlayerTeam( Player(13), 1 )
    call SetPlayerTeam( Player(14), 1 )
    call SetPlayerTeam( Player(15), 1 )
    call SetPlayerTeam( Player(16), 1 )
    call SetPlayerTeam( Player(17), 1 )
    call SetPlayerTeam( Player(18), 1 )
    call SetPlayerTeam( Player(19), 1 )
    call SetPlayerTeam( Player(21), 1 )

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetStartLocPrioCount( 0, 20 )
    call SetStartLocPrio( 0, 0, 1, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 1, 2, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 2, 3, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 3, 4, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 4, 5, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 5, 6, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 6, 7, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 7, 8, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 8, 9, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 9, 10, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 10, 11, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 11, 12, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 12, 13, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 13, 14, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 14, 15, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 15, 16, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 16, 17, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 17, 18, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 18, 19, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 19, 20, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 1, 9 )
    call SetStartLocPrio( 1, 0, 0, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 1, 1, 2, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 1, 2, 3, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 1, 3, 4, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 1, 4, 5, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 1, 5, 6, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 1, 6, 7, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 1, 7, 8, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 1, 8, 9, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 2, 9 )
    call SetStartLocPrio( 2, 0, 0, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 2, 1, 1, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 2, 2, 3, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 2, 3, 4, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 2, 4, 5, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 2, 5, 6, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 2, 6, 7, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 2, 7, 8, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 2, 8, 9, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 3, 9 )
    call SetStartLocPrio( 3, 0, 0, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 3, 1, 1, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 3, 2, 2, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 3, 3, 4, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 3, 4, 5, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 3, 5, 6, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 3, 6, 7, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 3, 7, 8, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 3, 8, 9, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 4, 9 )
    call SetStartLocPrio( 4, 0, 0, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 4, 1, 1, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 4, 2, 2, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 4, 3, 3, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 4, 4, 5, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 4, 5, 6, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 4, 6, 7, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 4, 7, 8, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 4, 8, 9, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 5, 9 )
    call SetStartLocPrio( 5, 0, 0, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 5, 1, 1, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 5, 2, 2, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 5, 3, 3, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 5, 4, 4, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 5, 5, 6, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 5, 6, 7, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 5, 7, 8, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 5, 8, 9, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 6, 9 )
    call SetStartLocPrio( 6, 0, 0, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 6, 1, 1, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 6, 2, 2, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 6, 3, 3, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 6, 4, 4, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 6, 5, 5, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 6, 6, 7, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 6, 7, 8, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 6, 8, 9, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 7, 9 )
    call SetStartLocPrio( 7, 0, 0, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 7, 1, 1, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 7, 2, 2, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 7, 3, 3, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 7, 4, 4, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 7, 5, 5, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 7, 6, 6, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 7, 7, 8, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 7, 8, 9, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 8, 9 )
    call SetStartLocPrio( 8, 0, 0, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 8, 1, 1, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 8, 2, 2, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 8, 3, 3, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 8, 4, 4, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 8, 5, 5, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 8, 6, 6, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 8, 7, 7, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 8, 8, 9, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 9, 9 )
    call SetStartLocPrio( 9, 0, 0, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 9, 1, 1, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 9, 2, 2, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 9, 3, 3, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 9, 4, 4, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 9, 5, 5, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 9, 6, 6, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 9, 7, 7, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 9, 8, 8, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 10, 16 )
    call SetStartLocPrio( 10, 0, 0, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 10, 1, 1, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 10, 2, 2, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 10, 3, 3, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 10, 4, 4, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 10, 5, 5, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 10, 6, 6, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 10, 7, 7, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 10, 8, 8, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 10, 9, 9, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 10, 10, 12, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 10, 11, 13, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 10, 12, 14, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 10, 13, 15, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 10, 14, 16, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 10, 15, 17, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 11, 20 )
    call SetStartLocPrio( 11, 0, 0, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 1, 1, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 2, 2, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 3, 3, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 4, 4, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 5, 5, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 6, 6, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 7, 7, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 8, 8, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 9, 9, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 10, 10, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 11, 12, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 12, 13, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 13, 14, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 14, 15, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 15, 16, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 16, 17, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 17, 18, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 18, 19, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 11, 19, 20, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 12, 5 )
    call SetStartLocPrio( 12, 0, 13, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 12, 1, 14, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 12, 2, 15, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 12, 3, 16, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 12, 4, 17, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 13, 5 )
    call SetStartLocPrio( 13, 0, 12, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 13, 1, 14, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 13, 2, 15, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 13, 3, 16, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 13, 4, 17, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 14, 5 )
    call SetStartLocPrio( 14, 0, 12, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 14, 1, 13, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 14, 2, 15, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 14, 3, 16, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 14, 4, 17, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 15, 5 )
    call SetStartLocPrio( 15, 0, 12, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 15, 1, 13, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 15, 2, 14, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 15, 3, 16, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 15, 4, 17, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 16, 5 )
    call SetStartLocPrio( 16, 0, 12, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 16, 1, 13, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 16, 2, 14, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 16, 3, 15, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 16, 4, 17, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 17, 5 )
    call SetStartLocPrio( 17, 0, 12, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 17, 1, 13, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 17, 2, 14, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 17, 3, 15, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 17, 4, 16, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 18, 2 )
    call SetStartLocPrio( 18, 0, 19, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 18, 1, 20, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 19, 2 )
    call SetStartLocPrio( 19, 0, 18, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 19, 1, 20, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 20, 2 )
    call SetStartLocPrio( 20, 0, 18, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 20, 1, 19, MAP_LOC_PRIO_HIGH )
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds( -30720.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -30720.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 30720.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 30720.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -30720.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 30720.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 30720.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -30720.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM) )
    call SetDayNightModels( "Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl" )
    call NewSoundEnvironment( "Default" )
    call SetAmbientDaySound( "LordaeronSummerDay" )
    call SetAmbientNightSound( "LordaeronSummerNight" )
    call SetMapMusic( "Music", true, 0 )
    call InitSounds(  )
    call CreateRegions(  )
    call CreateAllUnits(  )
    call InitBlizzard(  )
    call InitGlobals(  )
    call InitCustomTriggers(  )
    call RunInitializationTriggers(  )

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName( "TRIGSTR_001" )
    call SetMapDescription( "TRIGSTR_003" )
    call SetPlayers( 21 )
    call SetTeams( 21 )
    call SetGamePlacement( MAP_PLACEMENT_TEAMS_TOGETHER )

    call DefineStartLocation( 0, 320.0, 5184.0 )
    call DefineStartLocation( 1, 320.0, 5184.0 )
    call DefineStartLocation( 2, 320.0, 5184.0 )
    call DefineStartLocation( 3, 320.0, 5184.0 )
    call DefineStartLocation( 4, 320.0, 5184.0 )
    call DefineStartLocation( 5, 320.0, 5184.0 )
    call DefineStartLocation( 6, 320.0, 5184.0 )
    call DefineStartLocation( 7, 320.0, 5184.0 )
    call DefineStartLocation( 8, 320.0, 5184.0 )
    call DefineStartLocation( 9, 320.0, 5184.0 )
    call DefineStartLocation( 10, 320.0, 5184.0 )
    call DefineStartLocation( 11, 320.0, 5184.0 )
    call DefineStartLocation( 12, 320.0, 5184.0 )
    call DefineStartLocation( 13, 320.0, 5184.0 )
    call DefineStartLocation( 14, 320.0, 5184.0 )
    call DefineStartLocation( 15, 320.0, 5184.0 )
    call DefineStartLocation( 16, 320.0, 5184.0 )
    call DefineStartLocation( 17, 320.0, 5184.0 )
    call DefineStartLocation( 18, 320.0, 5184.0 )
    call DefineStartLocation( 19, 320.0, 5184.0 )
    call DefineStartLocation( 20, 320.0, 5184.0 )

    // Player setup
    call InitCustomPlayerSlots(  )
    call InitCustomTeams(  )
    call InitAllyPriorities(  )
endfunction

